import O from"./D50w63QZ.js";import{_ as V}from"./Dv06idKF.js";import{d as D,s as p,C as v,az as T,l as j,ak as U,P as m,S as _,Z as $,U as q,aA as z,r as L,o as N,c as F,w as f,E as y,b as e,G as g,m as G,O as i,n as h,j as H}from"./CmfzVdrr.js";import"./Ccpt04WP.js";import"./CpY-ecYb.js";import"./4V-YWko9.js";const R={class:"teaser"},Z=["src"],J=D({__name:"Teaser",props:{teaser:{type:Object,required:!0},video:{type:Object,required:!0}},async setup(l){let a,u;const w=l,{el:c,isFullscreen:P}=p(v()),{updateProgress:b,pause:E,play:M,fadeInAudio:x}=v(),t=T("trailerPlaying"),{onUi:o}=p(j()),{idle:A}=U(2e3),d=m();_(t,s=>{s?(o.value=!1,n.value.currentTime=0,x(.1),M()):(o.value=!0,E())}),_(P,s=>{s||(t.value=!1)});const n=m(),{url:S}=([a,u]=$(()=>$fetch.raw(w.video.src,{method:"HEAD"})),a=await a,u(),a);return q(()=>{d.value=z()||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),c.value=n.value,c.value.addEventListener("timeupdate",s=>{b(s.target)})}),(s,r)=>{const k=O,B=V,C=L("pad");return N(),F("div",R,[f(g(k,G({...l.teaser,autoplay:!0},{theme:"full-page"}),null,16),[[y,!e(t)]]),i("div",{class:h(["trailer",{"sr-only":!e(t),"trailer-mobile":e(d)}])},[i("video",{ref_key:"trailer",ref:n,playsinline:"",crossorigin:"anonymous"},[i("source",{src:e(S),type:"video/mp4"},null,8,Z)],512),f(g(B,{class:h(["video-controls",{hidden:!e(o)&&e(A)}]),onMouseenter:r[0]||(r[0]=I=>o.value=!0),onMouseleave:r[1]||(r[1]=I=>o.value=!1),showMute:!0},null,8,["class"]),[[C,"s"],[y,e(t)]])],2)])}}}),se=H(J,[["__scopeId","data-v-7a7f4378"]]);export{se as default};
