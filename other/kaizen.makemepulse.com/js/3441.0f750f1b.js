"use strict";(self["webpackChunkgl_starter"]=self["webpackChunkgl_starter"]||[]).push([[3441],{12875:function(e,a,t){t.d(a,{Z:function(){return b}});var l=t(98198),o=t(66252),s=t(49963),n=t(3577),u=t(2262),i=t(62642),r=t(80313);const c={class:"front"},d=0;var v=(0,o.aZ)({__name:"CTACursor",props:{label:{type:String,default:""},show:{type:Boolean,default:!0},focusable:{type:Boolean,default:!1}},setup(e){const a=e,t=(0,u.iH)(null),v=(0,u.iH)(null),p=(0,o.Fl)((()=>a.label||r.ZP.options.label)),f=(e,a)=>{const t=i["default"].utils.selector(e);i["default"].timeline({onComplete:a,delay:d}).fromTo(t(".background"),{scale:0},{scale:1,duration:.25,ease:"back.out"}).fromTo(t(".cursor-label"),{opacity:0,scale:0},{opacity:1,scale:1,duration:.35,ease:"quart.out"},0)},b=(e,a)=>{const t=i["default"].utils.selector(e);i["default"].timeline({onComplete:a}).to(t(".background"),{scale:0,duration:.5,ease:"power4.out"}).to(t(".cursor-label"),{opacity:0,scale:0,duration:.5,ease:"power4.out"},"-=0.5")};return(u,i)=>{const r=l.Z;return(0,o.wg)(),(0,o.j4)(s.uT,{css:!1,mode:"out-in",onEnter:f,onLeave:b,appear:""},{default:(0,o.w5)((()=>[a.show?((0,o.wg)(),(0,o.iD)("div",(0,o.dG)({key:0,class:["cursor-cta",{focusable:e.focusable}]},e.focusable?{tabindex:0}:{}),[(0,o._)("div",{class:"background",ref_key:"backgroundEl",ref:t},null,512),(0,o._)("div",c,[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o._)("div",{class:"cursor-label body-s o-hidden",ref_key:"labelEl",ref:v},(0,n.zw)(p.value),513)])),_:1})])],16)):(0,o.kq)("",!0)])),_:1})}}}),p=t(83744);const f=(0,p.Z)(v,[["__scopeId","data-v-07446b5c"]]);var b=f},94811:function(e,a,t){t.r(a),t.d(a,{default:function(){return H}});var l=t(66252),o=t(2262),s=t(35697),n=t(80313),u=t(97703),i=t(82027),r=t(39650),c=t(2246),d=t(98198),v=t(49963),p=t(3577),f=t(91714),b=t(41379),_=t(38348),m=t(7026),y=t(25409);const k={class:"icon-animal"};var w=(0,l.aZ)({__name:"PortailMenuItem",props:{stepId:{},active:{type:Boolean},disabled:{type:Boolean}},setup(e){_.gsap.registerPlugin(m.C);const a=e,t=(0,i.b)("step"),{t:u}=(0,s.QT)(),r=(0,o.iH)(null),c=(0,o.iH)(null),v=(0,o.iH)(null),w=(0,l.Fl)((()=>u(`scene-${a.stepId+1}.title`)));let g=null;const I=async()=>{await(0,l.Y3)();const e=new m.C(v.value,{type:"chars",charsClass:"Letter__Parent"});g=_.gsap.timeline({paused:!0}),g.to(e.chars,{yPercent:-200,modifiers:{yPercent(e){return e<=-100?200+e:e}},duration:.75,stagger:.05,ease:"quart.inOut"})},C=()=>{var e;null===(e=r.value)||void 0===e||e.blur(),y["default"].playUI("kaizen_cta_alt")},U=()=>{var e;(0,n.KJ)(n.Vi.DEFAULT),(0,n.KM)(!0),y["default"].playUI("kaizen_hover"),null===(e=c.value)||void 0===e||e.play()},h=()=>{var e;(0,n.KM)(!1),a.active||null===(e=c.value)||void 0===e||e.pause()},S=()=>{var e,t;a.active?null===(e=c.value)||void 0===e||e.play():null===(t=c.value)||void 0===t||t.pause()};return(0,l.YP)((()=>a.active),S),(0,l.YP)((()=>a.active),(e=>{e&&(t.value>a.stepId?null===g||void 0===g||g.play():null===g||void 0===g||g.reverse(g.duration()))})),(0,l.bv)((async()=>{(0,l.Y3)((()=>{S()})),await I()})),(e,t)=>{const s=d.Z,n=b.Z;return(0,l.wg)(),(0,l.iD)("a",{ref_key:"rootRef",ref:r,href:"#",class:(0,p.C_)(["portail-menu-item",{disabled:e.disabled}]),onClick:C,onMouseenter:U,onMouseleave:h,onFocusin:U,onFocusout:h},[(0,l.Wm)(s,{class:"body-s o-hidden"},{default:(0,l.w5)((()=>[(0,l._)("div",{ref_key:"titleRef",ref:v},(0,p.zw)(w.value),513)])),_:1}),(0,l._)("div",k,[(0,l.Wm)(n,{nbFrames:(0,o.SU)(f.Y)[(0,o.SU)(f.$)[a.stepId]].nbFrames,framerate:(0,o.SU)(f.Y)[(0,o.SU)(f.$)[a.stepId]].framerate,src:`/assets/images/animals/${(0,o.SU)(f.$)[a.stepId]}_blue`,autoplay:!1,ref_key:"playerRef",ref:c},null,8,["nbFrames","framerate","src"])])],34)}}}),g=t(83744);const I=(0,g.Z)(w,[["__scopeId","data-v-71f8566a"]]);var C=I;const U={class:"portail-menu body-s"};var h=(0,l.aZ)({__name:"PortailMenu",emits:["keyboardNav"],setup(e,{emit:a}){const t=(0,i.b)("step"),n=(0,o.iH)(t.value),{t:r}=(0,s.QT)(),c=a,b=(0,l.Fl)((()=>r(`scene-${t.value+1}.title`))),_=(e,a)=>{c("keyboardNav",0===e.detail),n.value=a;const t=u["default"].Scene.activities.active[0];t.gotoArchive(a)},m=(0,l.Fl)((()=>{const e=u["default"].Scene.activities.active[0];return!e.canChangeStep.value}));return(0,l.YP)(t,((e,a)=>{e!==n.value&&(n.value=e)})),(e,a)=>{const s=d.Z;return(0,l.wg)(),(0,l.iD)("div",U,[(0,l.Wm)(v.uT,{name:"fade",mode:"out-in",appear:""},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)(s,{class:"step-title body-s o-hidden",key:`step-title-${(0,o.SU)(t)}`},{default:(0,l.w5)((()=>[(0,l.Uk)((0,p.zw)(b.value),1)])),_:1}))])),_:1}),(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,o.SU)(f.$),((e,a)=>((0,l.wg)(),(0,l.iD)("li",{key:a},[(0,l.Wm)(C,{class:(0,p.C_)({"is-active":a===n.value}),stepId:a,active:a===n.value,disabled:m.value,onClick:e=>_(e,a)},null,8,["class","stepId","active","disabled","onClick"])])))),128))])])}}});const S=(0,g.Z)(h,[["__scopeId","data-v-96626ec0"]]);var Z=S,D=t(12875),F=t(49840),T=t(31512);const A={class:"portail-container"},M=1e4,P=.5,E=.75;var L=(0,l.aZ)({__name:"Portail",setup(e){const a=(0,i.b)("step"),{t:t}=(0,s.QT)(),d=(0,o.iH)(!1),v=(0,l.Fl)((()=>r["default"].windowWidth>768?"bottom":"top")),p=(0,l.Fl)((()=>F.Bb.isSubtitleShowed)),f=()=>{(0,F.AF)(!1)},b=()=>{u["default"].state.send("LEAVE_PORTAIL",{sceneId:a.value+1}),(0,n.KJ)(n.Vi.DEFAULT)},_=(0,o.iH)(r["default"].isDesktop),m=async()=>{if(await(0,c.Z)(M),_.value){const e=u["default"].Scene.activities.active[0];await(null===e||void 0===e?void 0:e.onNavigation("down")),await m()}};return(0,l.YP)(a,((e,a)=>{const t=String.fromCharCode(Math.floor(3*Math.random())+97),l=e+1;y["default"].playPortal(l,t,P)})),(0,l.bv)((()=>{(0,n.KJ)(n.Vi.DEFAULT,{theme:n.xs.DEFAULT}),m(),y["default"].fadeIn(y.AUDIO_ID.AMBIENT_CONCLUSION,E)})),(0,l.Ah)((()=>{y["default"].fadeOut(y.AUDIO_ID.AMBIENT_CONCLUSION)})),(0,l.Jd)((()=>{_.value=!1,(0,n.z8)(!0)})),(e,a)=>((0,l.wg)(),(0,l.iD)("div",A,[p.value?((0,l.wg)(),(0,l.j4)(T.Z,{key:0,position:v.value,theme:"dark-blue",onCompleted:f},null,8,["position"])):(0,l.kq)("",!0),(0,l.Wm)(Z,{onMouseenter:a[0]||(a[0]=()=>{_.value=!1}),onMouseleave:a[1]||(a[1]=()=>{_.value=!0}),onKeyboardNav:a[2]||(a[2]=e=>d.value=e)}),(0,l._)("div",{class:"click-area",onMouseenter:a[3]||(a[3]=e=>{(0,o.SU)(n.KJ)((0,o.SU)(n.Vi).CTA,{label:(0,o.SU)(t)("global.cta_enter")})}),onMouseleave:a[4]||(a[4]=e=>{(0,o.SU)(n.z8)()}),onClick:b},null,32),(0,o.SU)(r["default"]).isMobile||d.value?((0,l.wg)(),(0,l.iD)("div",{key:1,class:"next-btn",onClick:b},[(0,l.Wm)(D.Z,{label:(0,o.SU)(t)("global.cta_enter"),focusable:""},null,8,["label"])])):(0,l.kq)("",!0)]))}});const N=(0,g.Z)(L,[["__scopeId","data-v-64894016"]]);var H=N}}]);
//# sourceMappingURL=3441.0f750f1b.js.map