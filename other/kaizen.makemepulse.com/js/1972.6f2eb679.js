(self["webpackChunkgl_starter"]=self["webpackChunkgl_starter"]||[]).push([[1972,9320],{63887:function(t,n,e){e(62179),e(32274),e(64735),n.mat3=e(72366),n.mat4=e(35189),n.quat=e(58240),n.vec2=e(43095),n.vec3=e(23128),n.vec4=e(79822)},62179:function(t){var n={EPSILON:1e-6};n.ARRAY_TYPE="undefined"!==typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.setMatrixArrayType=function(t){GLMAT_ARRAY_TYPE=t};var e=Math.PI/180;n.toRadian=function(t){return t*e},t.exports=n},32274:function(t,n,e){var r=e(62179),i={create:function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},clone:function(t){var n=new r.ARRAY_TYPE(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},copy:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},transpose:function(t,n){if(t===n){var e=n[1];t[1]=n[2],t[2]=e}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t},invert:function(t,n){var e=n[0],r=n[1],i=n[2],s=n[3],a=e*s-i*r;return a?(a=1/a,t[0]=s*a,t[1]=-r*a,t[2]=-i*a,t[3]=e*a,t):null},adjoint:function(t,n){var e=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=e,t},determinant:function(t){return t[0]*t[3]-t[2]*t[1]},multiply:function(t,n,e){var r=n[0],i=n[1],s=n[2],a=n[3],o=e[0],h=e[1],u=e[2],c=e[3];return t[0]=r*o+s*h,t[1]=i*o+a*h,t[2]=r*u+s*c,t[3]=i*u+a*c,t}};i.mul=i.multiply,i.rotate=function(t,n,e){var r=n[0],i=n[1],s=n[2],a=n[3],o=Math.sin(e),h=Math.cos(e);return t[0]=r*h+s*o,t[1]=i*h+a*o,t[2]=r*-o+s*h,t[3]=i*-o+a*h,t},i.scale=function(t,n,e){var r=n[0],i=n[1],s=n[2],a=n[3],o=e[0],h=e[1];return t[0]=r*o,t[1]=i*o,t[2]=s*h,t[3]=a*h,t},i.fromRotation=function(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=-e,t[3]=r,t},i.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t},i.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},i.LDU=function(t,n,e,r){return t[2]=r[2]/r[0],e[0]=r[0],e[1]=r[1],e[3]=r[3]-t[2]*e[1],[t,n,e]},t.exports=i},64735:function(t,n,e){var r=e(62179),i={create:function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},clone:function(t){var n=new r.ARRAY_TYPE(6);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n},copy:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},invert:function(t,n){var e=n[0],r=n[1],i=n[2],s=n[3],a=n[4],o=n[5],h=e*s-r*i;return h?(h=1/h,t[0]=s*h,t[1]=-r*h,t[2]=-i*h,t[3]=e*h,t[4]=(i*o-s*a)*h,t[5]=(r*a-e*o)*h,t):null},determinant:function(t){return t[0]*t[3]-t[1]*t[2]},multiply:function(t,n,e){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],h=n[5],u=e[0],c=e[1],l=e[2],d=e[3],f=e[4],_=e[5];return t[0]=r*u+s*c,t[1]=i*u+a*c,t[2]=r*l+s*d,t[3]=i*l+a*d,t[4]=r*f+s*_+o,t[5]=i*f+a*_+h,t}};i.mul=i.multiply,i.rotate=function(t,n,e){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],h=n[5],u=Math.sin(e),c=Math.cos(e);return t[0]=r*c+s*u,t[1]=i*c+a*u,t[2]=r*-u+s*c,t[3]=i*-u+a*c,t[4]=o,t[5]=h,t},i.scale=function(t,n,e){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],h=n[5],u=e[0],c=e[1];return t[0]=r*u,t[1]=i*u,t[2]=s*c,t[3]=a*c,t[4]=o,t[5]=h,t},i.translate=function(t,n,e){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],h=n[5],u=e[0],c=e[1];return t[0]=r,t[1]=i,t[2]=s,t[3]=a,t[4]=r*u+s*c+o,t[5]=i*u+a*c+h,t},i.fromRotation=function(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=-e,t[3]=r,t[4]=0,t[5]=0,t},i.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t[4]=0,t[5]=0,t},i.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=n[0],t[5]=n[1],t},i.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},t.exports=i},72366:function(t,n,e){var r=e(62179),i={create:function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromMat4:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t},clone:function(t){var n=new r.ARRAY_TYPE(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n},copy:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},transpose:function(t,n){if(t===n){var e=n[1],r=n[2],i=n[5];t[1]=n[3],t[2]=n[6],t[3]=e,t[5]=n[7],t[6]=r,t[7]=i}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t},invert:function(t,n){var e=n[0],r=n[1],i=n[2],s=n[3],a=n[4],o=n[5],h=n[6],u=n[7],c=n[8],l=c*a-o*u,d=-c*s+o*h,f=u*s-a*h,_=e*l+r*d+i*f;return _?(_=1/_,t[0]=l*_,t[1]=(-c*r+i*u)*_,t[2]=(o*r-i*a)*_,t[3]=d*_,t[4]=(c*e-i*h)*_,t[5]=(-o*e+i*s)*_,t[6]=f*_,t[7]=(-u*e+r*h)*_,t[8]=(a*e-r*s)*_,t):null},adjoint:function(t,n){var e=n[0],r=n[1],i=n[2],s=n[3],a=n[4],o=n[5],h=n[6],u=n[7],c=n[8];return t[0]=a*c-o*u,t[1]=i*u-r*c,t[2]=r*o-i*a,t[3]=o*h-s*c,t[4]=e*c-i*h,t[5]=i*s-e*o,t[6]=s*u-a*h,t[7]=r*h-e*u,t[8]=e*a-r*s,t},determinant:function(t){var n=t[0],e=t[1],r=t[2],i=t[3],s=t[4],a=t[5],o=t[6],h=t[7],u=t[8];return n*(u*s-a*h)+e*(-u*i+a*o)+r*(h*i-s*o)},multiply:function(t,n,e){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],h=n[5],u=n[6],c=n[7],l=n[8],d=e[0],f=e[1],_=e[2],m=e[3],v=e[4],p=e[5],g=e[6],M=e[7],T=e[8];return t[0]=d*r+f*a+_*u,t[1]=d*i+f*o+_*c,t[2]=d*s+f*h+_*l,t[3]=m*r+v*a+p*u,t[4]=m*i+v*o+p*c,t[5]=m*s+v*h+p*l,t[6]=g*r+M*a+T*u,t[7]=g*i+M*o+T*c,t[8]=g*s+M*h+T*l,t}};i.mul=i.multiply,i.translate=function(t,n,e){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],h=n[5],u=n[6],c=n[7],l=n[8],d=e[0],f=e[1];return t[0]=r,t[1]=i,t[2]=s,t[3]=a,t[4]=o,t[5]=h,t[6]=d*r+f*a+u,t[7]=d*i+f*o+c,t[8]=d*s+f*h+l,t},i.rotate=function(t,n,e){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],h=n[5],u=n[6],c=n[7],l=n[8],d=Math.sin(e),f=Math.cos(e);return t[0]=f*r+d*a,t[1]=f*i+d*o,t[2]=f*s+d*h,t[3]=f*a-d*r,t[4]=f*o-d*i,t[5]=f*h-d*s,t[6]=u,t[7]=c,t[8]=l,t},i.scale=function(t,n,e){var r=e[0],i=e[1];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=i*n[3],t[4]=i*n[4],t[5]=i*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},i.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t},i.fromRotation=function(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=-e,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat2d=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},i.fromQuat=function(t,n){var e=n[0],r=n[1],i=n[2],s=n[3],a=e+e,o=r+r,h=i+i,u=e*a,c=r*a,l=r*o,d=i*a,f=i*o,_=i*h,m=s*a,v=s*o,p=s*h;return t[0]=1-l-_,t[3]=c-p,t[6]=d+v,t[1]=c+p,t[4]=1-u-_,t[7]=f-m,t[2]=d-v,t[5]=f+m,t[8]=1-u-l,t},i.normalFromMat4=function(t,n){var e=n[0],r=n[1],i=n[2],s=n[3],a=n[4],o=n[5],h=n[6],u=n[7],c=n[8],l=n[9],d=n[10],f=n[11],_=n[12],m=n[13],v=n[14],p=n[15],g=e*o-r*a,M=e*h-i*a,T=e*u-s*a,E=r*h-i*o,x=r*u-s*o,A=i*u-s*h,S=c*m-l*_,w=c*v-d*_,R=c*p-f*_,b=l*v-d*m,y=l*p-f*m,C=d*p-f*v,D=g*C-M*y+T*b+E*R-x*w+A*S;return D?(D=1/D,t[0]=(o*C-h*y+u*b)*D,t[1]=(h*R-a*C-u*w)*D,t[2]=(a*y-o*R+u*S)*D,t[3]=(i*y-r*C-s*b)*D,t[4]=(e*C-i*R+s*w)*D,t[5]=(r*R-e*y-s*S)*D,t[6]=(m*A-v*x+p*E)*D,t[7]=(v*T-_*A-p*M)*D,t[8]=(_*x-m*T+p*g)*D,t):null},i.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},t.exports=i},35189:function(t,n,e){var r=e(62179),i={create:function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},clone:function(t){var n=new r.ARRAY_TYPE(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n},copy:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},transpose:function(t,n){if(t===n){var e=n[1],r=n[2],i=n[3],s=n[6],a=n[7],o=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=s,t[11]=n[14],t[12]=i,t[13]=a,t[14]=o}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t},invert:function(t,n){var e=n[0],r=n[1],i=n[2],s=n[3],a=n[4],o=n[5],h=n[6],u=n[7],c=n[8],l=n[9],d=n[10],f=n[11],_=n[12],m=n[13],v=n[14],p=n[15],g=e*o-r*a,M=e*h-i*a,T=e*u-s*a,E=r*h-i*o,x=r*u-s*o,A=i*u-s*h,S=c*m-l*_,w=c*v-d*_,R=c*p-f*_,b=l*v-d*m,y=l*p-f*m,C=d*p-f*v,D=g*C-M*y+T*b+E*R-x*w+A*S;return D?(D=1/D,t[0]=(o*C-h*y+u*b)*D,t[1]=(i*y-r*C-s*b)*D,t[2]=(m*A-v*x+p*E)*D,t[3]=(d*x-l*A-f*E)*D,t[4]=(h*R-a*C-u*w)*D,t[5]=(e*C-i*R+s*w)*D,t[6]=(v*T-_*A-p*M)*D,t[7]=(c*A-d*T+f*M)*D,t[8]=(a*y-o*R+u*S)*D,t[9]=(r*R-e*y-s*S)*D,t[10]=(_*x-m*T+p*g)*D,t[11]=(l*T-c*x-f*g)*D,t[12]=(o*w-a*b-h*S)*D,t[13]=(e*b-r*w+i*S)*D,t[14]=(m*M-_*E-v*g)*D,t[15]=(c*E-l*M+d*g)*D,t):null},adjoint:function(t,n){var e=n[0],r=n[1],i=n[2],s=n[3],a=n[4],o=n[5],h=n[6],u=n[7],c=n[8],l=n[9],d=n[10],f=n[11],_=n[12],m=n[13],v=n[14],p=n[15];return t[0]=o*(d*p-f*v)-l*(h*p-u*v)+m*(h*f-u*d),t[1]=-(r*(d*p-f*v)-l*(i*p-s*v)+m*(i*f-s*d)),t[2]=r*(h*p-u*v)-o*(i*p-s*v)+m*(i*u-s*h),t[3]=-(r*(h*f-u*d)-o*(i*f-s*d)+l*(i*u-s*h)),t[4]=-(a*(d*p-f*v)-c*(h*p-u*v)+_*(h*f-u*d)),t[5]=e*(d*p-f*v)-c*(i*p-s*v)+_*(i*f-s*d),t[6]=-(e*(h*p-u*v)-a*(i*p-s*v)+_*(i*u-s*h)),t[7]=e*(h*f-u*d)-a*(i*f-s*d)+c*(i*u-s*h),t[8]=a*(l*p-f*m)-c*(o*p-u*m)+_*(o*f-u*l),t[9]=-(e*(l*p-f*m)-c*(r*p-s*m)+_*(r*f-s*l)),t[10]=e*(o*p-u*m)-a*(r*p-s*m)+_*(r*u-s*o),t[11]=-(e*(o*f-u*l)-a*(r*f-s*l)+c*(r*u-s*o)),t[12]=-(a*(l*v-d*m)-c*(o*v-h*m)+_*(o*d-h*l)),t[13]=e*(l*v-d*m)-c*(r*v-i*m)+_*(r*d-i*l),t[14]=-(e*(o*v-h*m)-a*(r*v-i*m)+_*(r*h-i*o)),t[15]=e*(o*d-h*l)-a*(r*d-i*l)+c*(r*h-i*o),t},determinant:function(t){var n=t[0],e=t[1],r=t[2],i=t[3],s=t[4],a=t[5],o=t[6],h=t[7],u=t[8],c=t[9],l=t[10],d=t[11],f=t[12],_=t[13],m=t[14],v=t[15],p=n*a-e*s,g=n*o-r*s,M=n*h-i*s,T=e*o-r*a,E=e*h-i*a,x=r*h-i*o,A=u*_-c*f,S=u*m-l*f,w=u*v-d*f,R=c*m-l*_,b=c*v-d*_,y=l*v-d*m;return p*y-g*b+M*R+T*w-E*S+x*A},multiply:function(t,n,e){var r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],h=n[5],u=n[6],c=n[7],l=n[8],d=n[9],f=n[10],_=n[11],m=n[12],v=n[13],p=n[14],g=n[15],M=e[0],T=e[1],E=e[2],x=e[3];return t[0]=M*r+T*o+E*l+x*m,t[1]=M*i+T*h+E*d+x*v,t[2]=M*s+T*u+E*f+x*p,t[3]=M*a+T*c+E*_+x*g,M=e[4],T=e[5],E=e[6],x=e[7],t[4]=M*r+T*o+E*l+x*m,t[5]=M*i+T*h+E*d+x*v,t[6]=M*s+T*u+E*f+x*p,t[7]=M*a+T*c+E*_+x*g,M=e[8],T=e[9],E=e[10],x=e[11],t[8]=M*r+T*o+E*l+x*m,t[9]=M*i+T*h+E*d+x*v,t[10]=M*s+T*u+E*f+x*p,t[11]=M*a+T*c+E*_+x*g,M=e[12],T=e[13],E=e[14],x=e[15],t[12]=M*r+T*o+E*l+x*m,t[13]=M*i+T*h+E*d+x*v,t[14]=M*s+T*u+E*f+x*p,t[15]=M*a+T*c+E*_+x*g,t}};i.mul=i.multiply,i.translate=function(t,n,e){var r,i,s,a,o,h,u,c,l,d,f,_,m=e[0],v=e[1],p=e[2];return n===t?(t[12]=n[0]*m+n[4]*v+n[8]*p+n[12],t[13]=n[1]*m+n[5]*v+n[9]*p+n[13],t[14]=n[2]*m+n[6]*v+n[10]*p+n[14],t[15]=n[3]*m+n[7]*v+n[11]*p+n[15]):(r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],h=n[5],u=n[6],c=n[7],l=n[8],d=n[9],f=n[10],_=n[11],t[0]=r,t[1]=i,t[2]=s,t[3]=a,t[4]=o,t[5]=h,t[6]=u,t[7]=c,t[8]=l,t[9]=d,t[10]=f,t[11]=_,t[12]=r*m+o*v+l*p+n[12],t[13]=i*m+h*v+d*p+n[13],t[14]=s*m+u*v+f*p+n[14],t[15]=a*m+c*v+_*p+n[15]),t},i.scale=function(t,n,e){var r=e[0],i=e[1],s=e[2];return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=n[7]*i,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=n[11]*s,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},i.rotate=function(t,n,e,i){var s,a,o,h,u,c,l,d,f,_,m,v,p,g,M,T,E,x,A,S,w,R,b,y,C=i[0],D=i[1],F=i[2],P=Math.sqrt(C*C+D*D+F*F);return Math.abs(P)<r.EPSILON?null:(P=1/P,C*=P,D*=P,F*=P,s=Math.sin(e),a=Math.cos(e),o=1-a,h=n[0],u=n[1],c=n[2],l=n[3],d=n[4],f=n[5],_=n[6],m=n[7],v=n[8],p=n[9],g=n[10],M=n[11],T=C*C*o+a,E=D*C*o+F*s,x=F*C*o-D*s,A=C*D*o-F*s,S=D*D*o+a,w=F*D*o+C*s,R=C*F*o+D*s,b=D*F*o-C*s,y=F*F*o+a,t[0]=h*T+d*E+v*x,t[1]=u*T+f*E+p*x,t[2]=c*T+_*E+g*x,t[3]=l*T+m*E+M*x,t[4]=h*A+d*S+v*w,t[5]=u*A+f*S+p*w,t[6]=c*A+_*S+g*w,t[7]=l*A+m*S+M*w,t[8]=h*R+d*b+v*y,t[9]=u*R+f*b+p*y,t[10]=c*R+_*b+g*y,t[11]=l*R+m*b+M*y,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)},i.rotateX=function(t,n,e){var r=Math.sin(e),i=Math.cos(e),s=n[4],a=n[5],o=n[6],h=n[7],u=n[8],c=n[9],l=n[10],d=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=s*i+u*r,t[5]=a*i+c*r,t[6]=o*i+l*r,t[7]=h*i+d*r,t[8]=u*i-s*r,t[9]=c*i-a*r,t[10]=l*i-o*r,t[11]=d*i-h*r,t},i.rotateY=function(t,n,e){var r=Math.sin(e),i=Math.cos(e),s=n[0],a=n[1],o=n[2],h=n[3],u=n[8],c=n[9],l=n[10],d=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=s*i-u*r,t[1]=a*i-c*r,t[2]=o*i-l*r,t[3]=h*i-d*r,t[8]=s*r+u*i,t[9]=a*r+c*i,t[10]=o*r+l*i,t[11]=h*r+d*i,t},i.rotateZ=function(t,n,e){var r=Math.sin(e),i=Math.cos(e),s=n[0],a=n[1],o=n[2],h=n[3],u=n[4],c=n[5],l=n[6],d=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=s*i+u*r,t[1]=a*i+c*r,t[2]=o*i+l*r,t[3]=h*i+d*r,t[4]=u*i-s*r,t[5]=c*i-a*r,t[6]=l*i-o*r,t[7]=d*i-h*r,t},i.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},i.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotation=function(t,n,e){var i,s,a,o=e[0],h=e[1],u=e[2],c=Math.sqrt(o*o+h*h+u*u);return Math.abs(c)<r.EPSILON?null:(c=1/c,o*=c,h*=c,u*=c,i=Math.sin(n),s=Math.cos(n),a=1-s,t[0]=o*o*a+s,t[1]=h*o*a+u*i,t[2]=u*o*a-h*i,t[3]=0,t[4]=o*h*a-u*i,t[5]=h*h*a+s,t[6]=u*h*a+o*i,t[7]=0,t[8]=o*u*a+h*i,t[9]=h*u*a-o*i,t[10]=u*u*a+s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},i.fromXRotation=function(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromYRotation=function(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromZRotation=function(t,n){var e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.fromRotationTranslation=function(t,n,e){var r=n[0],i=n[1],s=n[2],a=n[3],o=r+r,h=i+i,u=s+s,c=r*o,l=r*h,d=r*u,f=i*h,_=i*u,m=s*u,v=a*o,p=a*h,g=a*u;return t[0]=1-(f+m),t[1]=l+g,t[2]=d-p,t[3]=0,t[4]=l-g,t[5]=1-(c+m),t[6]=_+v,t[7]=0,t[8]=d+p,t[9]=_-v,t[10]=1-(c+f),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},i.fromRotationTranslationScale=function(t,n,e,r){var i=n[0],s=n[1],a=n[2],o=n[3],h=i+i,u=s+s,c=a+a,l=i*h,d=i*u,f=i*c,_=s*u,m=s*c,v=a*c,p=o*h,g=o*u,M=o*c,T=r[0],E=r[1],x=r[2];return t[0]=(1-(_+v))*T,t[1]=(d+M)*T,t[2]=(f-g)*T,t[3]=0,t[4]=(d-M)*E,t[5]=(1-(l+v))*E,t[6]=(m+p)*E,t[7]=0,t[8]=(f+g)*x,t[9]=(m-p)*x,t[10]=(1-(l+_))*x,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},i.fromRotationTranslationScaleOrigin=function(t,n,e,r,i){var s=n[0],a=n[1],o=n[2],h=n[3],u=s+s,c=a+a,l=o+o,d=s*u,f=s*c,_=s*l,m=a*c,v=a*l,p=o*l,g=h*u,M=h*c,T=h*l,E=r[0],x=r[1],A=r[2],S=i[0],w=i[1],R=i[2];return t[0]=(1-(m+p))*E,t[1]=(f+T)*E,t[2]=(_-M)*E,t[3]=0,t[4]=(f-T)*x,t[5]=(1-(d+p))*x,t[6]=(v+g)*x,t[7]=0,t[8]=(_+M)*A,t[9]=(v-g)*A,t[10]=(1-(d+m))*A,t[11]=0,t[12]=e[0]+S-(t[0]*S+t[4]*w+t[8]*R),t[13]=e[1]+w-(t[1]*S+t[5]*w+t[9]*R),t[14]=e[2]+R-(t[2]*S+t[6]*w+t[10]*R),t[15]=1,t},i.fromQuat=function(t,n){var e=n[0],r=n[1],i=n[2],s=n[3],a=e+e,o=r+r,h=i+i,u=e*a,c=r*a,l=r*o,d=i*a,f=i*o,_=i*h,m=s*a,v=s*o,p=s*h;return t[0]=1-l-_,t[1]=c+p,t[2]=d-v,t[3]=0,t[4]=c-p,t[5]=1-u-_,t[6]=f+m,t[7]=0,t[8]=d+v,t[9]=f-m,t[10]=1-u-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},i.frustum=function(t,n,e,r,i,s,a){var o=1/(e-n),h=1/(i-r),u=1/(s-a);return t[0]=2*s*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*h,t[6]=0,t[7]=0,t[8]=(e+n)*o,t[9]=(i+r)*h,t[10]=(a+s)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*s*2*u,t[15]=0,t},i.perspective=function(t,n,e,r,i){var s=1/Math.tan(n/2),a=1/(r-i);return t[0]=s/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t},i.perspectiveFromFieldOfView=function(t,n,e,r){var i=Math.tan(n.upDegrees*Math.PI/180),s=Math.tan(n.downDegrees*Math.PI/180),a=Math.tan(n.leftDegrees*Math.PI/180),o=Math.tan(n.rightDegrees*Math.PI/180),h=2/(a+o),u=2/(i+s);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(a-o)*h*.5,t[9]=(i-s)*u*.5,t[10]=r/(e-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*e/(e-r),t[15]=0,t},i.ortho=function(t,n,e,r,i,s,a){var o=1/(n-e),h=1/(r-i),u=1/(s-a);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(n+e)*o,t[13]=(i+r)*h,t[14]=(a+s)*u,t[15]=1,t},i.lookAt=function(t,n,e,s){var a,o,h,u,c,l,d,f,_,m,v=n[0],p=n[1],g=n[2],M=s[0],T=s[1],E=s[2],x=e[0],A=e[1],S=e[2];return Math.abs(v-x)<r.EPSILON&&Math.abs(p-A)<r.EPSILON&&Math.abs(g-S)<r.EPSILON?i.identity(t):(d=v-x,f=p-A,_=g-S,m=1/Math.sqrt(d*d+f*f+_*_),d*=m,f*=m,_*=m,a=T*_-E*f,o=E*d-M*_,h=M*f-T*d,m=Math.sqrt(a*a+o*o+h*h),m?(m=1/m,a*=m,o*=m,h*=m):(a=0,o=0,h=0),u=f*h-_*o,c=_*a-d*h,l=d*o-f*a,m=Math.sqrt(u*u+c*c+l*l),m?(m=1/m,u*=m,c*=m,l*=m):(u=0,c=0,l=0),t[0]=a,t[1]=u,t[2]=d,t[3]=0,t[4]=o,t[5]=c,t[6]=f,t[7]=0,t[8]=h,t[9]=l,t[10]=_,t[11]=0,t[12]=-(a*v+o*p+h*g),t[13]=-(u*v+c*p+l*g),t[14]=-(d*v+f*p+_*g),t[15]=1,t)},i.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},t.exports=i},58240:function(t,n,e){var r=e(62179),i=e(72366),s=e(23128),a=e(79822),o={create:function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}};o.rotationTo=function(){var t=s.create(),n=s.fromValues(1,0,0),e=s.fromValues(0,1,0);return function(r,i,a){var h=s.dot(i,a);return h<-.999999?(s.cross(t,n,i),s.length(t)<1e-6&&s.cross(t,e,i),s.normalize(t,t),o.setAxisAngle(r,t,Math.PI),r):h>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(s.cross(t,i,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+h,o.normalize(r,r))}}(),o.setAxes=function(){var t=i.create();return function(n,e,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],o.normalize(n,o.fromMat3(n,t))}}(),o.clone=a.clone,o.fromValues=a.fromValues,o.copy=a.copy,o.set=a.set,o.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},o.setAxisAngle=function(t,n,e){e*=.5;var r=Math.sin(e);return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=Math.cos(e),t},o.add=a.add,o.multiply=function(t,n,e){var r=n[0],i=n[1],s=n[2],a=n[3],o=e[0],h=e[1],u=e[2],c=e[3];return t[0]=r*c+a*o+i*u-s*h,t[1]=i*c+a*h+s*o-r*u,t[2]=s*c+a*u+r*h-i*o,t[3]=a*c-r*o-i*h-s*u,t},o.mul=o.multiply,o.scale=a.scale,o.rotateX=function(t,n,e){e*=.5;var r=n[0],i=n[1],s=n[2],a=n[3],o=Math.sin(e),h=Math.cos(e);return t[0]=r*h+a*o,t[1]=i*h+s*o,t[2]=s*h-i*o,t[3]=a*h-r*o,t},o.rotateY=function(t,n,e){e*=.5;var r=n[0],i=n[1],s=n[2],a=n[3],o=Math.sin(e),h=Math.cos(e);return t[0]=r*h-s*o,t[1]=i*h+a*o,t[2]=s*h+r*o,t[3]=a*h-i*o,t},o.rotateZ=function(t,n,e){e*=.5;var r=n[0],i=n[1],s=n[2],a=n[3],o=Math.sin(e),h=Math.cos(e);return t[0]=r*h+i*o,t[1]=i*h-r*o,t[2]=s*h+a*o,t[3]=a*h-s*o,t},o.calculateW=function(t,n){var e=n[0],r=n[1],i=n[2];return t[0]=e,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-e*e-r*r-i*i)),t},o.dot=a.dot,o.lerp=a.lerp,o.slerp=function(t,n,e,r){var i,s,a,o,h,u=n[0],c=n[1],l=n[2],d=n[3],f=e[0],_=e[1],m=e[2],v=e[3];return s=u*f+c*_+l*m+d*v,s<0&&(s=-s,f=-f,_=-_,m=-m,v=-v),1-s>1e-6?(i=Math.acos(s),a=Math.sin(i),o=Math.sin((1-r)*i)/a,h=Math.sin(r*i)/a):(o=1-r,h=r),t[0]=o*u+h*f,t[1]=o*c+h*_,t[2]=o*l+h*m,t[3]=o*d+h*v,t},o.sqlerp=function(){var t=o.create(),n=o.create();return function(e,r,i,s,a,h){return o.slerp(t,r,a,h),o.slerp(n,i,s,h),o.slerp(e,t,n,2*h*(1-h)),e}}(),o.invert=function(t,n){var e=n[0],r=n[1],i=n[2],s=n[3],a=e*e+r*r+i*i+s*s,o=a?1/a:0;return t[0]=-e*o,t[1]=-r*o,t[2]=-i*o,t[3]=s*o,t},o.conjugate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t},o.length=a.length,o.len=o.length,o.squaredLength=a.squaredLength,o.sqrLen=o.squaredLength,o.normalize=a.normalize,o.fromMat3=function(t,n){var e,r=n[0]+n[4]+n[8];if(r>0)e=Math.sqrt(r+1),t[3]=.5*e,e=.5/e,t[0]=(n[5]-n[7])*e,t[1]=(n[6]-n[2])*e,t[2]=(n[1]-n[3])*e;else{var i=0;n[4]>n[0]&&(i=1),n[8]>n[3*i+i]&&(i=2);var s=(i+1)%3,a=(i+2)%3;e=Math.sqrt(n[3*i+i]-n[3*s+s]-n[3*a+a]+1),t[i]=.5*e,e=.5/e,t[3]=(n[3*s+a]-n[3*a+s])*e,t[s]=(n[3*s+i]+n[3*i+s])*e,t[a]=(n[3*a+i]+n[3*i+a])*e}return t},o.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},t.exports=o},43095:function(t,n,e){var r=e(62179),i={create:function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},clone:function(t){var n=new r.ARRAY_TYPE(2);return n[0]=t[0],n[1]=t[1],n},fromValues:function(t,n){var e=new r.ARRAY_TYPE(2);return e[0]=t,e[1]=n,e},copy:function(t,n){return t[0]=n[0],t[1]=n[1],t},set:function(t,n,e){return t[0]=n,t[1]=e,t},add:function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t},subtract:function(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t}};i.sub=i.subtract,i.multiply=function(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t},i.mul=i.multiply,i.divide=function(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t},i.div=i.divide,i.min=function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t},i.max=function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t},i.scale=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t},i.scaleAndAdd=function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t},i.distance=function(t,n){var e=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(e*e+r*r)},i.dist=i.distance,i.squaredDistance=function(t,n){var e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r},i.sqrDist=i.squaredDistance,i.length=function(t){var n=t[0],e=t[1];return Math.sqrt(n*n+e*e)},i.len=i.length,i.squaredLength=function(t){var n=t[0],e=t[1];return n*n+e*e},i.sqrLen=i.squaredLength,i.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t},i.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t},i.normalize=function(t,n){var e=n[0],r=n[1],i=e*e+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=n[0]*i,t[1]=n[1]*i),t},i.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]},i.cross=function(t,n,e){var r=n[0]*e[1]-n[1]*e[0];return t[0]=t[1]=0,t[2]=r,t},i.lerp=function(t,n,e,r){var i=n[0],s=n[1];return t[0]=i+r*(e[0]-i),t[1]=s+r*(e[1]-s),t},i.random=function(t,n){n=n||1;var e=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(e)*n,t[1]=Math.sin(e)*n,t},i.transformMat2=function(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[2]*i,t[1]=e[1]*r+e[3]*i,t},i.transformMat2d=function(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[2]*i+e[4],t[1]=e[1]*r+e[3]*i+e[5],t},i.transformMat3=function(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[3]*i+e[6],t[1]=e[1]*r+e[4]*i+e[7],t},i.transformMat4=function(t,n,e){var r=n[0],i=n[1];return t[0]=e[0]*r+e[4]*i+e[12],t[1]=e[1]*r+e[5]*i+e[13],t},i.forEach=function(){var t=i.create();return function(n,e,r,i,s,a){var o,h;for(e||(e=2),r||(r=0),h=i?Math.min(i*e+r,n.length):n.length,o=r;o<h;o+=e)t[0]=n[o],t[1]=n[o+1],s(t,t,a),n[o]=t[0],n[o+1]=t[1];return n}}(),i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},t.exports=i},23128:function(t,n,e){var r=e(62179),i={create:function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},clone:function(t){var n=new r.ARRAY_TYPE(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},fromValues:function(t,n,e){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=n,i[2]=e,i},copy:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t},set:function(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t},add:function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t},subtract:function(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}};i.sub=i.subtract,i.multiply=function(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t},i.mul=i.multiply,i.divide=function(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t},i.div=i.divide,i.min=function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t},i.max=function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t},i.scale=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t},i.scaleAndAdd=function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t},i.distance=function(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return Math.sqrt(e*e+r*r+i*i)},i.dist=i.distance,i.squaredDistance=function(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return e*e+r*r+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var n=t[0],e=t[1],r=t[2];return Math.sqrt(n*n+e*e+r*r)},i.len=i.length,i.squaredLength=function(t){var n=t[0],e=t[1],r=t[2];return n*n+e*e+r*r},i.sqrLen=i.squaredLength,i.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},i.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},i.normalize=function(t,n){var e=n[0],r=n[1],i=n[2],s=e*e+r*r+i*i;return s>0&&(s=1/Math.sqrt(s),t[0]=n[0]*s,t[1]=n[1]*s,t[2]=n[2]*s),t},i.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},i.cross=function(t,n,e){var r=n[0],i=n[1],s=n[2],a=e[0],o=e[1],h=e[2];return t[0]=i*h-s*o,t[1]=s*a-r*h,t[2]=r*o-i*a,t},i.lerp=function(t,n,e,r){var i=n[0],s=n[1],a=n[2];return t[0]=i+r*(e[0]-i),t[1]=s+r*(e[1]-s),t[2]=a+r*(e[2]-a),t},i.hermite=function(t,n,e,r,i,s){var a=s*s,o=a*(2*s-3)+1,h=a*(s-2)+s,u=a*(s-1),c=a*(3-2*s);return t[0]=n[0]*o+e[0]*h+r[0]*u+i[0]*c,t[1]=n[1]*o+e[1]*h+r[1]*u+i[1]*c,t[2]=n[2]*o+e[2]*h+r[2]*u+i[2]*c,t},i.bezier=function(t,n,e,r,i,s){var a=1-s,o=a*a,h=s*s,u=o*a,c=3*s*o,l=3*h*a,d=h*s;return t[0]=n[0]*u+e[0]*c+r[0]*l+i[0]*d,t[1]=n[1]*u+e[1]*c+r[1]*l+i[1]*d,t[2]=n[2]*u+e[2]*c+r[2]*l+i[2]*d,t},i.random=function(t,n){n=n||1;var e=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,s=Math.sqrt(1-i*i)*n;return t[0]=Math.cos(e)*s,t[1]=Math.sin(e)*s,t[2]=i*n,t},i.transformMat4=function(t,n,e){var r=n[0],i=n[1],s=n[2],a=e[3]*r+e[7]*i+e[11]*s+e[15];return a=a||1,t[0]=(e[0]*r+e[4]*i+e[8]*s+e[12])/a,t[1]=(e[1]*r+e[5]*i+e[9]*s+e[13])/a,t[2]=(e[2]*r+e[6]*i+e[10]*s+e[14])/a,t},i.transformMat3=function(t,n,e){var r=n[0],i=n[1],s=n[2];return t[0]=r*e[0]+i*e[3]+s*e[6],t[1]=r*e[1]+i*e[4]+s*e[7],t[2]=r*e[2]+i*e[5]+s*e[8],t},i.transformQuat=function(t,n,e){var r=n[0],i=n[1],s=n[2],a=e[0],o=e[1],h=e[2],u=e[3],c=u*r+o*s-h*i,l=u*i+h*r-a*s,d=u*s+a*i-o*r,f=-a*r-o*i-h*s;return t[0]=c*u+f*-a+l*-h-d*-o,t[1]=l*u+f*-o+d*-a-c*-h,t[2]=d*u+f*-h+c*-o-l*-a,t},i.rotateX=function(t,n,e,r){var i=[],s=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],s[0]=i[0],s[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),s[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t},i.rotateY=function(t,n,e,r){var i=[],s=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],s[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),s[1]=i[1],s[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t},i.rotateZ=function(t,n,e,r){var i=[],s=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],s[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),s[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),s[2]=i[2],t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t},i.forEach=function(){var t=i.create();return function(n,e,r,i,s,a){var o,h;for(e||(e=3),r||(r=0),h=i?Math.min(i*e+r,n.length):n.length,o=r;o<h;o+=e)t[0]=n[o],t[1]=n[o+1],t[2]=n[o+2],s(t,t,a),n[o]=t[0],n[o+1]=t[1],n[o+2]=t[2];return n}}(),i.angle=function(t,n){var e=i.fromValues(t[0],t[1],t[2]),r=i.fromValues(n[0],n[1],n[2]);i.normalize(e,e),i.normalize(r,r);var s=i.dot(e,r);return s>1?0:Math.acos(s)},i.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},t.exports=i},79822:function(t,n,e){var r=e(62179),i={create:function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},clone:function(t){var n=new r.ARRAY_TYPE(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},fromValues:function(t,n,e,i){var s=new r.ARRAY_TYPE(4);return s[0]=t,s[1]=n,s[2]=e,s[3]=i,s},copy:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},set:function(t,n,e,r,i){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t},add:function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t},subtract:function(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}};i.sub=i.subtract,i.multiply=function(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t},i.mul=i.multiply,i.divide=function(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t},i.div=i.divide,i.min=function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t},i.max=function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t},i.scale=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t},i.scaleAndAdd=function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t},i.distance=function(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],s=n[3]-t[3];return Math.sqrt(e*e+r*r+i*i+s*s)},i.dist=i.distance,i.squaredDistance=function(t,n){var e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],s=n[3]-t[3];return e*e+r*r+i*i+s*s},i.sqrDist=i.squaredDistance,i.length=function(t){var n=t[0],e=t[1],r=t[2],i=t[3];return Math.sqrt(n*n+e*e+r*r+i*i)},i.len=i.length,i.squaredLength=function(t){var n=t[0],e=t[1],r=t[2],i=t[3];return n*n+e*e+r*r+i*i},i.sqrLen=i.squaredLength,i.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},i.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t},i.normalize=function(t,n){var e=n[0],r=n[1],i=n[2],s=n[3],a=e*e+r*r+i*i+s*s;return a>0&&(a=1/Math.sqrt(a),t[0]=e*a,t[1]=r*a,t[2]=i*a,t[3]=s*a),t},i.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},i.lerp=function(t,n,e,r){var i=n[0],s=n[1],a=n[2],o=n[3];return t[0]=i+r*(e[0]-i),t[1]=s+r*(e[1]-s),t[2]=a+r*(e[2]-a),t[3]=o+r*(e[3]-o),t},i.random=function(t,n){return n=n||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),i.normalize(t,t),i.scale(t,t,n),t},i.transformMat4=function(t,n,e){var r=n[0],i=n[1],s=n[2],a=n[3];return t[0]=e[0]*r+e[4]*i+e[8]*s+e[12]*a,t[1]=e[1]*r+e[5]*i+e[9]*s+e[13]*a,t[2]=e[2]*r+e[6]*i+e[10]*s+e[14]*a,t[3]=e[3]*r+e[7]*i+e[11]*s+e[15]*a,t},i.transformQuat=function(t,n,e){var r=n[0],i=n[1],s=n[2],a=e[0],o=e[1],h=e[2],u=e[3],c=u*r+o*s-h*i,l=u*i+h*r-a*s,d=u*s+a*i-o*r,f=-a*r-o*i-h*s;return t[0]=c*u+f*-a+l*-h-d*-o,t[1]=l*u+f*-o+d*-a-c*-h,t[2]=d*u+f*-h+c*-o-l*-a,t[3]=n[3],t},i.forEach=function(){var t=i.create();return function(n,e,r,i,s,a){var o,h;for(e||(e=4),r||(r=0),h=i?Math.min(i*e+r,n.length):n.length,o=r;o<h;o+=e)t[0]=n[o],t[1]=n[o+1],t[2]=n[o+2],t[3]=n[o+3],s(t,t,a),n[o]=t[0],n[o+1]=t[1],n[o+2]=t[2],n[o+3]=t[3];return n}}(),i.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},t.exports=i},69184:function(t){var n=function(t){var n="";return n+="#ifndef COLOR_INCLUDE\n#define COLOR_INCLUDE 1\n\nvec3 FastSRGBToLinear(vec3 c){\n  return c * (c * (c * 0.305306011 + 0.682171111) + 0.012522878);\n}\n\nfloat FastSRGBToLinear(float c){\n  return c * (c * (c * 0.305306011 + 0.682171111) + 0.012522878);\n}\n\n#endif\n",n};n.toString=n,t.exports=n,n.onHmr=function(){}},87426:function(t){var n=function(t){var n="";return n+="#if __VERSION__ == 300\n  #define IN in\n  #define texture2D(a,b) texture( a, b )\n#else\n  #define IN varying\n  #define FragColor gl_FragColor\n#endif\n\n#if __VERSION__ == 300\n  out vec4 FragColor;\n#endif",n};n.toString=n,t.exports=n,n.onHmr=function(){}},16067:function(t){var n=function(t){var n="";return n+="#if __VERSION__ == 300\n  #define IN in\n  #define OUT out\n#else\n  #define IN attribute\n  #define OUT varying\n#endif",n};n.toString=n,t.exports=n,n.onHmr=function(){}},4663:function(t){var n=function(t){var n="";return n+='\nstruct Light\n{\n  mediump vec3   direction;\n  mediump vec3   color;\n  mediump float  attenuation;\n  mediump float  shadowAttenuation;\n};\n\n\n\n\nstruct BRDFData\n{\n  mediump vec3 diffuse;\n  mediump vec3 specular;\n  mediump float perceptualRoughness;\n  mediump float roughness;\n  mediump float roughness2;\n  mediump float grazingTerm;\n\n    // We save some light invariant BRDF terms so we don\'t have to recompute\n    // them in the light loop. Take a look at DirectBRDF function for detailed explaination.\n  mediump float normalizationTerm;     // roughness * 4.0 + 2.0\n  mediump float roughness2MinusOne;    // roughness^2 - 1.0\n};\n\n\n\nfloat DistanceAttenuation(float distanceSqr)\n{\n  return 1.0/distanceSqr;\n}\n\nfloat DistanceAttenuationRange(float distanceSqr, vec2 distanceAttenuation)\n{\n  float factor = distanceSqr * distanceAttenuation.x; // x = 1/range squared\n  float smoothFactor = saturate(1.0 - factor * factor);\n  smoothFactor = smoothFactor * smoothFactor;\n\n  float lightAtten = 1.0/distanceSqr;\n  return lightAtten * smoothFactor;\n}\n\n\nmediump float AngleAttenuation(vec3 spotDirection, vec3 lightDirection, vec2 spotAttenuation)\n{\n  mediump float SdotL = dot(spotDirection, lightDirection);\n  mediump float atten = saturate(SdotL * spotAttenuation.x + spotAttenuation.y);\n  return atten * atten;\n}\n\n\n\n\nmediump float ReflectivitySpecular(mediump vec3 specular)\n{\n  #ifdef QUALITY_HI\n    return max(max(specular.r, specular.g), specular.b);\n  #else\n    return specular.r;\n  #endif\n}\n\n#define PerceptualSmoothnessToPerceptualRoughness(perceptualSmoothness) (1.0 - perceptualSmoothness)\n#define PerceptualRoughnessToRoughness(perceptualRoughness) (perceptualRoughness * perceptualRoughness)\n\n\n\n// "Optimizing PBR for Mobile" from Siggraph 2015 moving mobile graphics course\n// https://community.arm.com/events/1155\nmediump vec3 GGXZiomaBDRF(BRDFData brdfData, mediump vec3 normalWS, mediump vec3 wLightDir, mediump vec3 wViewDir)\n{\n  vec3 halfDir = normalize(wLightDir + wViewDir);\n  float NoH = sdot(normalWS, halfDir);\n  mediump float LoH = sdot(wLightDir, halfDir);\n  float d = NoH * NoH * brdfData.roughness2MinusOne + 1.00001;\n  mediump float LoH2 = LoH * LoH;\n  mediump float specularTerm = brdfData.roughness2 / ((d * d) * max(0.1, LoH2) * brdfData.normalizationTerm);\n  mediump vec3 color = specularTerm * brdfData.specular + brdfData.diffuse;\n  return color;\n}\n\n\n\nvoid LightingPhysicallyBased(BRDFData brdfData, GeometryData geometryData, inout LightingData lightingData, Light light )\n{\n  mediump float NdotL = sdot(geometryData.worldNrm, light.direction);\n  mediump vec3 inputLight = light.color * (light.attenuation * light.shadowAttenuation * NdotL);\n  lightingData.lightingColor += GGXZiomaBDRF(brdfData, geometryData.worldNrm, light.direction, geometryData.viewDir) * inputLight;\n}\n\n\n#ifdef SpecularIBL\n\nvoid EnvironmentBRDF(BRDFData brdfData, GeometryData geometryData, inout LightingData lightingData, float occlusion )\n{\n\n  vec3 indirectDiffuse  = ComputeIBLDiffuse( geometryData.worldNrm );\n  vec3 indirectSpecular = SpecularIBL( geometryData.worldReflect, brdfData.perceptualRoughness, geometryData.worldPos );\n\n  float NoV = sdot( geometryData.viewDir, geometryData.worldNrm );\n  float fresnelTerm = pow( 1.0-NoV, 5.0 );\n\n  float surfaceReduction = 1.0 / (brdfData.roughness2 + 1.0);\n  vec3 specularTerm = vec3(surfaceReduction * mix(brdfData.specular, vec3(brdfData.grazingTerm), fresnelTerm));\n\n  lightingData.lightingColor += occlusion * (indirectDiffuse * brdfData.diffuse + indirectSpecular*specularTerm );\n}\n\n#endif\n\n// Schlick approx\n// [Schlick 1994, "An Inexpensive BRDF Model for Physically-Based Rendering"]\n// https://github.com/EpicGames/UnrealEngine/blob/dff3c48be101bb9f84633a733ef79c91c38d9542/Engine/Shaders/BRDF.usf#L168\nvec3 F_Schlick( float VoH,vec3 spec,float glo )\n{\n  float factor = glo*glo * pow( 1.0-VoH, 5.0 );\n  return( 1.0 - factor )*spec + factor;\n}\n\n\nmediump vec3 LightingLambert(mediump vec3 lightColor, mediump vec3 lightDir, mediump vec3 normal)\n{\n    mediump float NoL = sdot(normal, lightDir);\n    return lightColor * NoL;\n}\n\nmediump vec3 LightingSpecular(mediump vec3 lightColor, vec3 lightDir, mediump vec3 normal, vec3 viewDir, mediump vec4 specular, mediump float smoothness)\n{\n    vec3 halfVec = normalize(lightDir + viewDir);\n    mediump float NoH = sdot(normal, halfVec);\n    mediump float modifier = pow(NoH, smoothness);\n    mediump vec3 specularReflection = specular.rgb * modifier;\n    return lightColor * specularReflection;\n}\n',n};n.toString=n,t.exports=n,n.onHmr=function(){}},21951:function(t){var n=function(t){var n="";return n+="#ifndef MATH_INCLUDE\n#define MATH_INCLUDE 1\n\n\n#define saturate(x) clamp( x, 0.0, 1.0 )\n#define sdot( a, b ) saturate( dot(a,b) )\n\n#endif",n};n.toString=n,t.exports=n,n.onHmr=function(){}},70899:function(t){var n=function(t){var n="";return n+="\n\n\n\n#if HAS_normal\n\n  vec3 GetScaledNormal( vec3 normalMap, float scale ){\n    vec3 nrm = normalMap = normalMap*vec3(2.0) - vec3(1.0);\n    return normalize( nrm * vec3(scale, scale, 1.0 ) );\n  }\n\n  #if HAS_normalScale\n    #define NormalMap(k) GetScaledNormal( normal(), normalScale() )\n  #else\n    #define NormalMap(k) normal()*vec3(2.0)-vec3(1.0)\n  #endif\n\n#endif\n\n\n#if HAS_normal\n  \n  mat3 computeTangentSpaceMatrix( vec2 nrmTexCoords ){\n\n  #if hasTangents\n    return mat3( vWorldTangent, vWorldBitangent, vWorldNormal );\n  #else\n\n      vec3 pos_dx = dFdx(vWorldPosition);\n      vec3 pos_dy = dFdy(vWorldPosition);\n      vec2 tex_dx = dFdx(nrmTexCoords);\n      vec2 tex_dy = dFdy(nrmTexCoords);\n\n      vec3 tangent = (tex_dy.y * pos_dx - tex_dx.y * pos_dy) / (tex_dx.x * tex_dy.y - tex_dy.x * tex_dx.y);\n\n      #if hasNormals \n        vec3 worldNormal = normalize( vWorldNormal );\n      #else\n        vec3 worldNormal = normalize( cross(pos_dx, pos_dy) );\n      #endif\n      \n\n      tangent = normalize(tangent - worldNormal * dot(worldNormal, tangent));\n      vec3 binormal = normalize(cross(worldNormal, tangent));\n      return mat3(tangent, binormal, worldNormal);\n  #endif\n  }\n\n  #define COMPUTE_NORMAL(k) ComputeWorldNormal( NormalMap(), normal_texCoord() )\n  vec3 ComputeWorldNormal( vec3 nrmTex, vec2 nrmTexCoords ){\n    mat3 tbn = computeTangentSpaceMatrix( nrmTexCoords );\n    vec3 nrm = tbn*nrmTex;\n    return gl_FrontFacing ? nrm : -nrm;\n  }\n\n#else\n  #define COMPUTE_NORMAL(k) ComputeWorldNormal( )\n  vec3 ComputeWorldNormal(){\n    #if hasNormals \n      return normalize( gl_FrontFacing ? vWorldNormal : -vWorldNormal );\n    #else\n      vec3 pos_dx = dFdx(vWorldPosition);\n      vec3 pos_dy = dFdy(vWorldPosition);\n      return normalize( cross(pos_dx, pos_dy) );\n    #endif\n  }\n#endif\n\n\n\n\n\n",n};n.toString=n,t.exports=n,n.onHmr=function(){}},92462:function(t){var n=function(t){var n="";return n+="\n\nstruct SurfaceData\n{\n  vec3 albedo;\n  vec3 specular;\n  vec3 emission;\n  float smoothness;\n  float occlusion;\n  float alpha;\n};\n",n};n.toString=n,t.exports=n,n.onHmr=function(){}},89566:function(t){var n=function(t){var n="";return n+="\n{\n  \n  vec3 _baseColor = vec3(1.0);\n  #if HAS_baseColor\n    _baseColor *= baseColor();\n    // _baseColor *= baseColor()*baseColor();\n  #endif\n  #if HAS_baseColorFactor\n    _baseColor *= baseColorFactor();\n  #endif\n\n  \n  surface.alpha = 1.0;\n  #if HAS_alpha\n    surface.alpha *= alpha();\n  #endif\n  #if HAS_alphaFactor\n    surface.alpha *= alphaFactor();\n  #endif\n\n\n  float _metalness = 1.0;\n  #if HAS_metalness\n    _metalness *= metalness();\n  #endif\n  #if HAS_metalnessFactor\n    _metalness *= metalnessFactor();\n  #endif\n\n\n  float _roughness = 1.0;\n  #if HAS_roughness\n    _roughness *= roughness();\n  #endif\n  #if HAS_roughnessFactor\n    _roughness *= roughnessFactor();\n  #endif\n\n\n  #if HAS_occlusion\n    float _occlusion = occlusion();\n    #if HAS_occlusionStrength\n      _occlusion = 1.0 - occlusionStrength() + _occlusion*occlusionStrength();\n    #endif\n    surface.occlusion = _occlusion;\n  #else\n  surface.occlusion = 1.0;\n  #endif\n\n\n  surface.emission = vec3(0.0);\n  #if HAS_emissive \n    surface.emission += emissive();\n    #if HAS_emissiveFactor\n        surface.emission *= emissiveFactor();\n    #endif\n  #elif HAS_emissiveFactor\n    surface.emission = emissiveFactor();\n  #endif\n\n  surface.albedo    = (_baseColor * vec3(1.0-0.04) ) * (1.0-_metalness);\n  surface.specular = mix( vec3(0.04), _baseColor, _metalness );\n  surface.smoothness  = 1.0-_roughness;\n\n}",n};n.toString=n,t.exports=n,n.onHmr=function(){}},96215:function(t){var n=function(t){var n="";return n+="\n// specular\n\n{\n  surface.albedo = vec3(1.0);\n  #if HAS_diffuse\n    surface.albedo *= diffuse();\n    // surface.albedo *= diffuse()*diffuse();\n  #endif\n  #if HAS_diffuseFactor\n    surface.albedo *= diffuseFactor();\n  #endif\n\n\n  surface.alpha = 1.0;\n  #if HAS_alpha\n    surface.alpha *= alpha();\n  #endif\n  #if HAS_alphaFactor\n    surface.alpha *= alphaFactor();\n  #endif\n\n\n  surface.specular = vec3(1.0);\n  #if HAS_specular\n    surface.specular *= specular();\n    // surface.specular *= specular()*specular();\n    // surface.specular *= specular();\n  #endif\n  #if HAS_specularFactor\n    surface.specular *= specularFactor();\n  #endif\n\n\n  surface.smoothness = 1.0;\n  #if HAS_glossiness\n    surface.smoothness *= glossiness();\n  #endif\n  #if HAS_glossinessFactor\n    surface.smoothness *= glossinessFactor();\n  #endif\n\n\n  #if HAS_occlusion\n    float _occlusion = occlusion();\n    #if HAS_occlusionStrength\n      _occlusion = 1.0 - occlusionStrength() + _occlusion*occlusionStrength();\n    #endif\n    surface.occlusion = _occlusion;\n  #else\n  surface.occlusion = 1.0;\n  #endif\n\n\n\n  surface.emission = vec3(0.0);\n  #if HAS_emissive \n    surface.emission += emissive();\n    #if HAS_emissiveFactor\n        surface.emission *= emissiveFactor();\n    #endif\n  #elif HAS_emissiveFactor\n    surface.emission = emissiveFactor();\n  #endif\n  \n}",n};n.toString=n,t.exports=n,n.onHmr=function(){}},80727:function(t){var n=function(t){var n="";return n+="\n\n#ifndef _H_TONEMAP_\n#define _H_TONEMAP_\n\n\n  // Exposure\n  // ===========\n\n\n  #if HAS_exposure\n    #define EXPOSURE(color) color *= vec3( exposure() );\n  #else\n    #define EXPOSURE(color)\n  #endif\n\n\n  // Gamma correction\n  // ===========\n\n  #if gammaMode( GAMMA_STD ) && HAS_gamma\n    #define GAMMA_CORRECTION(color) color = pow( color, vec3( gamma() ) );\n\n\n  #elif gammaMode( GAMMA_2_2 )\n    #define GAMMA_CORRECTION(color) color = pow( color, vec3( 1.0/2.2 ) );\n\n\n  #elif gammaMode( GAMMA_TB )\n\n    void ToneMapTB( inout vec3 color ) {\n      vec3 c = color;\n      vec3 sqrtc = sqrt( c );\n      color = (sqrtc-sqrtc*c) + c*(0.4672*c+vec3(0.5328));\n    }\n\n    #define GAMMA_CORRECTION(color) ToneMapTB( color );\n\n  #else\n    #define GAMMA_CORRECTION(color)\n\n  #endif\n\n\n\n#endif",n};n.toString=n,t.exports=n,n.onHmr=function(){}},21550:function(t,n,e){var r=function(t){var n="";return n+="#pragma SLOT version\n\n#pragma SLOT definitions\n\n\n#ifndef hasNormals\n  #define hasNormals 1\n#endif \n#ifndef hasTangents\n  #define hasTangents hasNormals\n#endif \n\n#if hasTangents && !hasNormals \n  #pragma error tan but no nrm\n  error\n#endif\n\n\n#if !hasTangents && __VERSION__ != 300\n  #extension GL_OES_standard_derivatives : enable\n#endif \n\n#pragma SLOT precision\n\n"+e(87426)()+"\n"+e(92462)()+"\n\n#pragma SLOT pf\n\n\nuniform vec3 uCameraPosition;\nIN vec3 vWorldPosition;\n\n#if hasNormals\nIN mediump vec3 vWorldNormal;\n#endif \n\n#if HAS_normal && hasTangents\nIN mediump vec3 vWorldTangent;\nIN mediump vec3 vWorldBitangent;\n#endif \n\n\n\n\nstruct GeometryData\n{\n    vec3  worldPos;\n    mediump vec3   worldNrm;\n    mediump vec3   viewDir;\n    mediump vec3   worldReflect;\n};\n\n\nstruct LightingData\n{\n  lowp vec3 lightingColor;\n};\n\n\n\n"+e(21951)()+"\n"+e(69184)()+"\n"+e(70899)()+"\n"+e(80727)()+"\n"+e(4663)()+"\n\n\n\n\n\nvoid InitializeLightingData(out LightingData lightingData)\n{\n  lightingData.lightingColor = vec3(0.0);\n}\n\n\n\n\nvoid InitializeBRDF(SurfaceData surface, out BRDFData brdf)\n{\n  mediump float reflectivity = ReflectivitySpecular(surface.specular);\n  mediump float oneMinusReflectivity = 1.0 - reflectivity;\n\n  brdf.diffuse = surface.albedo * (vec3(1.0, 1.0, 1.0) - surface.specular);\n  brdf.specular = surface.specular;\n\n  brdf.grazingTerm = saturate(surface.smoothness + reflectivity);\n  brdf.perceptualRoughness = PerceptualSmoothnessToPerceptualRoughness(surface.smoothness);\n  brdf.roughness = max(PerceptualRoughnessToRoughness(brdf.perceptualRoughness), 0.001);\n  brdf.roughness2 = brdf.roughness * brdf.roughness;\n\n  brdf.normalizationTerm = brdf.roughness * 4.0 + 2.0;\n  brdf.roughness2MinusOne = brdf.roughness2 - 1.0;\n}\n\n//                MAIN\n// ===================\n\nvoid main( void ){\n\n  #pragma SLOT f\n\n\n  SurfaceData surface;\n  #pragma SLOT pbrsurface\n\n  #if alphaMode( MASK )\n    if( surface.alpha < alphaCutoff() ) discard;\n  #endif\n\n  //\n  #ifdef HAS_vertexColor\n  #if HAS_vertexColor\n    surface.albedo *= vertexColor();\n  #endif\n  #endif\n\n\n  // -----------\n\n  GeometryData geometryData;\n  geometryData.worldPos = vWorldPosition;\n  geometryData.viewDir  = normalize( uCameraPosition - vWorldPosition ); // safe normalize?\n  geometryData.worldNrm = normalize(COMPUTE_NORMAL());\n  geometryData.worldReflect = reflect( -geometryData.viewDir, geometryData.worldNrm );\n\n\n  BRDFData brdfData;\n  InitializeBRDF( surface, brdfData );\n\n  LightingData lightingData;\n  InitializeLightingData( lightingData );\n\n\n\n\n  #pragma SLOT prelightsf\n  #pragma SLOT lightsf\n  #pragma SLOT postlightsf\n\n  lightingData.lightingColor += surface.emission;\n\n\n  #if alphaMode( MASK )\n    FragColor.a = 1.0;\n  #elif alphaMode( BLEND )\n    FragColor.a = surface.alpha;\n  #else\n    FragColor.a = 1.0;\n  #endif\n\n\n\n  FragColor.rgb = lightingData.lightingColor;\n\n  #pragma SLOT postf_linear\n\n  EXPOSURE(FragColor.rgb);\n  GAMMA_CORRECTION(FragColor.rgb);\n\n  #pragma SLOT postf\n\n\n\n}",n};r.toString=r,t.exports=r,r.onHmr=function(){}},99699:function(t,n,e){var r=function(t){var n="";return n+="#pragma SLOT version\n\n#pragma SLOT definitions\n\n\n#ifndef hasNormals\n  #define hasNormals 1\n#endif \n#ifndef hasTangents\n  #define hasTangents hasNormals\n#endif \n\n#if hasTangents && !hasNormals \n  #pragma error tan but no nrm\n  error\n#endif\n\n#pragma SLOT precision\n\n"+e(16067)()+"\n\n#pragma SLOT pv\n\n\nIN vec3 aPosition;\n\n#if hasNormals\nIN vec3 aNormal;\nOUT mediump vec3 vWorldNormal;\n#endif\n\n// has normal map and tangent attribute\n#if hasTangents\nIN vec4 aTangent;\n#endif\n\n#if HAS_normal && hasTangents\nOUT mediump vec3 vWorldTangent;\nOUT mediump vec3 vWorldBitangent;\n#endif\n\n\n// uniform mat4 uMVP;\nuniform mat4 uWorldMatrix;\nuniform mat4 uVP;\n\nOUT vec3 vWorldPosition;\n\n\nvec3 rotate( mat4 m, vec3 v )\n{\n  return m[0].xyz*v.x + m[1].xyz*v.y + m[2].xyz*v.z;\n}\n\n\nstruct VertexData {\n  highp vec3 position;\n  highp vec3 worldPos;\n  #if hasNormals\n    vec3 normal;\n  #endif\n  #if hasTangents\n    vec3 tangent;\n  #endif\n  mat4 worldMatrix;\n};\n\n\nvoid InitVertexData( out VertexData vertex ){\n\n  vertex.position = aPosition;\n  #if hasNormals\n    vertex.normal = aNormal;\n  #endif\n  #if hasTangents\n    vertex.tangent = aTangent.xyz;\n  #endif\n\n  vertex.worldMatrix = uWorldMatrix;\n   \n}\n\n\nvoid main( void ){\n\n  #pragma SLOT v\n\n  VertexData vertex;\n  InitVertexData( vertex );\n\n  #pragma SLOT vertex_warp\n\n  vec4 worldPos = vertex.worldMatrix * vec4( vertex.position, 1.0 );\n  vertex.worldPos.xyz = worldPos.xyz / worldPos.w;\n\n  #pragma SLOT vertex_warp_world\n\n  gl_Position     = uVP * vec4( vertex.worldPos, 1.0 );\n  vWorldPosition  = vertex.worldPos;\n  \n  #if hasNormals\n  vWorldNormal    = normalize( rotate( vertex.worldMatrix, vertex.normal ) );\n  #endif\n\n  #if HAS_normal && hasTangents\n    vWorldTangent   = normalize( rotate( vertex.worldMatrix, vertex.tangent.xyz ) );\n    vWorldBitangent = normalize( cross( vWorldNormal, vWorldTangent ) * aTangent.w );\n  #endif\n\n  // IBL lighting may sample SH here if per vertex irrad enabled\n\n  #pragma SLOT postv\n  // vDebugColor = vec4( -position, 1.0 );\n}",n};r.toString=r,t.exports=r,r.onHmr=function(){}},85645:function(t,n,e){"use strict";e.d(n,{Z:function(){return u}});var r=e(63887),i=e(61987),s=e(20508),a=e(1579);const o=r.mat4.create(),h=r.mat4.create();class u extends i.Z{constructor(t){super(),this.lens=t,this._view=r.mat4.create(),this._viewProj=r.mat4.create()}modelViewMatrix(t,n){r.mat4.multiply(t,n,this._view)}modelViewProjectionMatrix(t,n){r.mat4.multiply(t,this._viewProj,n)}getMVP(t){return r.mat4.multiply(o,this._viewProj,t),o}unproject(t,n){r.mat4.invert(h,this._viewProj),r.vec3.transformMat4(t,n,h)}updateViewProjectionMatrix(t,n){this.lens.aspect=t/n,r.mat4.multiply(this._viewProj,this.lens.getProjection(),this._view)}_computeWorldMatrix(t){super._computeWorldMatrix(t),r.mat4.invert(this._view,this._wmatrix)}static makePerspectiveCamera(){return new u(new s.Z)}static makeOrthoCamera(){return new u(new a.Z)}}},1579:function(t,n,e){"use strict";var r=e(63887);class i{constructor(){this._near=.01,this._far=10,this._xMin=-1,this._xMax=1,this._yMin=-1,this._yMax=1,this._aspect=1,this._proj=r.mat4.create(),this._valid=!1}getProjection(){return this._valid||this._updateProjection(),this._proj}setBound(t,n,e,r){this._xMin=t,this._xMax=n,this._yMin=e,this._yMax=r,this._invalidate()}set near(t){this._near!==t&&(this._near=t,this._invalidate())}get near(){return this._near}set far(t){this._far!==t&&(this._far=t,this._invalidate())}get far(){return this._far}set aspect(t){this._aspect!==t&&(this._aspect=t)}get aspect(){return this._aspect}_updateProjection(){r.mat4.ortho(this._proj,this._xMin,this._xMax,this._yMin,this._yMax,this._near,this._far),this._valid=!0}_invalidate(){this._valid=!1}}n["Z"]=i},20508:function(t,n,e){"use strict";var r=e(63887);class i{constructor(){this._near=.01,this._far=10,this._fov=Math.PI/3,this._vfov=0,this._hfov=0,this._aspect=1,this._fovMode=0,this._proj=r.mat4.create(),this._valid=!1}getProjection(){return this._valid||this._updateProjection(),this._proj}set fov(t){this.setVerticalFov(t)}get fov(){return this._fov}set near(t){this._near!==t&&(this._near=t,this._invalidate())}get near(){return this._near}set far(t){this._far!==t&&(this._far=t,this._invalidate())}get far(){return this._far}set aspect(t){this._aspect!==t&&(this._aspect=t,this._invalidate())}get aspect(){return this._aspect}setHorizontalFov(t){this._fov=t,this._fovMode=2,this._invalidate()}setVerticalFov(t){this._fov=t,this._fovMode=1,this._invalidate()}getHorizontalFov(){return this.getProjection(),this._hfov}getVerticalFov(){return this.getProjection(),this._vfov}setAutoFov(t){this._fov=t,this._fovMode=3,this._invalidate()}_updateProjection(){var t=this._fovMode,n=this._aspect;1===t||3===t&&n>1?(this._vfov=this._fov,this._hfov=2*Math.atan(Math.tan(this._fov/2)*n)):(this._hfov=this._fov,this._vfov=2*Math.atan(Math.tan(this._fov/2)/n)),r.mat4.perspective(this._proj,this._vfov,n,this._near,this._far),this._valid=!0}_invalidate(){this._valid=!1}}n["Z"]=i},61987:function(t,n,e){"use strict";e.d(n,{Z:function(){return d}});var r=e(63887);const i=r.mat3.create();function s(t,n,e,s){n[0]=t[12],n[1]=t[13],n[2]=t[14],s[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),s[1]=Math.sqrt(t[4]*t[4]+t[5]*t[5]+t[6]*t[6]),s[2]=Math.sqrt(t[8]*t[8]+t[9]*t[9]+t[10]*t[10]),i[0]=t[0]/s[0],i[1]=t[1]/s[0],i[2]=t[2]/s[0],i[3]=t[4]/s[1],i[4]=t[5]/s[1],i[5]=t[6]/s[1],i[6]=t[8]/s[2],i[7]=t[9]/s[2],i[8]=t[10]/s[2],r.quat.fromMat3(e,i)}const a=r.mat3.create(),o=new Float32Array(a.buffer,0,3),h=new Float32Array(a.buffer,12,3),u=new Float32Array(a.buffer,24,3),c=r.vec3.fromValues(0,1,0);class l{constructor(){this.position=r.vec3.create(),this.rotation=r.quat.create(),this.scale=r.vec3.fromValues(1,1,1),this._matrix=r.mat4.create(),this._wmatrix=r.mat4.create(),this._parent=null,this._children=[],this._invalidM=!0,this._invalidW=!0,this._wposition=new Float32Array(this._wmatrix.buffer,48,3)}rotateX(t){r.quat.rotateX(this.rotation,this.rotation,t),this.invalidate()}rotateY(t){r.quat.rotateY(this.rotation,this.rotation,t),this.invalidate()}rotateZ(t){r.quat.rotateZ(this.rotation,this.rotation,t),this.invalidate()}set x(t){this.position[0]=t,this.invalidate()}set y(t){this.position[1]=t,this.invalidate()}set z(t){this.position[2]=t,this.invalidate()}get x(){return this.position[0]}get y(){return this.position[1]}get z(){return this.position[2]}setScale(t){this.scale[0]=this.scale[1]=this.scale[2]=t,this.invalidate()}lookAt(t){r.vec3.subtract(u,this.position,t),r.vec3.normalize(u,u),r.vec3.cross(o,c,u),r.vec3.normalize(o,o),r.vec3.cross(h,u,o),r.quat.fromMat3(this.rotation,a),this.invalidate()}setMatrix(t){r.mat4.copy(this._matrix,t),s(t,this.position,this.rotation,this.scale),this._invalidM=!1,this._invalidW=!0}add(t){-1===this._children.indexOf(t)&&(null!==t._parent&&t._parent.remove(t),this._children.push(t),t._parent=this)}remove(t){const n=this._children.indexOf(t);n>-1&&(this._children.splice(n,1),t._parent=null)}invalidate(){this._invalidM=!0,this._invalidW=!0}updateMatrix(){this._invalidM&&(r.mat4.fromRotationTranslationScale(this._matrix,this.rotation,this.position,this.scale),this._invalidM=!1)}updateWorldMatrix(t=!1){this.updateMatrix();const n=this._hasInvalidWorldMatrix(t);n&&this._computeWorldMatrix(t);for(var e=0;e<this._children.length;e++){var r=this._children[e];r._invalidW=r._invalidW||n,r.updateWorldMatrix(!0)}}_computeWorldMatrix(t){const n=this._parent;null!==n?(!t&&n._hasInvalidWorldMatrix(!1)&&(n.updateMatrix(),n._computeWorldMatrix(!1)),r.mat4.multiply(this._wmatrix,n._wmatrix,this._matrix)):r.mat4.copy(this._wmatrix,this._matrix),this._invalidW=!1}_hasInvalidWorldMatrix(t){return this._invalidW||!t&&null!==this._parent&&this._parent._hasInvalidWorldMatrix(!1)}}var d=l},48612:function(t,n,e){"use strict";e.d(n,{r:function(){return r}});const r=["OPAQUE","MASK","BLEND"]},79763:function(t,n,e){"use strict";e.d(n,{Z:function(){return r}});class r{constructor(t=!1,n=!1){this._ref=null,this._lists=new Set,this._hasCode=t,this._hasSetup=n,this._invalid=!0,this._children=[]}collectChunks(t,n){if(t.add(this),null!==this._ref)this._ref.collectChunks(t,n);else{for(const e of this._children)e.collectChunks(t,n);n.add(this)}}detectCyclicDependency(t){const n=new Set,e=new Set;return t.collectChunks(n,e),n.has(this)}addChild(t){if(this._children.indexOf(t)>-1)return t;if(this.detectCyclicDependency(t))throw new Error("Chunk.addChild() will lead to cyclic dependency");return this._children.push(t),this.invalidateList(),t}removeChild(t){var n=this._children.indexOf(t);n>-1&&this._children.splice(n,1),this.invalidateList()}genCode(t){null!==this._ref?this._ref.genCode(t):this._genCode(t)}get hasCode(){return null!==this._ref?this._ref.hasCode:this._hasCode}get hasSetup(){return null!==this._ref?this._ref.hasSetup:this._hasSetup}get isInvalid(){return null!==this._ref?this._ref.isInvalid:this._invalid}setup(t){}addList(t){this._lists.add(t)}removeList(t){this._lists.delete(t)}invalidateList(){for(const t of this._lists.values())t.invalidateList()}invalidateCode(){for(const t of this._lists.values())t.invalidateCode()}proxy(t=null){if(this._ref!==t){if(null!==t&&this.detectCyclicDependency(t))throw new Error("Chunk.proxy() will lead to cyclic dependency");this._ref=t,this.invalidateList()}}createProxy(){const t=r,n=new t;return n.proxy(this),n}}},80629:function(t,n,e){"use strict";e.d(n,{Z:function(){return i}});var r=e(37362);class i{constructor(){this._invalidList=!0,this._invalidCode=!0,this._revision=0,this._all=new Set,this._actives=new Set,this._chunks=[],this._setups=[],this._codes=[],this._cachedSlots=null}add(t){return-1===this._chunks.indexOf(t)&&(this._chunks.push(t),this.invalidateList()),t}remove(t){const n=this._chunks.indexOf(t);n>-1&&(this._chunks.splice(n,1),this.invalidateList())}addChunks(t){for(const n of t)this.add(n)}invalidateList(){this._invalidList=!0,this.invalidateCode()}invalidateCode(){this._invalidCode||(this._invalidCode=!0,this._revision++)}isInvalid(){return this._invalidList||this._invalidCode}getRevision(){return this._revision}_collectChunks(){const t=this._all,n=this._setups,e=this._codes,r=this._actives;for(const i of t)i.removeList(this);t.clear(),r.clear(),n.length=0,e.length=0;for(const i of this._chunks)i.collectChunks(t,r);for(const i of r)i.hasSetup&&n.push(i),i.hasCode&&e.push(i);for(const i of t)i.addList(this);this._invalidList=!1}setupProgram(t){for(const n of this._setups)n.setup(t)}getCode(t){if(this._invalidList&&this._collectChunks(),null===this._cachedSlots||this._invalidCode){const t=new r.Z;for(const n of this._codes)n.genCode(t);this._cachedSlots=t,this._invalidCode=!1}return void 0!==t?(t.merge(this._cachedSlots),t):this._cachedSlots}}},37362:function(t,n,e){"use strict";e.d(n,{Z:function(){return a}});var r=e(82874);class i{constructor(t){this.code=t,this.hash=(0,r.Wu)(t)}}class s{constructor(t){this._hash=0,this.hashset=new Set,this.codes=[],this._code="",this.key=t}add(t){this.hashset.has(t.hash)||(this.hashset.add(t.hash),this.codes.push(t),this._code+=t.code+"\n",this._hash=(0,r.GB)(this._hash,t.hash))}merge(t){for(const n of t.codes)this.add(n)}get code(){return this._code}get hash(){return this._hash}}class a{constructor(){this.hash=0,this.slots=[],this.slotsMap={}}getHash(){let t=0;for(const n of this.slots)t=(0,r.GB)(t,n.hash);return t}getSlot(t){var n=this.slotsMap[t];return void 0===n&&(n=new s(t),this.slotsMap[t]=n,this.slots.push(n)),n}add(t,n){this.getSlot(t).add(new i(n))}merge(t){for(var n of t.slots)this.getSlot(n.key).merge(n)}}},65497:function(t,n,e){"use strict";var r;e.d(n,{u:function(){return r}}),function(t){t["AUTO"]="auto",t["SRGB"]="srgb",t["LINEAR"]="linear"}(r||(r={}));r.SRGB,r.LINEAR},17422:function(t,n,e){"use strict";const r=["D_RGB","D_DEPTH"];n["Z"]=r},24033:function(t,n,e){"use strict";var r=e(79763);function i(t,n,e){return t+=`#define ${n} ${e+1}\n`,t}class s extends r.Z{constructor(t,n){super(!0,!1),this.name=t,this.values=n,this._valIndex=0,this._val=this.values[0],this._enumDefs=this.values.reduce(i,""),this._accesDef=`#define ${this.name}(k) VAL_${this.name} == k`}value(){return this._val}set(t){if(this._val===t)return;const n=this.values.indexOf(t);if(-1===n)throw new Error(`invalide Enum value :${t}`);this._valIndex!==n&&(this._valIndex=n,this._val=t,this.invalidateCode())}_genCode(t){const n=[this._enumDefs,`#define VAL_${this.name} ${this._val}`,this._accesDef].join("\n");t.add("definitions",n)}}n["Z"]=s},96323:function(t,n,e){"use strict";var r=e(79763);class i extends r.Z{constructor(t,n=!1){super(!0,!1),this.name=t,this._val=!!n}enable(){this.set(!0)}disable(){this.set(!1)}set(t=!1){this._val!==t&&(this._val=t,this.invalidateCode())}get value(){return this._val}_genCode(t){const n=`#define ${this.name} ${~~this._val}`;t.add("definitions",n)}}n["Z"]=i},76595:function(t,n,e){"use strict";e.d(n,{n:function(){return r}});const r=["GAMMA_NONE","GAMMA_STD","GAMMA_2_2","GAMMA_TB"]},82874:function(t,n,e){"use strict";function r(t){return t=1204521612^t^t<<12,t=1638500540^t^t>>19,t=2027070408^t^t<<5,t=1500688830^t^t<<9,t=782708222^t^t<<3,t=1609631101^t^t>>16,t}function i(t,n){n=r(n);let e=n>>0&15,i=n>>4&15,s=n>>8&15,a=n>>12&15;return t=n^(1204521612^t)<<e^n^(2027070408^t)>>31-e,t=n^(1638500540^t)<<i^n^(1500688830^t)>>31-i,t=n^(2027070408^t)<<s^n^(782708222^t)>>31-s,t=n^(1500688830^t)<<a^n^(1609631101^t)>>31-a,t}let s;e.d(n,{GB:function(){return _},KX:function(){return m},Wu:function(){return u},gz:function(){return v}});const a=new ArrayBuffer(16384),o=new Uint8Array(a),h=new Uint16Array(a);if(void 0!==TextEncoder){const t=new TextEncoder;s=n=>{const e=t.encode(n);if(e.byteLength>a.byteLength)throw new Error("string is too big");let r=e.byteLength;return 0!==(1&r)&&(r+=1,o[e.byteLength]=0),o.set(e),new Uint16Array(a,0,r/2)}}else s=t=>{const n=t.length;for(let e=0;e<n;e++)h[e]=t.charCodeAt(e);return new Uint16Array(a,0,n)};function u(t,n=0){const e=s(t);for(let r=0;r<e.length;r++)n=i(n,0|e[r]);return n}const c=new ArrayBuffer(8),l=new Float64Array(c),d=new Uint32Array(c);function f(t,n=0){return l[0]=t,n=i(n,0|d[0]),n=i(n,0|d[1]),n}function _(t,n){return f(t,n)}function m(t,n=0){let e=t.byteLength,r=0!==(1&t.byteLength);r&&(e=t.byteLength-1);const s=new Uint16Array(t.buffer,t.byteOffset,e/2);for(let a=0;a<s.length;a++)n=i(n,0|s[a]);if(r){const e=new Uint8Array(t.buffer,t.byteOffset+t.byteLength-1,1)[0];n=i(n,0|e<<8)}return n}function v(t){let n=t.toString(16);return"-"===n[0]&&(n=n.replace("-","z")),n}class p{constructor(){this._hash=0}start(){return this._hash=0,this}hashString(t){return this._hash=u(t,this._hash),this}hashNumber(t){return this._hash=f(t,this._hash),this}hashView(t){return this._hash=m(t,this._hash),this}get(){const t=this._hash;return this._hash=0,t}}new p},49500:function(t,n,e){"use strict";e.d(n,{Ho:function(){return h},Z4:function(){return m},ZP:function(){return M},xW:function(){return v}});var r=e(79763),i=e(82874),s=e(1517),a=e(65497);const o=[null,"float","vec2","vec3","vec4"];var h,u;function c(t,n){const e=t.length;if(e===n)return t;if(e>n)return t.substr(0,n);const r=t[e-1];while(t.length<n)t+=r;return t}function l(t){return t.toPrecision(8)}function d(t,n,e){0!==(n&h.FRAGMENT)&&t.add("f",e),0!==(n&h.VERTEX)&&t.add("v",e)}function f(t,n,e){0!==(n&h.FRAGMENT)&&t.add("pf",e),0!==(n&h.VERTEX)&&t.add("pv",e)}(function(t){t[t["FRAGMENT"]=1]="FRAGMENT",t[t["VERTEX"]=2]="VERTEX",t[t["ALL"]=3]="ALL"})(h||(h={})),function(t){t[t["SAMPLER"]=0]="SAMPLER",t[t["UNIFORM"]=1]="UNIFORM",t[t["ATTRIBUTE"]=2]="ATTRIBUTE",t[t["CONSTANT"]=3]="CONSTANT"}(u||(u={}));class _ extends r.Z{constructor(t=!1,n=!1){super(t,n),this._colorspace=a.u.AUTO}set colorspace(t){this._colorspace!==t&&(this._colorspace=t,this.invalidateCode())}get colorspace(){return this._colorspace}}class m extends _{constructor(t,n=s.ZP.create(),e=a.u.AUTO){super(!0,!0),this.ptype=u.SAMPLER,this.name=t,this._tex=null,this.size=4,this._colorspace=e,"string"===typeof n?(this.texCoords=n,this._varying=n):(this.texCoords=n,this.addChild(this.texCoords),this._varying=n.varying()),this.token=`VAL_${this.name}${this._varying}`}set(t){this._tex=t}_genCode(t){}genInputCode(t,n){let e;e=`uniform sampler2D ${this.name};\n`,f(t,n.shader,e),e=`vec4 ${this.token} = texture2D( ${this.name}, ${this._varying});\n`,e+=m.colorSpaceTransformCode(this._colorspace,n.colorspace,`${this.token}.rgb`),d(t,n.shader,e)}setup(t){t[this.name](this._tex)}static colorSpaceTransformCode(t,n,e){return t===a.u.LINEAR&&n===a.u.SRGB?`${e} = sqrt(${e});`:t===a.u.SRGB&&n===a.u.LINEAR?`${e} = ${e}*${e};`:""}}class v extends _{constructor(t,n){super(!0,!0),this.ptype=u.UNIFORM,this.name=t,this.size=n,this._value=new Float32Array(n),this.token="VAL_"+this.name}get value(){return this._value}set x(t){this._value[0]=t}set y(t){this._value[1]=t}set z(t){this._value[2]=t}set w(t){this._value[3]=t}get x(){return this._value[0]}get y(){return this._value[1]}get z(){return this._value[2]}get w(){return this._value[3]}set(...t){for(var n=0;n<t.length;n++)this._value[n]=t[n];this._invalid=!0}_genCode(t){}genInputCode(t,n){let e=`uniform ${o[this.size]} ${this.name};\n`;e+=v.colorSpaceTransformCode(this._colorspace,n.colorspace,this.token,this.name),f(t,n.shader,e)}setup(t){t[this.name](this._value),this._invalid=!1}static colorSpaceTransformCode(t,n,e,r){return t===a.u.LINEAR&&n===a.u.SRGB?`#define ${e} sqrt(${r})`:t===a.u.SRGB&&n===a.u.LINEAR?`#define ${e} (${r}*${r})`:`#define ${e} ${r}`}}class p extends _{constructor(t,n){super(!0,!1),this.ptype=u.ATTRIBUTE,this.name=t,this.size=n,this.token=`v_${this.name}`}_genCode(t){}genInputCode(t,n){var e;const r=o[this.size];e=`IN ${r} ${this.token};\n`,t.add("pf",e),e=`IN ${r} ${this.name};\n`,e+=`OUT ${r} ${this.token};\n`,t.add("pv",e),e=`${this.token} = ${this.name};\n`,t.add("v",e)}}class g extends _{constructor(t){super(!0,!1),this.ptype=u.CONSTANT,this.name="",this.size=1,this.token="",this.value=0,this._hash=0,this.set(t)}set(t){"number"===typeof t?(this.size=1,this.value=t):(this.size=t.length,this.value=Array.from(t));const n=this._hash;this._hash=(0,i.Wu)(`${this.size}-${this._stringifyValue()}`),this.name=`CONST_${(0,i.gz)(this._hash)}`,this.token=`VAR_${this.name}`,n!==this._hash&&this.invalidateCode()}_genCode(t){}genInputCode(t,n){let e=`#define RAW_${this.token} ${o[this.size]}(${this._stringifyValue()})\n`;e+=v.colorSpaceTransformCode(this._colorspace,n.colorspace,this.token,"RAW_"+this.token),f(t,n.shader,e)}_stringifyValue(){if(1===this.size)return this.value.toString();{const t=this.value;return t.map(l).join(",")}}}class M extends r.Z{constructor(t,n,e=h.FRAGMENT,r=a.u.LINEAR){super(!0,!1),this._colorspace=a.u.LINEAR,this.name=t,this.size=n,this.param=null,this.comps=c("rgba",n),this.shader=e,this.colorspace=r}set colorspace(t){this._colorspace!==t&&(this._colorspace=t,this.invalidateCode())}get colorspace(){return this._colorspace}attach(t,n="rgba"){this.param&&this.removeChild(this.param),this.param=t,this.comps=c(n,this.size),this.addChild(t)}detach(){null!==this.param&&this.removeChild(this.param),this.param=null}attachSampler(t=`T${this.name}`,n=s.ZP.create(),e="rgba"){const r=new m(t,n);return this.attach(r,e),r}attachUniform(t=`U${this.name}`,n=this.size,e="rgba"){const r=new v(t,n);return this.attach(r,e),r}attachAttribute(t=`A${this.name}`,n=this.size,e="rgba"){const r=new p(t,n);return this.attach(r,e),r}attachConstant(t,n="rgba"){const e=new g(t);return this.attach(e,n),e}_genCode(t){var n;null===(n=this.param)||void 0===n||n.genInputCode(t,this);const e=null===this.param?"0":"1",r=`#define HAS_${this.name} ${e}\n`;if(t.add("definitions",r),null!==this.param){var i=`#define ${this.name}(k) ${this.param.token}`;if(this.param.size>1&&(i+=`.${this.comps}`),f(t,this.shader,i),this.param.ptype===u.SAMPLER){i=`#define ${this.name}_texCoord(k) ${this.param._varying}`;f(t,this.shader,i)}}}}M.Sampler=m,M.Uniform=v,M.Attribute=p,M.Constant=g,M.FRAGMENT=h.FRAGMENT,M.VERTEX=h.VERTEX,M.ALL=h.ALL},4378:function(t,n,e){"use strict";e.d(n,{Z:function(){return s}});var r=e(81952),i=e(80629);class s{constructor(t){this.name="",this.mask=-1,this.glconfig=new r.ZP,this.inputs=new i.Z,this._shaderSource=t}}},36552:function(t,n,e){"use strict";e.d(n,{Y$:function(){return f},ox:function(){return d}});var r,i=e(79763),s=e(49500),a=e(24033),o=e(89566),h=e.n(o),u=e(96215),c=e.n(u);(function(t){t["NONE"]="NONE",t["METALNESS"]="METALNESS",t["SPECULAR"]="SPECULAR"})(r||(r={}));class l extends i.Z{constructor(){super(!0,!1),this.type=r.NONE,this.pbrInputType=new a.Z("pbrWorkflow",["SPECULAR","METALNESS"]),this.addChild(this.pbrInputType)}_genCode(t){t.add("pbrsurface","PbrSurface surface = DefaultPbrSurface;")}}class d extends l{constructor(){super(),this.type=r.METALNESS,this.pbrInputType.set(this.type),this.addChild(this.baseColor=new s.ZP("baseColor",3)),this.addChild(this.baseColorFactor=new s.ZP("baseColorFactor",3)),this.addChild(this.metalness=new s.ZP("metalness",1)),this.addChild(this.metalnessFactor=new s.ZP("metalnessFactor",1)),this.addChild(this.roughness=new s.ZP("roughness",1)),this.addChild(this.roughnessFactor=new s.ZP("roughnessFactor",1))}_genCode(t){t.add("pbrsurface",h()())}}class f extends l{constructor(){super(),this.type=r.SPECULAR,this.pbrInputType.set(this.type),this.addChild(this.baseColor=new s.ZP("diffuse",3)),this.addChild(this.baseColorFactor=new s.ZP("diffuseFactor",3)),this.addChild(this.specular=new s.ZP("specular",3)),this.addChild(this.specularFactor=new s.ZP("specularFactor",3)),this.addChild(this.glossiness=new s.ZP("glossiness",1)),this.addChild(this.glossinessFactor=new s.ZP("glossinessFactor",1))}_genCode(t){t.add("pbrsurface",c()())}}},93497:function(t,n,e){"use strict";var r=e(79763);class i extends r.Z{constructor(t="mediump"){super(!0,!1),this.fprecision=t}set(t){this.fprecision=t}_genCode(t){const n=`precision ${this.fprecision} float;\n`;t.add("precision",n)}}n["Z"]=i},41863:function(t,n,e){"use strict";var r=e(79763),i=e(8098);class s extends r.Z{constructor(t="100"){super(!0,!1),this.version=t}set(t){this.version!==t&&(this.version=t,this.invalidateCode())}get(){return this.version}_genCode(t){var n=`#version ${this.version}`;t.add("version",n)}guessFromContext(t){this.set((0,i.I)(t)?"300 es":"100")}}n["Z"]=s},48752:function(t,n,e){"use strict";e.d(n,{Fp:function(){return g}});var r=e(63887),i=e(99699),s=e.n(i),a=e(21550),o=e.n(a),h=e(49500),u=e(96323),c=e(24033),l=e(76595),d=e(4378),f=e(48612),_=e(41863),m=e(93497);e(36552);const v=r.mat4.create(),p="std";class g extends d.Z{constructor(t="gltf-std-pass"){super({uid:p,vert:s()(),frag:o()()});const n=this.inputs;n.add(this.version=new _.Z),n.add(this.precision=new m.Z("highp")),n.add(this.shaderid=new u.Z("id_"+p,!0)),n.add(this.alpha=new h.ZP("alpha",1)),n.add(this.alphaFactor=new h.ZP("alphaFactor",1)),n.add(this.alphaCutoff=new h.ZP("alphaCutoff",1)),n.add(this.emissive=new h.ZP("emissive",3)),n.add(this.emissiveFactor=new h.ZP("emissiveFactor",3)),n.add(this.normal=new h.ZP("normal",3)),n.add(this.normalScale=new h.ZP("normalScale",1)),n.add(this.occlusion=new h.ZP("occlusion",1)),n.add(this.occlusionStrength=new h.ZP("occlusionStrength",1)),n.add(this.iGamma=new h.ZP("gamma",1)),n.add(this.iExposure=new h.ZP("exposure",1)),n.add(this.alphaMode=new c.Z("alphaMode",f.r)),n.add(this.gammaMode=new c.Z("gammaMode",l.n)).set("GAMMA_2_2"),n.add(this.doubleSided=new u.Z("doubleSided",!1)),n.add(this.perVertexIrrad=new u.Z("perVertexIrrad",!1)),n.add(this.horizonFading=new u.Z("horizonFading",!1)),n.add(this.glossNearest=new u.Z("glossNearest",!1))}setSurface(t){this.surface&&this.inputs.remove(this.surface),this.surface=t,this.inputs.add(this.surface)}setLightSetup(t){this.inputs.addChunks(t.getChunks("std"))}prepare(t,n,e){t.uMVP&&(e.modelViewProjectionMatrix(v,n._wmatrix),t.uMVP(v)),t.uWorldMatrix&&t.uWorldMatrix(n._wmatrix),t.uVP&&t.uVP(e._viewProj),t.uCameraPosition&&t.uCameraPosition(e._wposition)}}},1517:function(t,n,e){"use strict";var r=e(63887),i=e(79763),s=e(49500),a=e(82874);const o=1e-6,h=r.mat3.create(),u=r.mat3.create();function c(t){return Math.abs(t)<o}function l(t){return c(t[0])&&c(t[1])}function d(t){return c(t[0]-1)&&c(t[1]-1)}const f=new Float32Array(4);function _(t,n,e,r){const i=Math.cos(e),s=Math.sin(e);t[0]=r[0]*i,t[1]=r[0]*-s,t[3]=r[1]*s,t[4]=r[1]*i,t[6]=n[0],t[7]=n[0],t[2]=0,t[5]=0,t[8]=0}const m="aTexCoord0",v={declareIn(t){return`IN mediump vec2 ${t};`},declareOut(t){return`OUT mediump vec2 ${t};`},transformCode(t,n,e){let r=t.attrib;return void 0!==e&&(r=`mat2( ${e}() ) * ${r}`),void 0!==n&&(r=`${r} + ${n}()`),`${t.varying()} = ${r};`}};class p{constructor(){this.buffer=new Float32Array(5),this.translation=new Float32Array(this.buffer.buffer,0,2),this.scale=new Float32Array(this.buffer.buffer,8,2),this.rotation=new Float32Array(this.buffer.buffer,16,1)}decomposeMatrix(t){this.translation[0]=t[6],this.translation[1]=t[7],this.scale[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),this.scale[1]=Math.sqrt(t[3]*t[3]+t[4]*t[4]),this.rotation[0]=Math.atan2(t[1],t[0])}composeMat2(){const t=Math.cos(this.rotation[0]),n=Math.sin(this.rotation[0]);return f[0]=this.scale[0]*t,f[1]=this.scale[0]*-n,f[2]=this.scale[1]*n,f[3]=this.scale[1]*t,f}getTransformHash(){return(0,a.KX)(this.buffer)}}class g extends i.Z{constructor(t=m,n){super(!0,n),this._uid="",this.attrib=t,this._transform=new p}static create(t){return new T(t,u)}static createTransformed(t,n=u){return new T(t,n)}static createFromTRS(t,n={}){var e,r,i;const s=null!==(e=n.translation)&&void 0!==e?e:[0,0],a=null!==(r=n.rotation)&&void 0!==r?r:0,o=null!==(i=n.scale)&&void 0!==i?i:0;return _(h,s,a,[o,o]),new T(t,h)}static createTransformedDynamic(t){return new M(t)}_genCode(t){t.add("pf",v.declareIn(this.varying())),t.add("pv",v.declareOut(this.varying())),t.add("pv",v.declareIn(this.attrib)),t.add("v",this.getTransformCode())}}class M extends g{constructor(t=m){super(t,!0),this._uid=""+M._UID++,this._translateInput=this.addChild(new s.ZP(`tct_t_${this._uid}`,2,s.ZP.VERTEX)),this._rotateScalesInput=this.addChild(new s.ZP(`tct_rs_${this._uid}`,4,s.ZP.VERTEX)),this._translateUniform=new s.xW(`tct_ut_${this._uid}`,2),this._rotationScaleUniform=new s.xW(`tct_urs_${this._uid}`,4),this._translateInput.attach(this._translateUniform),this._rotateScalesInput.attach(this._rotationScaleUniform)}varying(){return`vTexCoord_dtt${this._uid}`}getTransformCode(){return v.transformCode(this,this._translateInput.name,this._rotateScalesInput.name)}translate(t,n){return this._transform.translation[0]=t,this._transform.translation[1]=n,this.updateTransform(),this}rotate(t){return this._transform.rotation[0]=t,this.updateTransform(),this}scale(t,n=t){return this._transform.scale[0]=t,this._transform.scale[1]=n,this.updateTransform(),this}setMatrix(t){this._transform.decomposeMatrix(t),this.updateTransform()}updateTransform(){this._translateUniform.set(...this._transform.translation),this._rotationScaleUniform.set(...this._transform.composeMat2())}}M._UID=0;class T extends g{constructor(t=m,n){super(t,!1),this._transform.decomposeMatrix(n);const e=(0,a.gz)(this._transform.getTransformHash());if(!l(this._transform.translation)){const t=new s.ZP(`tct_t_${e}`,2,s.ZP.VERTEX);this._translateInput=t,this._translateConst=t.attachConstant(this._transform.translation),this.addChild(t)}if(!d(this._transform.scale)||!c(this._transform.rotation[0])){const t=new s.ZP(`tct_rs_${e}`,4,s.ZP.VERTEX);this._rotateScalesInput=t,this._rotateScalesConst=t.attachConstant(this._transform.composeMat2()),this.addChild(t)}}varying(){const t=(0,a.GB)((0,a.Wu)(this.attrib),this._transform.getTransformHash());return`vTexCoord_${(0,a.gz)(t)}`}getTransformCode(){var t,n;return v.transformCode(this,null===(t=this._translateInput)||void 0===t?void 0:t.name,null===(n=this._rotateScalesInput)||void 0===n?void 0:n.name)}}n["ZP"]=g},86375:function(t,n,e){"use strict";e.d(n,{Z:function(){return s},t:function(){return a}});var r=e(61987),i=e(76670);class s extends r.Z{constructor(){super()}}function a(t){return t._type===i.Z.DIRECTIONAL||t._type===i.Z.SPOT}},76670:function(t,n){"use strict";var e;(function(t){t[t["UNKNOWN"]=0]="UNKNOWN",t[t["DIRECTIONAL"]=1]="DIRECTIONAL",t[t["SPOT"]=2]="SPOT",t[t["POINT"]=4]="POINT",t[t["IBL"]=5]="IBL"})(e||(e={})),n["Z"]=e},35979:function(t,n,e){"use strict";function r(t){return void 0!==t.texStorage3D}e.d(n,{Z:function(){return i}});class i{constructor(t){this.gl=t,this.EXT_texture_float=t.getExtension("OES_texture_float"),this.EXT_texture_half_float=t.getExtension("OES_texture_half_float"),this.EXT_texture_half_float_linear=t.getExtension("OES_texture_half_float_linear"),this.EXT_texture_float_linear=t.getExtension("OES_texture_float_linear"),this.EXT_color_buffer_float=t.getExtension("EXT_color_buffer_float"),this.EXT_color_buffer_half_float=t.getExtension("EXT_color_buffer_half_float"),this.WEBGL_depth_texture=t.getExtension("WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture");const n=t,e=t;void 0===e.HALF_FLOAT&&this.EXT_texture_half_float&&(n.HALF_FLOAT=this.EXT_texture_half_float.HALF_FLOAT_OES),void 0===e.UNSIGNED_INT_24_8&&this.WEBGL_depth_texture&&(n.UNSIGNED_INT_24_8=34042),this._availables={},this._renderables={},this.RGB8=s(t.RGB,e.RGB,e.UNSIGNED_BYTE),this.RGBA8=s(t.RGBA,e.RGBA,e.UNSIGNED_BYTE),this.RGB32F=s(t.RGB,e.RGB32F,e.FLOAT),this.RGBA32F=s(t.RGBA,e.RGBA32F,e.FLOAT),this.RGB16F=s(t.RGB,e.RGB16F,e.HALF_FLOAT),this.RGBA16F=s(t.RGBA,e.RGBA16F,e.HALF_FLOAT),this.A2B10G10R10=s(t.RGBA,e.RGB10_A2,e.UNSIGNED_INT_2_10_10_10_REV)}static getInstance(t){const n=t;let e=n.__pf;return void 0===e&&(n.__pf=e=new i(t)),e}dispose(){this.EXT_texture_float=null,this.EXT_texture_half_float=null,this.EXT_texture_half_float_linear=null,this.EXT_texture_float_linear=null,this.EXT_color_buffer_float=null,this.EXT_color_buffer_half_float=null;const t=this.gl;t.__pf===this&&delete t.__pf}hasDepthTexture(){return r(this.gl)?this.isAvailable(this.gl.DEPTH_COMPONENT,this.gl.UNSIGNED_INT,this.gl.DEPTH_COMPONENT24):this.isAvailable(this.gl.DEPTH_COMPONENT,this.gl.UNSIGNED_INT,this.gl.DEPTH_COMPONENT)}isAvailable(t,n,e=t){if(void 0===t||void 0===n)return!1;const r=a(t,n,e);return void 0===this._availables[r]&&(this._availables[r]=this._testAvailable(t,n,e)),this._availables[r]}isRenderable(t,n,e=t){if(void 0===t||void 0===n)return!1;const r=a(t,n,e);if(void 0===this._renderables[r]){const i=this.isAvailable(t,n,e);this._renderables[r]=i&&this._testRenderable(t,n,e)}return this._renderables[r]}getRenderableFormat(t){for(var n=0;n<t.length;n++){var e=t[n];if(this.isRenderable(e.format,e.type,e.internal))return e}return null}_testAvailable(t,n,e){const r=this.gl;r.getError();const i=r.createTexture();return r.bindTexture(r.TEXTURE_2D,i),r.texImage2D(r.TEXTURE_2D,0,e,4,4,0,t,n,null),r.deleteTexture(i),0===r.getError()}_testRenderable(t,n,e){const r=this.gl,i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i),r.texImage2D(r.TEXTURE_2D,0,e,4,4,0,t,n,null);const s=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,s),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,i,0);const a=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindTexture(r.TEXTURE_2D,null),r.deleteTexture(i),r.deleteFramebuffer(s),a}}function s(t,n,e){return{format:t,internal:n,type:e}}function a(t,n,e){return t^n<<8^e<<16}},81952:function(t,n,e){"use strict";e.d(n,{A$:function(){return r},ZP:function(){return m},zx:function(){return a}});const r=51,i=new Float32Array(1),s=new Uint32Array(i.buffer),a=[1,512,1024,1024,2048,4096,4096,4,8192,2,16384,32768,256,65536,65536,65536,262144,131072,131072,131072,524288,524288,524288,2097152,1048576,1048576,1048576,128,4194304,4194304,4194304,4194304,8,16,8388608,8388608,32,64,16777216,33554432,67108864,67108864,67108864,67108864,134217728,134217728,134217728,134217728,268435456,268435456,536870912],o=935847839,h=new Uint16Array([0,32774,0,1,0,0,0,0,513,0,1029,2305,0,519,0,65535,65535,7680,7680,7680,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,15,1,0,0,0,0,0,0,0,0,c(0),c(1),f(1)]);function u(t){return t|(4096&t)>>>2|(2048&t)>>>2|(524288&t)>>>3|(1048576&t)>>>3|(2097152&t)>>>3}function c(t){return 0|Math.round(65535*t)}function l(t){return t/65535}function d(t){var n=(31744&t)>>10,e=1023&t;return(t>>15?-1:1)*(n?31===n?e?NaN:1/0:Math.pow(2,n-15)*(1+e/1024):e/1024*6103515625e-14)}function f(t){i[0]=t;const n=s[0];let e=n>>31<<5,r=n>>23&255;return r=r-112&112-r>>4>>27,e=(e|r)<<10,e|=n>>13&1023,e}function _(t,n){return t.getParameter(n)}class m{constructor(){this._dat=new Uint16Array(51),this._set=0}static encodeHalf(t){return f(t)}static decodeHalf(t){return d(t)}toDefault(){this._dat.set(h),this._set=0|o}clone(){const t=new m;return t._dat.set(this._dat),t._set=this._set,t}patch(t,n){var e,r=this._dat,i=this._set,s=t._dat,o=t._set,h=n._dat,c=0;h.set(s);for(var l=0;l<51;l++)e=a[l],0!==(i&e)&&(0!==(o&e)&&r[l]===s[l]||(c|=e,h[l]=r[l]),o|=e,s[l]=r[l]);t._set=u(o),n._set=u(c)}setupGL(t){const n=this._set,e=this._dat;let r;if(0!==(1&n)&&(e[0]?t.enable(3042):t.disable(3042)),r=2560&n,0!==r&&(2560===r?t.blendEquationSeparate(e[1],e[4]):t.blendEquation(e[1])),r=5120&n,0!==r&&(5120===r?t.blendFuncSeparate(e[3],e[2],e[6],e[5]):t.blendFunc(e[3],e[2])),0!==(4&n)&&(e[7]?t.enable(2929):t.disable(2929)),0!==(8192&n)&&t.depthFunc(e[8]),0!==(2&n)&&(e[9]?t.enable(2884):t.disable(2884)),0!==(16384&n)&&t.cullFace(e[10]),0!==(32768&n)&&t.frontFace(e[11]),0!==(536870912&n)&&t.lineWidth(d(e[50])),0!==(256&n)&&(e[12]?t.enable(2960):t.disable(2960)),r=589824&n,0!==r&&(589824===r?(t.stencilFuncSeparate(1028,e[13],e[14],e[15]),t.stencilFuncSeparate(1029,e[20],e[21],e[22])):t.stencilFunc(e[13],e[14],e[15])),r=1179648&n,0!==r&&(1179648===r?(t.stencilOpSeparate(1028,e[17],e[18],e[19]),t.stencilOpSeparate(1029,e[24],e[25],e[26])):t.stencilOp(e[17],e[18],e[19])),r=2359296&n,0!==r&&(2359296===r?(t.stencilMaskSeparate(1028,e[16]),t.stencilMaskSeparate(1029,e[23])):t.stencilMask(e[16])),0!==(16777216&n)){var i=e[38];t.colorMask(1===(1&i),2===(2&i),4===(4&i),8===(8&i))}0!==(33554432&n)&&t.depthMask(1===e[39]),0!==(67108864&n)&&t.blendColor(d(e[40]),d(e[41]),d(e[42]),d(e[43])),0!==(128&n)&&(e[27]?t.enable(3089):t.disable(3089)),0!==(4194304&n)&&t.scissor(e[28],e[29],e[30],e[31]),0!==(134217728&n)&&t.viewport(e[44],e[45],e[46],e[47]),0!==(16&n)&&(e[33]?t.enable(32823):t.disable(32823)),0!==(8388608&n)&&t.polygonOffset(d(e[34]),d(e[35])),0!==(268435456&n)&&t.depthRange(l(e[48]),l(e[49]))}fromGL(t){this._set=0;const n=_(t,3042),e=_(t,2884),r=_(t,2929),i=_(t,3024),s=_(t,32823),a=_(t,3089),o=_(t,2960),h=_(t,32969),u=_(t,32968),c=_(t,32971),l=_(t,32970),d=_(t,32777),f=_(t,34877),m=_(t,2962),v=_(t,2967),p=_(t,2963),g=_(t,2968),M=_(t,2964),T=_(t,2965),E=_(t,2966),x=_(t,34816),A=_(t,36003),S=_(t,36004),w=_(t,36005),R=_(t,34817),b=_(t,34818),y=_(t,34819),C=_(t,32824),D=_(t,10752),F=_(t,3088),P=_(t,3107),N=_(t,2930),L=_(t,32773),I=_(t,2978),O=_(t,2928),B=_(t,2849);this.enableBlend(n),h!==c||u!==l?this.blendFuncSeparate(h,u,c,l):this.blendFunc(h,u),d!==f?this.blendEquationSeparate(d,f):this.blendEquation(d),this.enableStencil(o),m!==x||v!==A||p!==S?this.stencilFuncSeparate(m,v,p,x,A,S):this.stencilFunc(m,v,p),M!==R||T!==b||E!==y?this.stencilOpSeparate(M,T,E,R,b,y):this.stencilOp(M,T,E),g!==w?this.stencilMaskSeparate(g,w):this.stencilMask(g),this.depthFunc(t.getParameter(2932)),this.enableDepthTest(r),this.cullFace(t.getParameter(2885)),this.enableCullface(e),this.frontFace(t.getParameter(2886)),this.enablePolygonOffset(s),this.polygonOffset(C,D),this.enableScissor(a),this.scissor(F[0],F[1],F[2],F[3]),this.enableDither(i),this.colorMask(P[0],P[1],P[2],P[3]),this.depthMask(N),this.blendColor(L[0],L[1],L[2],L[3]),this.viewport(I[0],I[1],I[2],I[3]),this.depthRange(O[0],O[1]),this.lineWidth(B)}enableBlend(t=!0){return this._dat[0]=+t,this._set|=1,this}blendFunc(t,n){return this._dat[3]=t,this._dat[2]=n,this._set=-4097&this._set|1024,this}blendFuncSeparate(t,n,e,r){return this._dat[3]=t,this._dat[2]=n,this._dat[6]=e,this._dat[5]=r,this._set|=5120,this}blendEquation(t){return this._dat[1]=t,this._set=-2049&this._set|512,this}blendEquationSeparate(t,n){return this._dat[1]=t,this._dat[4]=n,this._set|=2560,this}blendColor(t,n,e,r){return this._dat[40]=f(t),this._dat[41]=f(n),this._dat[42]=f(e),this._dat[43]=f(r),this._set|=67108864,this}depthFunc(t){return this._dat[8]=t,this._set|=8192,this}enableDepthTest(t=!0){return this._dat[7]=+t,this._set|=4,this}depthRange(t,n){return this._dat[48]=c(t),this._dat[49]=c(n),this._set|=268435456,this}lineWidth(t){return this._dat[50]=f(t),this._set|=536870912,this}cullFace(t){return this._dat[10]=t,this._set|=16384,this}enableCullface(t=!0){return this._dat[9]=+t,this._set|=2,this}polygonOffset(t,n){return this._dat[34]=f(t),this._dat[35]=f(n),this._set|=8388608,this}enablePolygonOffset(t=!0){return this._dat[33]=+t,this._set|=16,this}enableScissor(t=!0){return this._dat[27]=+t,this._set|=128,this}scissor(t,n,e,r){return this._dat[28]=t,this._dat[29]=n,this._dat[30]=e,this._dat[31]=r,this._set|=4194304,this}viewport(t,n,e,r){return this._dat[44]=t,this._dat[45]=n,this._dat[46]=e,this._dat[47]=r,this._set|=134217728,this}enableDither(t=!0){return this._dat[32]=+t,this._set|=8,this}depthMask(t){return this._dat[39]=+t,this._set|=33554432,this}colorMask(t,n,e,r){const i=(t?1:0)|(n?1:0)<<1|(e?1:0)<<2|(r?1:0)<<3;return this._dat[38]=i,this._set|=16777216,this}frontFace(t){return this._dat[11]=t,this._set|=32768,this}enableStencil(t=!0){return this._dat[12]=+t,this._set|=256,this}stencilFunc(t,n,e){return this._dat[13]=t,this._dat[14]=n,this._dat[15]=e,this._set=-524289&this._set|65536,this}stencilOp(t,n,e){return this._dat[17]=t,this._dat[18]=n,this._dat[19]=e,this._set=-1048577&this._set|131072,this}stencilMask(t){return this._dat[16]=t,this._set=-2097153&this._set|262144,this}stencilFuncSeparate(t,n,e,r,i,s){const a=this._dat;return a[13]=t,a[14]=n,a[15]=e,a[20]=r,a[21]=i,a[22]=s,this._set|=589824,this}stencilOpSeparate(t,n,e,r,i,s){const a=this._dat;return a[17]=t,a[18]=n,a[19]=e,a[24]=r,a[25]=i,a[26]=s,this._set|=1179648,this}stencilMaskSeparate(t,n){return this._dat[16]=t,this._dat[23]=n,this._set|=2359296,this}}},34072:function(t,n,e){"use strict";var r=e(65031),i=e(57123),s=e(8098);function a(t){return t.id instanceof WebGLTexture}function o(t,n){if(null===t||!a(t))throw new Error(n)}class h{constructor(t){this.target=t,this.level=0,this._isTexture=a(t)}isTexture(){return this._isTexture}_resize(t,n){t>0&&n>0&&(a(this.target)?this.target.fromData(t,n,null):(this.target.resize(t,n),this.target.allocate()))}_attach(t){var n=this.target.gl;this._isTexture?n.framebufferTexture2D(n.FRAMEBUFFER,t,n.TEXTURE_2D,this.target.id,this.level):n.framebufferRenderbuffer(n.FRAMEBUFFER,t,n.RENDERBUFFER,this.target.id)}_detach(t){var n=this.target.gl;this._isTexture?n.framebufferTexture2D(n.FRAMEBUFFER,t,n.TEXTURE_2D,null,this.level):n.framebufferRenderbuffer(n.FRAMEBUFFER,t,n.RENDERBUFFER,null)}dispose(){this.target.dispose()}}class u{constructor(t){this.gl=t,this.width=0,this.height=0,this.fbo=t.createFramebuffer(),this.bind(),this.attachments={},this.attachmentsList=[]}attach(t,n){const e=new h(n);return t|=0,this.detach(t),this.attachments[t.toString()]=e,this.attachmentsList.push(e),e._resize(this.width,this.height),e._attach(t),e}detach(t){const n=this.attachments[t.toString()];if(void 0!==n){const e=this.attachmentsList.indexOf(n);this.attachmentsList.splice(e,1),n._detach(t)}delete this.attachments[t.toString()]}getAttachment(t){const n=this.attachments[t.toString()];return void 0!==n?n:null}getColor(t=0){const n=this.getAttachment(36064+t);return n?n.target:null}getColorTexture(t=0){const n=this.getColor(t);return o(n,`Color attachment ${t} is not a texture.`),n}getDepth(){const t=this.getAttachment(36096)||this.getAttachment(36128)||this.getAttachment(33306);return t?t.target:null}attachColor(t,n,e){const i=new r.Z(this.gl,t,n,e);return this.attach(36064,i)}attachDepth(t=!0,n=!1,e=!1){let s;if(e){const t=f(this.gl,n);s=new r.Z(this.gl,t.format,t.type,t.internal)}else s=new i.Z(this.gl,d(t,n));return this.attach(l(t,n),s)}resize(t,n){this.width===t&&this.height===n||(this.width=0|t,this.height=0|n,this._allocate())}bind(){const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.fbo)}clear(){this.gl.clear(17664)}defaultViewport(){this.gl.viewport(0,0,this.width,this.height)}isValid(){const t=this.gl;return t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE}dispose(){const t=this.gl;t.deleteFramebuffer(this.fbo);for(var n=0;n<this.attachmentsList.length;n++)this.attachmentsList[n].dispose();this.attachmentsList.length=0,this.attachments={}}_allocate(){for(var t of this.attachmentsList)t._resize(this.width,this.height)}}function c(t,n){return t|n<<1}function l(t,n){switch(c(t,n)){case 1:return 36096;case 2:return 36128;case 3:return 33306;default:return 0}}function d(t,n){switch(c(t,n)){case 1:return 33189;case 2:return 36168;case 3:return 34041;default:return 0}}function f(t,n){return n?{format:34041,type:34042,internal:(0,s.I)(t)?t.DEPTH24_STENCIL8:t.DEPTH_STENCIL}:{format:6402,type:5125,internal:(0,s.I)(t)?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT}}n["Z"]=u},29845:function(t,n,e){"use strict";var r=e(8098);let i=0;class s{constructor(t,n,e,r){this.gl=t,this.program=t.createProgram(),this.vShader=t.createShader(t.VERTEX_SHADER),this.fShader=t.createShader(t.FRAGMENT_SHADER),this.dyns=[],this.ready=!1,t.attachShader(this.program,this.vShader),t.attachShader(this.program,this.fShader),this._uid=0|i++,this._cuid=0|i++,void 0!==n&&void 0!==e&&this.compile(n,e,r)}use(){this.ready||this._grabParameters(),this.gl.useProgram(this.program)}bind(){this.use()}compile(t,n,e){this.ready=!1,e=void 0===e?"":e+"\n";const r=this.gl;if(!d(r,this.fShader,e+n)||!d(r,this.vShader,e+t))return!1;if(r.linkProgram(this.program),!r.getProgramParameter(this.program,r.LINK_STATUS))return s.debug&&a(r.getProgramInfoLog(this.program)),!1;while(this.dyns.length>0)delete this[this.dyns.pop()];return this._cuid=0|i++,!0}dispose(){null!==this.gl&&(this.gl.deleteProgram(this.program),this.gl.deleteShader(this.fShader),this.gl.deleteShader(this.vShader))}_grabParameters(){const t=this.gl,n=this.program,e={texIndex:0,ublockIndex:0},i=t.getProgramParameter(n,t.ACTIVE_UNIFORMS);for(var s=0;s<i;++s){var a=t.getActiveUniform(n,s);if(null!==a){var o=a.name,h=o.indexOf("[");h>=0&&(o=o.substring(0,h));var u=t.getUniformLocation(n,a.name);null!==u&&(this[o]=m(a.type,u,t,e),this.dyns.push(o))}else t.getError()}const c=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES);for(var l=0;l<c;++l){var d=t.getActiveAttrib(n,l).name,f=t.getAttribLocation(n,d);this[d]=T(f),this.dyns.push(d)}if((0,r.I)(t)){const r=t.getProgramParameter(n,t.ACTIVE_UNIFORM_BLOCKS);for(var _=0;_<r;++_){var v=t.getActiveUniformBlockName(n,_);this[v]=M(_,t,e),this.dyns.push(v)}}this.ready=!0}}function a(t){console.warn(t)}s.debug=!1;const o=["","   ","  "," ",""];function h(t,n){return o[String(n+1).length]+(n+1)+": "+t}function u(t){return t.split("\n").map(h).join("\n")}const c=/^ERROR:\s?(\d+):(\d+)/;function l(t,n){const e=n.split("\n");t=t.split("\n").map((t=>{const n=c.exec(t);return n&&(t+="\n  > "+e[parseInt(n[2])-1]),t})).join("\n"),n=u(n),a(t),a(n)}function d(t,n,e){return t.shaderSource(n,e),t.compileShader(n),!!t.getShaderParameter(n,t.COMPILE_STATUS)||(s.debug&&l(t.getShaderInfoLog(n),e),!1)}const f={};function _(t){return"uniform"+f[String(t)]}function m(t,n,e,r){switch(t){case e.FLOAT_MAT2:case e.FLOAT_MAT3:case e.FLOAT_MAT4:return p(t,n,e,r);case e.SAMPLER_2D:case e.SAMPLER_CUBE:case 35682:case 35679:case 36289:return g(t,n,e,r);default:return v(t,n,e,r)}}function v(t,n,e,r){const i=_(t);return function(...t){return 1===t.length&&void 0!=t[0].length?e[i+"v"](n,t[0]):t.length>0&&e[i](n,...t),n}}function p(t,n,e,r){const i=_(t);return function(){if(arguments.length>0&&void 0!==arguments[0].length){var t=arguments.length>1&&!!arguments[1];e[i+"v"](n,t,arguments[0])}return n}}function g(t,n,e,r){const i=r.texIndex++;return function(){return 1===arguments.length&&(void 0!==arguments[0].bind?(arguments[0].bind(i),e.uniform1i(n,i)):e.uniform1i(n,arguments[0])),n}}function M(t,n,e){const r=e.ublockIndex++;return function(){return 1===arguments.length&&(arguments[0]instanceof WebGLBuffer?(n.uniformBlockBinding(this.program,t,r),n.bindBufferBase(n.UNIFORM_BUFFER,r,arguments[0])):n.uniformBlockBinding(this.program,t,arguments[0])),t}}function T(t){return function(){return t}}f[String(5126)]="1f",f[String(35664)]="2f",f[String(35665)]="3f",f[String(35666)]="4f",f[String(35670)]=f[String(5124)]=f[String(35678)]=f[String(35680)]=f[String(35866)]="1i",f[String(35671)]=f[String(35667)]="2i",f[String(35672)]=f[String(35668)]="3i",f[String(35673)]=f[String(35669)]="4i",f[String(35674)]="Matrix2f",f[String(35675)]="Matrix3f",f[String(35676)]="Matrix4f",n["Z"]=s},57123:function(t,n,e){"use strict";var r=e(8098);let i=0;const s=36161;class a{constructor(t,n,e=0){if(this.samples=0,this._uid=i++,this.gl=t,this.id=t.createRenderbuffer(),e>0&&(0,r.I)(t)){const n=t.getParameter(t.MAX_SAMPLES);this.samples=e>n?n:e}this.width=0,this.height=0,this.format=n||t.DEPTH_COMPONENT16,this._valid=!1,this._storage()}resize(t,n){this.width===t&&this.height===n||(this.width=t,this.height=n,this._valid=!1)}allocate(){!this._valid&&this.width>0&&this.height>0&&(this._storage(),this._valid=!0)}bind(){this.gl.bindRenderbuffer(s,this.id)}dispose(){this.gl.deleteRenderbuffer(this.id)}_storage(){const t=this.gl;t.bindRenderbuffer(s,this.id),this.samples>0&&(0,r.I)(t)?t.renderbufferStorageMultisample(s,this.samples,this.format,this.width,this.height):t.renderbufferStorage(s,this.format,this.width,this.height),t.bindRenderbuffer(s,null)}}n["Z"]=a},65031:function(t,n,e){"use strict";e.d(n,{Z:function(){return s}});var r=e(89133);const i=3553;class s extends r.Z{constructor(t,n,e,s){super(t,n,e,s),this.textureType=r.N.TEXTURE_2D,this._target=i,t.bindTexture(i,this.id),this.setFilter(!0)}fromImage(t){const n=this.gl;this.width=t.width,this.height=t.height,n.bindTexture(i,this.id),n.texImage2D(i,0,this.internal,this.format,this.type,t)}fromData(t,n,e=null){const r=this.gl;this.width=t,this.height=n,e=e||null,r.bindTexture(i,this.id),r.texImage2D(i,0,this.internal,t,n,0,this.format,this.type,e)}}},89133:function(t,n,e){"use strict";e.d(n,{N:function(){return s},Z:function(){return a}});var r=e(16203);let i=0;var s;(function(t){t[t["NONE"]=0]="NONE",t[t["TEXTURE_2D"]=3553]="TEXTURE_2D",t[t["TEXTURE_2D_ARRAY"]=35866]="TEXTURE_2D_ARRAY",t[t["TEXTURE_CUBE"]=34067]="TEXTURE_CUBE",t[t["TEXTURE_3D"]=32879]="TEXTURE_3D"})(s||(s={}));class a{constructor(t,n,e,r){this.textureType=s.NONE,this.format=0,this.internal=0,this.type=0,this._uid=i++,this.gl=t,this.id=t.createTexture(),this.width=0,this.height=0,this.setFormat(n,e,r)}setFormat(t,n,e){this.format=t||this.gl.RGB,this.internal=e||this.format,this.type=n||this.gl.UNSIGNED_BYTE}bind(t){const n=this.gl;void 0!==t&&n.activeTexture(n.TEXTURE0+(0|t)),n.bindTexture(this._target,this.id)}dispose(){this.gl.deleteTexture(this.id)}setFilter(t=!1,n=!1,e=!1){const i=this.gl;return i.texParameteri(this._target,i.TEXTURE_MAG_FILTER,(0,r.Bm)(!!t,!1,!1)),i.texParameteri(this._target,i.TEXTURE_MIN_FILTER,(0,r.Bm)(!!t,!!n,!!e)),this}repeat(){return this.wrap(this.gl.REPEAT),this}clamp(){return this.wrap(this.gl.CLAMP_TO_EDGE),this}mirror(){return this.wrap(this.gl.MIRRORED_REPEAT),this}wrap(t){const n=this.gl;return n.texParameteri(this._target,n.TEXTURE_WRAP_S,t),n.texParameteri(this._target,n.TEXTURE_WRAP_T,t),this}}},8098:function(t,n,e){"use strict";function r(t){return void 0!==t.fenceSync}e.d(n,{I:function(){return r}})},16203:function(t,n,e){"use strict";function r(t){return void 0!==t.byteLength}function i(t,n,e){return 9728|+t|+n<<8|+(n&&e)<<1}function s(t){switch(t){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5124:case 5125:case 5126:return 4;default:throw new Error(`unknown type ${t}`)}}e.d(n,{$P:function(){return r},Bm:function(){return i},Z4:function(){return s}})},55411:function(t,n,e){"use strict";e.d(n,{Z:function(){return v}});var r=e(8098);class i{constructor(t){this.gl=t,this.isSupported=!0}drawArraysInstanced(t,n,e,r){this.gl.drawArraysInstanced(t,n,e,r)}drawElementsInstanced(t,n,e,r,i){this.gl.drawElementsInstanced(t,n,e,r,i)}vertexAttribDivisor(t,n){this.gl.vertexAttribDivisor(t,n)}}class s{constructor(t){this.ext=t,this.isSupported=!0}drawArraysInstanced(t,n,e,r){this.ext.drawArraysInstancedANGLE(t,n,e,r)}drawElementsInstanced(t,n,e,r,i){this.ext.drawElementsInstancedANGLE(t,n,e,r,i)}vertexAttribDivisor(t,n){this.ext.vertexAttribDivisorANGLE(t,n)}}class a{constructor(){this.isSupported=!1}drawArraysInstanced(){}drawElementsInstanced(){}vertexAttribDivisor(){}}function o(t){if((0,r.I)(t))return new i(t);const n=t.getExtension("ANGLE_instanced_arrays");return n?new s(n):new a}const h=["WEBGL_compressed_texture_s3tc","MOZ_WEBGL_compressed_texture_s3tc","WEBKIT_WEBGL_compressed_texture_s3tc"],u=["WEBGL_compressed_texture_pvrtc","WEBKIT_WEBGL_compressed_texture_pvrtc"],c=["WEBGL_compressed_texture_etc1","WEBKIT_WEBGL_compressed_texture_etc1"],l=["WEBGL_compressed_texture_astc"];class d{constructor(t){this.gl=t,this.pvr=this.pickExtension(u),this.etc=this.pickExtension(c),this.astc=this.pickExtension(l),this.dxt=this.pickExtension(h)}pickExtension(t){let n=null;for(const e of t)if(n=this.gl.getExtension(e),n)break;return n}}function f(t,n){const e=t.getShaderPrecisionFormat(t.VERTEX_SHADER,n),r=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,n);return r.precision>0&&e.precision>0}class _{constructor(t){this.isWebgl2=(0,r.I)(t),this.hasHighpPrecision=f(t,t.HIGH_FLOAT),this.hasMediumpPrecision=f(t,t.MEDIUM_FLOAT),this.textureExtensions=new d(t),this.extAniso=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extIndexUint=t.getExtension("OES_element_index_uint"),this.maxAnisotropy=this.extAniso?t.getParameter(this.extAniso.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,this.instancing=o(t),this.isWebgl2?(this.hasStandardDerivatives=!0,this.support32BitIndices=!0):(this.standardDerivatives=t.getExtension("OES_standard_derivatives"),this.hasStandardDerivatives=null!==this.standardDerivatives,this.support32BitIndices=null!==this.extIndexUint)}report(){}}const m=new WeakMap;function v(t){let n=m.get(t);return n||(n=new _(t),m.set(t,n)),n}}}]);
//# sourceMappingURL=1972.6f2eb679.js.map