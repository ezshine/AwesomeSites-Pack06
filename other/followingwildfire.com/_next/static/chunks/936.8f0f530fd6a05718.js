(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[936],{4233:function(e,t,n){"use strict";var r,s,l=n(959);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}t.Z=function(e){return l.createElement("svg",a({viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),r||(r=l.createElement("g",{filter:"url(#button-square-bg_svg__a)"},l.createElement("path",{d:"M1 3a2 2 0 0 1 2-2h36a2 2 0 0 1 2 2v31.172a2 2 0 0 1-.586 1.414l-4.828 4.828a2 2 0 0 1-1.414.586H3a2 2 0 0 1-2-2V3Z",fill:"#0E1A19",fillOpacity:.5}),l.createElement("path",{d:"M1 3a2 2 0 0 1 2-2h36a2 2 0 0 1 2 2v31.172a2 2 0 0 1-.586 1.414l-4.828 4.828a2 2 0 0 1-1.414.586H3a2 2 0 0 1-2-2V3Z",stroke:"#434343"}))),s||(s=l.createElement("defs",null,l.createElement("filter",{id:"button-square-bg_svg__a",x:-3.5,y:-3.5,width:49,height:49,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},l.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),l.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:2}),l.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_52_208"}),l.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_backgroundBlur_52_208",result:"shape"})))))}},1538:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r,s,l,a,o=n(1527),u=n(959),i=n(355),c=n(4166),d=n(5080),f=n(3895);function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var v=function(e){return u.createElement("svg",p({viewBox:"0 0 7 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),r||(r=u.createElement("path",{d:"M0 8V0l6 4-6 4ZM6 0h1v8H6z",fill:"#CDCDCD"})),s||(s=u.createElement("path",{fill:"#CDCDCD",d:"M6 0h1v8H6z"})))},m=n(8216),h=n(6431),g=n(1092),x=n(4796),b=n(7814),y=n(7081),j=n(6226),w=n(724),B=n(1278),N=n(5070),k=n(358),_=n(1307),E=n(7340);function C(){return(C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var M=function(e){return u.createElement("svg",C({viewBox:"0 0 58 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),l||(l=u.createElement("path",{d:"M1 3a2 2 0 0 1 2-2h52a2 2 0 0 1 2 2v15.172a2 2 0 0 1-.586 1.414l-4.828 4.828a2 2 0 0 1-1.414.586H3a2 2 0 0 1-2-2V3Z",fill:"#0E1A19",fillOpacity:.8})),a||(a=u.createElement("path",{d:"M1 3a2 2 0 0 1 2-2h52a2 2 0 0 1 2 2v15.172a2 2 0 0 1-.586 1.414l-4.828 4.828a2 2 0 0 1-1.414.586H3a2 2 0 0 1-2-2V3Z",stroke:"#434343"})))},O=n(2947);let R=e=>{let{onClick:t}=e,[n,r]=(0,u.useState)(!1),s=(0,u.useRef)(null),l=(0,u.useRef)(!0);(0,u.useEffect)(()=>{let e=e=>{l.current&&(l.current=!1,E.ZP.to(".story-next-click-area",{opacity:1,ease:"none",duration:1}),E.ZP.set(".story-next-button",{x:e.clientX,y:e.clientY})),E.ZP.to(".story-next-button",{x:e.clientX,y:e.clientY,ease:"power3.out",duration:1.3})};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},[]);let a=(0,d.useTranslations)("Home.story");return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"story-next-click-area",onClick:t,onMouseEnter:()=>{var e;null===(e=s.current)||void 0===e||e.kill(),r(!0),E.ZP.to(".story-next-button",{opacity:1,duration:.3,ease:"none"})},onMouseLeave:()=>{s.current=E.ZP.to(".story-next-button",{opacity:0,duration:.3,ease:"none",onComplete:()=>{r(!1)}})},children:(0,o.jsx)("div",{className:"story-next-button",children:(0,o.jsxs)("button",{children:[(0,o.jsx)("span",{className:"story-next-button-text block type-mono-small text-light-gray relative top-0 left-0 w-full h-full uppercase z-10",children:n&&(0,o.jsx)(O.F,{text:a("nextCta"),duration:.5})}),(0,o.jsx)(M,{className:"story-next-button-bg"})]})})})})},S=(0,u.forwardRef)((e,t)=>{let{}=e,[n,r]=(0,u.useState)(0),s=(0,u.useRef)(!1),l=(0,u.useRef)();return(0,u.useImperativeHandle)(t,()=>({setProgress:e=>{r(e)},animateOut:()=>{let e={progress:n};E.ZP.to(e,{progress:1,duration:1,ease:"power2.inOut",onStart:()=>{s.current=!0},onUpdate:()=>{r(e.progress)}})}})),(0,o.jsx)("div",{className:"story-progress-part",children:(0,o.jsx)("div",{ref:l,className:"story-progress-part-bar",style:{transform:"scaleX(".concat(Math.min(Math.max(n,0),1),")")}})})});var Z=n(1453);function A(e){let{projectSheet:t,subtitles:n}=e,r=(0,u.useRef)(!1),s=(0,u.useRef)(null),l=(0,N.Z)(e=>e.storyActive),a=(0,N.Z)(e=>e.progressBarActive),p=(0,N.Z)(e=>e.setProgressBarActive),E=(0,B.Z)(e=>e.audioButtonActive),C=(0,B.Z)(e=>e.skipButtonActive),M=(0,B.Z)(e=>e.setSkipButtonActive),O=(0,B.Z)(e=>e.setSubtitlesActive);(0,f.useRouter)();let A=(0,u.useRef)([{id:"IntroShot",Component:j.p},{id:"Forrest",Component:y.P},{id:"Bear",Component:b.L},{id:"TownBurt",Component:w.q}]),P=(0,u.useRef)({}),q=(0,u.useRef)({}),D=(0,u.useRef)({}),[z,F]=(0,u.useState)({}),[H,I]=(0,u.useState)({}),[L,T]=(0,u.useState)(!1),[V,Y]=(0,u.useState)({});(0,u.useEffect)(()=>{A.current.forEach(e=>{if(!z[e.id])return;let t=z[e.id],n=D.current[e.id];(0,c.onChange)(t.sheet.sequence.pointer.position,r=>{null==n||n.setProgress(r/(0,c.val)(t.sheet.sequence.pointer.length)),r>(0,c.val)(t.sheet.sequence.pointer.length)-1&&W(e.id)})})},[z]),(0,u.useEffect)(()=>{for(let e in H)H[e]&&H[e].setActiveState(!1)},[H]);let X=(e,t)=>{q.current[e]=t,F(n=>({...n,[e]:t}))},G=(e,t)=>{var n;t&&(P.current[e]=t,null===(n=P.current[e])||void 0===n||n.setActiveState(!1),I(n=>({...n,[e]:t})))},U=(0,u.useMemo)(()=>A.current.map(e=>{let{id:n,Component:r}=e;return(0,o.jsx)(u.Fragment,{children:(0,o.jsx)(x.R,{ref:e=>G(n,e),id:n,projectSheet:t,children:(0,o.jsx)(r,{ref:e=>X(n,e),projectSheet:t})})},n)}),[A]),J=(0,u.useMemo)(()=>A.current.map(e=>{let{id:t}=e;return(0,o.jsx)(S,{ref:e=>D.current[t]=e},t)}),[A]),Q=()=>{for(let e in H){let n=t.sheet(e).sequence;n.pause(),n.position=0}};async function W(e){var t,n;let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r.current)return;let l=A.current.findIndex(t=>t.id===e),a=A.current[l+1]||A.current[0],o=a===A.current[0];r.current=!0,null===(t=H[e])||void 0===t||t.animateOut(),s&&(null===(n=D.current[e])||void 0===n||n.animateOut()),await (0,_._)(1e3),K(a.id,o),r.current=!1}(0,u.useEffect)(()=>{if(!0==!l)return;Q(),K("IntroShot");let e=setTimeout(()=>{p(!0),M(!0),O(!0)},7e3);return()=>{clearTimeout(e),Q(),p(!1),M(!1),O(!1)}},[l,p,M,O]);let K=async function(e){var n,r,l,a,o,u;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i){let n=t.sheet(e).sequence;n.pause(),n.position=7.5}s.current&&(t.sheet(s.current).sequence.pause(),null===(a=D.current[s.current])||void 0===a||a.setProgress(1),Y(e=>({...e,[s.current]:1})),null===(o=H[s.current])||void 0===o||o.animateOut(0),null===(u=H[s.current])||void 0===u||u.setActiveState(!1)),s.current=e,null===(n=H[e])||void 0===n||n.setActiveState(!0),null===(r=D.current[s.current])||void 0===r||r.setProgress(0),await (0,_._)(100),i&&Q();let c=t.sheet(e).sequence,d=A.current.findIndex(t=>t.id===e);c.position=0===d&&i?7.5:0,c.pause(),c.play(),null===(l=H[s.current])||void 0===l||l.animateIn()},$=(0,d.useTranslations)("Home.story");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"story-progress ".concat(a?"is-active":""," hidden lg:flex"),children:(0,o.jsx)("div",{className:"story-progress-inner",children:J})}),C&&(0,o.jsx)(R,{onClick:()=>{s.current&&W(s.current,!0)}}),(0,o.jsx)("div",{className:"story-frame"}),(0,o.jsx)("div",{className:"header absolute top-6 right-6 lg:hidden",children:E&&l&&(0,o.jsx)(m.Z,{className:"",hasBackground:!0})}),(0,o.jsxs)("div",{className:"footer absolute bottom-6 lg:bottom-8 h-10 left-0 w-full flex px-9 justify-center lg:justify-between overflow-hidden",children:[E&&l&&(0,o.jsx)(m.Z,{className:"invisible lg:visible lg:flex absolute left-9 bottom-0",hasBackground:!0}),C&&(0,o.jsx)(h.z,{className:"absolute right-1/2 translate-x-1/2 lg:mr-9 lg:right-9 bottom-0",label:$("skipCta"),hasBackground:!0,as:"a",link:"/map",onClick:()=>new Promise(e=>{var t;s.current&&(null===(t=H[s.current])||void 0===t||t.animateOut(1)),setTimeout(e,1e3)}),children:(0,o.jsx)(v,{className:"h-[0.5rem]"})})]}),(0,o.jsx)(Z.Q,{projectSheet:t,onEnded:()=>{var e;s.current&&(null===(e=H[s.current])||void 0===e||e.animateOut(1))},storySubtitles:n}),(0,o.jsxs)(k.vG.In,{children:[(0,o.jsx)("color",{attach:"background",args:["#0E1A19"]}),U,(0,o.jsx)(g.z,{scaleX:.5,vignetteOffset:[0,-.2]},"home"),(0,o.jsx)(i.c,{makeDefault:!0,position:[0,0,5]})]})]})}},8216:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r,s=n(1527),l=n(959),a=n(7991),o=n(8184),u=n(7340),i=n(4233);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var d=function(e){return l.createElement("svg",c({viewBox:"0 0 17 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),r||(r=l.createElement("path",{d:"M.5 0v4M4.5 0v4M8.5 0v4M12.5 0v4M16.5 0v4",stroke:"#CDCDCD"})))},f=n(4360),p=n(9170),v=n(9207),m=n.n(v);function h(e){let{className:t,hasBackground:n}=e,r=(0,l.useRef)(null),o=(0,p.cn)(t,"w-10 h-10 aspect-square flex justify-center items-center"),[c,v]=(0,f.qr)(e=>[e.volumeOn,e.setVolumeOn]);return(0,a.V)(()=>{u.p8.fromTo(r.current,{opacity:0},{opacity:1,duration:.3,ease:"none"})},[]),(0,s.jsxs)("button",{ref:r,className:o,onClick:()=>v(!c),children:[n&&(0,s.jsx)("span",{className:(0,p.cn)("background absolute w-full h-full left-0 top-0 p-[2px] bg-black/[0.5] rounded-[3px]",m().background)}),(0,s.jsx)("span",{className:"w-full h-full z-1 absolute",children:c&&(0,s.jsx)(g,{className:(0,p.cn)("h-full w-full")})}),(0,s.jsx)(d,{className:(0,p.cn)("w-4 z-1",c&&"invisible")}),(0,s.jsx)(i.Z,{className:"w-full h-full absolute top-0 left-0 z-0"})]})}function g(e){let{RiveComponent:t}=(0,o.useRive)({src:"/rivs/sound.riv",layout:new o.Layout({alignment:o.Alignment.Center,fit:o.Fit.Contain}),autoplay:!0});return(0,s.jsx)(t,{...e})}},6431:function(e,t,n){"use strict";n.d(t,{z:function(){return v}});var r=n(1527),s=n(959),l=n(7340),a=n(7782),o=n.n(a),u=n(3895),i=n(4360),c=n(9170),d=n(3665),f=n(415),p=n.n(f);function v(e){let{as:t,className:n,label:a,link:f,children:v,hasBackground:m=!0,bracketLabel:h,fullWidth:g,onClick:x,...b}=e,y=(0,s.useRef)(null),j=(0,s.useRef)(null),w=(0,s.useRef)(),B=(0,u.useRouter)(),N=(0,i.Uc)(e=>e.audio),k=(0,c.cn)("uppercase relative type-mono-mid text-light-gray flex justify-center items-center px-6 py-3.5 rounded-[0.125rem] gap-x-[0.5625rem] align-baseline whitespace-nowrap ",g&&"w-full",m&&a?(null==a?void 0:a.length)>=20||g?p().buttonBgLong:(null==a?void 0:a.length)>=10?p().buttonBgMid:p().buttonBg:p().button),_=(0,c.cn)(g?"w-full":"w-auto",n,"pointer-events-auto");(0,s.useEffect)(()=>{var e;let t=y.current||j.current,n=null==t?void 0:null===(e=t.querySelector(".label"))||void 0===e?void 0:e.textContent,r=n?n.trim():"";w.current=r},[]);let E=()=>{let e=y.current||j.current,t=null==e?void 0:e.querySelector("svg");N&&N.globalHover.play();let n=l.ZP.timeline();t&&n.to(t,{opacity:0,duration:.1}).to(t,{opacity:1,duration:.1}).to(t,{opacity:0,duration:.1}).to(t,{opacity:1,duration:.1});let r=null==e?void 0:e.querySelector(".scramble-text"),s=null==e?void 0:e.querySelector(".bracket-label");if(r&&w.current&&(0,d.z)(a,.8,r),h&&s){let e="[".concat(h,"] ");(0,d.z)(e,.8,s)}};if("a"!==e.as||!f)return(0,r.jsx)("button",{...b,className:_,ref:y,onMouseEnter:E,onClick:()=>{N&&N.globalClick.play(),x&&x()},children:(0,r.jsxs)("div",{className:"relative w-full h-full",children:[(0,r.jsx)("span",{className:(0,c.cn)("w-full h-full absolute top-0 left-0 ",p().blurBg)}),(0,r.jsxs)("span",{className:k,children:[(0,r.jsxs)("p",{className:"opacity-0 label pointer-events-none",children:[h&&(0,r.jsxs)("span",{className:"text-mid-gray",children:["[",h,"] "]}),a]}),(0,r.jsxs)("p",{className:(0,c.cn)(" absolute top-1/2 left-6 -translate-y-1/2 pointer-events-none",g&&"-translate-x-1/2 left-1/2"),children:[h&&(0,r.jsxs)("span",{className:"bracket-label text-mid-gray",children:["[",h,"] "]}),(0,r.jsx)("span",{className:"scramble-text",children:a})]}),v]})]})});{let e=async e=>{e.preventDefault(),N&&N.globalClick.play(),x&&await x(),B.push(e.target.href)};return(0,r.jsx)(o(),{...b,href:f,className:_,ref:j,onMouseEnter:E,onClick:e,children:(0,r.jsxs)("div",{className:"relative w-full h-full pointer-events-none",children:[(0,r.jsx)("span",{className:(0,c.cn)("w-full h-full absolute top-0 left-0 pointer-events-none",p().blurBg)}),(0,r.jsxs)("span",{className:k,children:[(0,r.jsxs)("p",{className:"opacity-0 label pointer-events-none",children:[h&&(0,r.jsxs)("span",{className:"text-mid-gray",children:["[",h,"] "]}),a]}),(0,r.jsxs)("p",{className:(0,c.cn)("absolute top-1/2 left-6 -translate-y-1/2 pointer-events-none",g&&"-translate-x-1/2 left-1/2"),children:[h&&(0,r.jsxs)("span",{className:"bracket-label text-mid-gray",children:["[",h,"] "]}),(0,r.jsx)("span",{className:"scramble-text",children:a})]}),v]})]})})}}},9207:function(e){e.exports={background:"AudioButton_background__JRR6x"}},415:function(e){e.exports={button:"Button_button__5Fngg",buttonBg:"Button_buttonBg__j6Nqb",buttonBgMid:"Button_buttonBgMid__w_kWB",buttonBgLong:"Button_buttonBgLong__XcPuD",blurBg:"Button_blurBg__2qBf3"}}}]);