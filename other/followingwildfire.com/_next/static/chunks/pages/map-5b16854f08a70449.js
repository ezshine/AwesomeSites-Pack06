(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{8731:function(e,t,r){"use strict";var a,l,n=r(959);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}t.Z=function(e){return n.createElement("svg",s({viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),a||(a=n.createElement("path",{d:"M17.586 19H2.414a1 1 0 0 1-.707-.293l-.69-.69a1 1 0 0 1-.183-1.166L8.721 1.542A1 1 0 0 1 9.61 1h.78a1 1 0 0 1 .89.542l7.886 15.31a1 1 0 0 1-.182 1.164l-.691.691a1 1 0 0 1-.707.293Z",fill:"#FF4F28",fillOpacity:.25,stroke:"#FF4F28"})),l||(l=n.createElement("path",{d:"M10.709 12.905H9.314L9.023 7H11l-.291 5.905ZM9 14.973c0-.19.025-.35.074-.478a.83.83 0 0 1 .217-.32.84.84 0 0 1 .32-.176 1.38 1.38 0 0 1 .772 0 .84.84 0 0 1 .32.176.83.83 0 0 1 .217.32c.053.129.08.288.08.478 0 .18-.027.336-.08.465a.895.895 0 0 1-.217.32.802.802 0 0 1-.32.182 1.249 1.249 0 0 1-.771 0 .801.801 0 0 1-.32-.182.895.895 0 0 1-.218-.32A1.3 1.3 0 0 1 9 14.972Z",fill:"#FF4F28"})))}},3337:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/map",function(){return r(6966)}])},2947:function(e,t,r){"use strict";r.d(t,{F:function(){return c}});var a=r(1527),l=r(959),n=r(7991),s=r(7340),i=r(1608),o=r(3665);let c=(0,l.forwardRef)((e,t)=>{let{text:r,autoplay:c=!0,duration:u=1.5}=e,d=(0,l.useRef)(),h={shuffleDuration:u,fadeDuration:.5,animation:"stay",ease:"easeOut",fps:20,reveal:!0};function f(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;s.ZP.fromTo(e,{opacity:0},{opacity:1,duration:h.fadeDuration,ease:"none"}),(0,o.T)({text:t,fps:r.fps,duration:r.shuffleDuration,animation:r.animation,ease:r.ease,onUpdate:t=>{let{output:a,t:l}=t;a=a.split("");let n=(0,i.uZ)(l,0,1),s=r.reveal?Math.floor(n*a.length):a.length,o=a.map((e,t)=>t<s?n<.8?Math.random():1-Math.random()*(1-n):0).sort(()=>Math.random()-.5);a=(a=a.map((e,t)=>{let r=o[t];return'<span style="opacity: '.concat(r,'">').concat(e,"</span>")})).join(""),e.innerHTML=a}})}return(0,n.V)(()=>{c&&f(d.current,r)}),(0,l.useImperativeHandle)(t,()=>({animateIn:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;f(d.current,r,e)},hover:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;f(d.current,r,{...e,shuffleDuration:.3,fadeDuration:0,reveal:!1})}})),(0,a.jsx)("span",{className:"txt-shuffle pointer-events-none",ref:d,children:r})})},6431:function(e,t,r){"use strict";r.d(t,{z:function(){return p}});var a=r(1527),l=r(959),n=r(7340),s=r(7782),i=r.n(s),o=r(3895),c=r(4360),u=r(9170),d=r(3665),h=r(415),f=r.n(h);function p(e){let{as:t,className:r,label:s,link:h,children:p,hasBackground:m=!0,bracketLabel:g,fullWidth:v,onClick:x,...b}=e,w=(0,l.useRef)(null),y=(0,l.useRef)(null),j=(0,l.useRef)(),N=(0,o.useRouter)(),k=(0,c.Uc)(e=>e.audio),M=(0,u.cn)("uppercase relative type-mono-mid text-light-gray flex justify-center items-center px-6 py-3.5 rounded-[0.125rem] gap-x-[0.5625rem] align-baseline whitespace-nowrap ",v&&"w-full",m&&s?(null==s?void 0:s.length)>=20||v?f().buttonBgLong:(null==s?void 0:s.length)>=10?f().buttonBgMid:f().buttonBg:f().button),F=(0,u.cn)(v?"w-full":"w-auto",r,"pointer-events-auto");(0,l.useEffect)(()=>{var e;let t=w.current||y.current,r=null==t?void 0:null===(e=t.querySelector(".label"))||void 0===e?void 0:e.textContent,a=r?r.trim():"";j.current=a},[]);let E=()=>{let e=w.current||y.current,t=null==e?void 0:e.querySelector("svg");k&&k.globalHover.play();let r=n.ZP.timeline();t&&r.to(t,{opacity:0,duration:.1}).to(t,{opacity:1,duration:.1}).to(t,{opacity:0,duration:.1}).to(t,{opacity:1,duration:.1});let a=null==e?void 0:e.querySelector(".scramble-text"),l=null==e?void 0:e.querySelector(".bracket-label");if(a&&j.current&&(0,d.z)(s,.8,a),g&&l){let e="[".concat(g,"] ");(0,d.z)(e,.8,l)}};if("a"!==e.as||!h)return(0,a.jsx)("button",{...b,className:F,ref:w,onMouseEnter:E,onClick:()=>{k&&k.globalClick.play(),x&&x()},children:(0,a.jsxs)("div",{className:"relative w-full h-full",children:[(0,a.jsx)("span",{className:(0,u.cn)("w-full h-full absolute top-0 left-0 ",f().blurBg)}),(0,a.jsxs)("span",{className:M,children:[(0,a.jsxs)("p",{className:"opacity-0 label pointer-events-none",children:[g&&(0,a.jsxs)("span",{className:"text-mid-gray",children:["[",g,"] "]}),s]}),(0,a.jsxs)("p",{className:(0,u.cn)(" absolute top-1/2 left-6 -translate-y-1/2 pointer-events-none",v&&"-translate-x-1/2 left-1/2"),children:[g&&(0,a.jsxs)("span",{className:"bracket-label text-mid-gray",children:["[",g,"] "]}),(0,a.jsx)("span",{className:"scramble-text",children:s})]}),p]})]})});{let e=async e=>{e.preventDefault(),k&&k.globalClick.play(),x&&await x(),N.push(e.target.href)};return(0,a.jsx)(i(),{...b,href:h,className:F,ref:y,onMouseEnter:E,onClick:e,children:(0,a.jsxs)("div",{className:"relative w-full h-full pointer-events-none",children:[(0,a.jsx)("span",{className:(0,u.cn)("w-full h-full absolute top-0 left-0 pointer-events-none",f().blurBg)}),(0,a.jsxs)("span",{className:M,children:[(0,a.jsxs)("p",{className:"opacity-0 label pointer-events-none",children:[g&&(0,a.jsxs)("span",{className:"text-mid-gray",children:["[",g,"] "]}),s]}),(0,a.jsxs)("p",{className:(0,u.cn)("absolute top-1/2 left-6 -translate-y-1/2 pointer-events-none",v&&"-translate-x-1/2 left-1/2"),children:[g&&(0,a.jsxs)("span",{className:"bracket-label text-mid-gray",children:["[",g,"] "]}),(0,a.jsx)("span",{className:"scramble-text",children:s})]}),p]})]})})}}},7208:function(e,t,r){"use strict";r.d(t,{L:function(){return s}});var a=r(1527),l=r(959),n=r(2947);let s=e=>{let{text:t}=e,r=(0,l.useRef)(null);return(0,a.jsx)("div",{className:"link-dashed inline-block type-mono-small text-light-gray uppercase",onMouseEnter:()=>{r.current&&r.current.hover()},children:(0,a.jsx)(n.F,{ref:r,text:t})})}},4601:function(e,t,r){"use strict";r.d(t,{a:function(){return p}});var a=r(1527),l=r(959),n=r(7991),s=r(2645),i=r(7340),o=r(5080),c=r(8731),u=r(4360),d=r(1608),h=r(1307),f=r(3665);function p(){let e=(0,l.useRef)(0),[t,r,p]=(0,s.S)(e=>[e.loaded,e.total,e.item]),m=(0,d.NM)(Math.max(0,t)/r*100,0),g=(0,u.qr)(e=>e.setAppActive),v=(0,u.qr)(e=>e.setLoaderReady),x=(0,l.useRef)(null),b=(0,l.useRef)(null),[w,y]=(0,l.useState)(!1),j=(0,o.useTranslations)("Global")("loadingText");return(0,l.useEffect)(()=>{e.current=m,w&&m&&(x.current.innerHTML="".concat(j).concat(m,"%_")),100===m&&w&&(b.current.classList.remove("is-glitch"),setTimeout(()=>{v(!0)},500),i.ZP.to(".loader",{duration:.3,autoAlpha:0,ease:"none",delay:.5}))},[m,w,v,j]),(0,n.V)(async()=>{b.current.classList.add("is-glitch"),i.ZP.fromTo([x.current,b.current],{opacity:0},{opacity:1,duration:.3,ease:"none"}),(0,f.T)({text:j,fps:20,duration:1.2,animation:"stay",ease:"easeInOut",onComplete:()=>{y(!0)},onUpdate:t=>{let{output:r,t:a}=t;r+="".concat(e.current||0,"%_"),r=r.split("");let l=(0,d.uZ)(a,0,1),n=Math.floor(l*r.length),s=r.map((e,t)=>t<n?l<.8?Math.random():1-Math.random()*(1-l):0).sort(()=>Math.random()-.5);r=(r=r.map((e,t)=>{let r=s[t];return'<span style="opacity: '.concat(r,'">').concat(e,"</span>")})).join(""),x.current.innerHTML=r}}),await (0,h._)(1200),g(!0)}),(0,a.jsx)("div",{className:"loader",children:(0,a.jsxs)("div",{className:"loader-inner",children:[(0,a.jsx)("div",{ref:b,className:"loader-icon",children:(0,a.jsx)(c.Z,{})}),(0,a.jsx)("div",{ref:x,className:"loader-text text-light-gray type-mono-mid uppercase",children:j})]})})}},3956:function(e,t,r){"use strict";r.d(t,{m:function(){return x}});var a,l,n,s,i=r(1527),o=r(2899),c=r(8731),u=r(959);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var h=function(e){return u.createElement("svg",d({viewBox:"0 0 342 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),a||(a=u.createElement("path",{d:"M2 .5h338a1.5 1.5 0 0 1 1.5 1.5v231.172a1.5 1.5 0 0 1-.439 1.06l-4.829 4.829a1.5 1.5 0 0 1-1.06.439H2A1.5 1.5 0 0 1 .5 238V2A1.5 1.5 0 0 1 2 .5Z",fill:"#0E1A19",stroke:"#434343"})),l||(l=u.createElement("path",{d:"M314.5 239.5V108.389c0-.398.158-.779.438-1.06l6.412-6.424.004-.004L341.5 81.189v151.983a1.5 1.5 0 0 1-.439 1.06l-4.829 4.829a1.5 1.5 0 0 1-1.06.439H314.5ZM302.5.5H340a1.5 1.5 0 0 1 1.5 1.5v37.5H304a1.5 1.5 0 0 1-1.5-1.5V.5Z",stroke:"#434343"})))};function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var p=function(e){return u.createElement("svg",f({viewBox:"0 0 318 240",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),n||(n=u.createElement("path",{d:"M2 .5h314a1.5 1.5 0 0 1 1.5 1.5v231.172a1.5 1.5 0 0 1-.439 1.06l-4.829 4.829a1.5 1.5 0 0 1-1.06.439H2A1.5 1.5 0 0 1 .5 238V2A1.5 1.5 0 0 1 2 .5Z",fill:"#0E1A19",stroke:"#434343"})),s||(s=u.createElement("path",{d:"M278.5.5H316a1.5 1.5 0 0 1 1.5 1.5v37.5H280a1.5 1.5 0 0 1-1.5-1.5V.5ZM290.5 239.5V108.389c0-.398.158-.779.438-1.06l6.412-6.424.004-.004L317.5 81.189v151.983a1.5 1.5 0 0 1-.439 1.06l-4.829 4.829a1.5 1.5 0 0 1-1.06.439H290.5Z",stroke:"#434343"})))},m=r(9170),g=r(2153),v=r.n(g);function x(e){let{className:t,firstCopy:r,secondCopy:a,cornerLabel:l,onClose:n,size:s}=e,u=(0,m.cn)("block relative type-paragraph pt-8 pl-4",v().root,"large"===s?"w-[21.375rem] lg:w-[24.5rem] h-[15rem] lg:h-[18.5rem]":"w-[21.375rem] lg:w-[19.875rem] h-[15rem]",t);return(0,i.jsxs)("div",{className:u,children:[(0,i.jsx)(p,{className:"absolute hidden lg:block w-full h-full top-0 left-0 z-[-1]"}),(0,i.jsx)(h,{className:"lg:hidden absolute w-full h-full top-0 left-0 z-[-1]"}),(0,i.jsxs)("div",{className:(0,m.cn)("flex flex-col text-light-gray text-left uppercase gap-[1.1em]","large"===s?"lg:max-w-[21rem] max-w-[18rem]":"max-w-[14rem] lg:max-w-[14rem]","large"===s&&"max-h-[11rem] overflow-y-auto lg:max-h-unset lg:overflow-y-visible"),children:[(0,i.jsx)("p",{dangerouslySetInnerHTML:{__html:r},className:"pointer-events-auto"}),(0,i.jsx)("p",{children:a}),"large"!==s&&(0,i.jsx)("p",{children:"_"})]}),(0,i.jsx)("div",{className:(0,m.cn)("corner-text absolute h-[10rem]  w-7  right-0 bottom-0 rotate-180 pt-3 pl-2 pr-2.5 flex justify-start items-center",v().cornerText),children:(0,i.jsxs)("span",{className:(0,m.cn)("type-mono-small uppercase text-mid-gray pt-3 relative ",'before:content-[""] before:w-1 before:h-1 before:bg-orange before:absolute before:top-0 before:left-1/2 before:-translate-x-1/2'),children:["[",l,"]"]})}),(0,i.jsx)(c.Z,{className:"absolute left-4 bottom-4 w-5 h-5"}),(0,i.jsx)("button",{onClick:n,className:(0,m.cn)(v().close,"pointer-events-auto","large"===s?"lg:w-[3rem] lg:h-[3rem] w-10 h-10":"w-10 h-10","absolute right-0 top-0 lg:right-0 lg:top-0 flex justify-center items-center  border-r-0 border-t-0"),children:(0,i.jsx)(o.Z,{className:"w-3 h-3"})})]})}},8148:function(e,t,r){"use strict";r.d(t,{D:function(){return n}});var a=r(8699);class l{constructor(e,t){this.latitude=e,this.longitude=t}}class n{static datumsToSpherical(e,t){let r=t*n.EARTH_ORIGIN/180,l=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return l=l*n.EARTH_ORIGIN/180,new a.Vector2(r,l)}static sphericalToDatums(e,t){let r=e/n.EARTH_ORIGIN*180,a=t/n.EARTH_ORIGIN*180;return new l(a=180/Math.PI*(2*Math.atan(Math.exp(a*Math.PI/180))-Math.PI/2),r)}static quadtreeToDatums(e,t,r){let a=Math.pow(2,e);return new l(Math.atan(Math.sinh(Math.PI*(1-2*r/a)))/Math.PI*180,t/a*360-180)}static vectorToDatums(e){let t=180/Math.PI;return new l(Math.atan2(e.y,Math.sqrt(Math.pow(e.x,2)+Math.pow(-e.z,2)))*t,Math.atan2(-e.z,e.x)*t)}static datumsToVector(e,t){let r=Math.PI/180,l=t*r,n=e*r;var s=Math.cos(n);return new a.Vector3(-Math.cos(l+Math.PI)*s,Math.sin(n),Math.sin(l+Math.PI)*s)}static mapboxAltitude(e){return(16711680*e.r+65280*e.g+255*e.b)*.1-1e4}}n.EARTH_RADIUS=6371008,n.EARTH_RADIUS_A=6378137,n.EARTH_RADIUS_B=6356752.314245,n.EARTH_PERIMETER=2*Math.PI*n.EARTH_RADIUS,n.EARTH_ORIGIN=n.EARTH_PERIMETER/2},8043:function(e,t,r){"use strict";r.d(t,{L:function(){return u}});var a=r(959),l=r(3895),n=r(4360),s=r(1726),i=r(6462),o=r(9714);async function c(e,t,r){let a=new URL(window.location.origin);a.pathname="/panel.followingwildfire.com/api/public/submissions/threat",e&&a.searchParams.set("page",e.toString()),t&&a.searchParams.set("size",t.toString()),r&&a.searchParams.set("sort",r);let l=await fetch(a.toString()),n=await l.json();return n.results.forEach(e=>{for(let t in o.Z)if(o.Z[t]===e.province){e.provinceKey=t;break}}),n}function u(){var e;let t=(0,l.useRouter)(),{query:r}=t,o=r.state?r.state:"overview",u=r.threat,d=r.province,h=(0,a.useMemo)(()=>r.loc&&"string"==typeof r.loc?r.loc.split(",").map(parseFloat):null,[r.loc]),{data:f}=(0,i.a)({queryKey:["threats",1,100,e],queryFn:()=>c(1,100,e),staleTime:6e5}),[p]=(0,n.k9)(e=>[e.transitionOverlay]),m=null==f?void 0:f.results.find(e=>e.id===u),g=m&&(null==f?void 0:f.results.indexOf(m)),v=(0,a.useMemo)(()=>d&&(null==f?void 0:f.results.filter(e=>e.provinceKey===d)),[d,f]),x=(0,a.useMemo)(()=>f&&f.results.length>0&&function(e,t){let r=[];for(let t=0;t<e.length;t++){let a=!1;for(let l=0;l<r.length&&!a;l++){let n=111*Math.abs(e[t].lat-r[l].lat),s=111*Math.abs(e[t].lng-r[l].lng);400>=Math.sqrt(n*n+s*s)&&(a=!0)}a||r.push(e[t])}return r}(f.results,0),[f]),b=(0,a.useRef)(null);async function w(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new URLSearchParams;if(a)for(let t in r)t in e||n.set(t,r[t]);for(let t in e)("state"!==t||"overview"!==e[t])&&null!==e[t]&&n.set(t,e[t]);if(e.state&&o!==e.state&&p&&(p.classList.add("opacity-100"),await (0,s.Dc)(250)),l){t.replace({pathname:"/map",query:n.toString()},void 0,{shallow:!0});return}t.push({pathname:"/map",query:n.toString()},void 0,{shallow:!0}),e.state&&o!==e.state&&p&&(await (0,s.Dc)(250),p.classList.remove("opacity-100"))}return(0,a.useEffect)(()=>{m&&(b.current=m.id)},[m]),{mapState:o,threatId:u,lastActiveThreatId:b.current,provinceKey:d,locationOverride:h,threatData:f,threatsFilteredByProximity:x,activeThreat:m,activeThreatIndex:g,filteredThreatsByActiveProvince:v,setMapParams:w,setToFirstThreatByProvince:function(e){var t,r;if(!f)return;if(e===d){w({state:"detail",province:e,threat:null!==(r=null==m?void 0:m.id)&&void 0!==r?r:b.current});return}let a=f.results.filter(t=>t.provinceKey===e);w({state:"detail",...(null===(t=a[0])||void 0===t?void 0:t.id)&&{threat:a[0].id},province:e})}}}},9714:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a={AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NS:"Nova Scotia",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",NT:"Northwest Territories",NU:"Nunavut",YU:"Yukon"}},6966:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return td},default:function(){return th}});var a,l,n,s,i,o,c,u,d,h,f,p,m,g,v,x,b,w,y,j,N,k,M,F,E,_,A,P,C,R,O=r(1527),T=r(959),S=r(1541),I=r(5080),B=r(9568),L=r.n(B),z=r(7793),H=r.n(z),Z=r(7782),D=r.n(Z),q=r(3895),V=r(9833),U=r(8216),Y=r(4360),G=r(9170),W=r(3665);function K(e){let{className:t,label:r,...a}=e,l=(0,T.useRef)(null),n=(0,Y.iY)(e=>e.isMobile),s=(0,G.cn)("overflow-clip",t),i=(0,Y.Uc)(e=>e.audio);return(0,O.jsx)("div",{className:s,children:(0,O.jsxs)("div",{className:"flex gap-3 items-center relative uppercase text-light-gray type-mono-mid pointer-events-auto",ref:l,onMouseEnter:()=>{var e,t;if(n)return;let s=null===(e=l.current)||void 0===e?void 0:e.querySelector(".label-string"),o=null===(t=l.current)||void 0===t?void 0:t.querySelector("#inner");o&&!a.checked&&(i&&i.globalHover.play(),o.style.opacity="1",o.style.fill="#434343"),a.checked||(0,W.z)(r,.8,s)},onMouseLeave:()=>{var e;if(n)return;let t=null===(e=l.current)||void 0===e?void 0:e.querySelector("#inner");t&&!a.checked?(t.style.opacity="0",t.style.fill="#FF4F28"):t&&a.checked&&(t.style.opacity="1",t.style.fill="#FF4F28")},children:[(0,O.jsx)("input",{id:"checkbox-".concat(r),type:"radio",className:"appearance-none relative w-5 h-5 outline-none cursor-pointer pointer-events-auto",...a}),(0,O.jsxs)("svg",{className:"w-5 h-5 absolute pointer-events-none top-1/2 -translate-y-1/2 left-0",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,O.jsxs)("g",{filter:"url(#filter0_b_65_254)",children:[(0,O.jsx)("rect",{width:"20",height:"20",rx:"2",fill:"#0E1A19","fill-opacity":"0.5"}),(0,O.jsx)("rect",{x:"0.5",y:"0.5",width:"19",height:"19",rx:"1.5",stroke:"#434343"})]}),(0,O.jsx)("rect",{id:"inner",x:"7",y:"7",width:"6",height:"6",style:{opacity:a.checked?1:0,fill:a.checked?"#FF4F28":"#434343"}}),(0,O.jsx)("defs",{children:(0,O.jsxs)("filter",{id:"filter0_b_65_254",x:"-4",y:"-4",width:"28",height:"28",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB",children:[(0,O.jsx)("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),(0,O.jsx)("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:"2"}),(0,O.jsx)("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_65_254"}),(0,O.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_65_254",result:"shape"})]})})]}),(0,O.jsxs)("label",{htmlFor:"checkbox-".concat(r),className:"cursor-pointer select-none relative whitespace-nowrap",children:[(0,O.jsx)("span",{className:"label-string pointer-events-none absolute left-0 top-0",children:r}),(0,O.jsx)("span",{className:"invisible",children:r})]})]})})}var $=r(8010),Q=r(7991),X=r(7340),J=r(7857);function ee(){return(ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var et=function(e){return T.createElement("svg",ee({viewBox:"0 0 672 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),a||(a=T.createElement("path",{d:"M1 1h670",stroke:"#434343"})),l||(l=T.createElement("path",{fill:"#7F7F7F",d:"M134 0h2v2h-2zM670 0h2v2h-2zM0 0h2v2H0zM67 0h2v2h-2zM201 0h2v2h-2zM268 0h2v2h-2zM335 0h2v2h-2zM402 0h2v2h-2zM469 0h2v2h-2zM536 0h2v2h-2zM603 0h2v2h-2z"})))};function er(){return(er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var ea=function(e){return T.createElement("svg",er({viewBox:"0 0 344 109",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),n||(n=T.createElement("g",{clipPath:"url(#timeline-bg-mobile_svg__a)",fill:"#0E1A19",fillOpacity:.5,stroke:"#434343"},T.createElement("path",{d:"M1 29h340a2 2 0 0 1 2 2v70.172a2 2 0 0 1-.586 1.414l-4.828 4.828a2 2 0 0 1-1.414.586H3a2 2 0 0 1-2-2V29ZM1 3a2 2 0 0 1 2-2h193.611a2 2 0 0 1 1.413.584L204.452 8 225 29H1V3Z"}))),s||(s=T.createElement("defs",null,T.createElement("clipPath",{id:"timeline-bg-mobile_svg__a"},T.createElement("path",{fill:"#fff",d:"M0 0h344v109H0z"})))))};function el(){return(el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var en=function(e){return T.createElement("svg",el({viewBox:"0 0 904 109",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),i||(i=T.createElement("path",{d:"M1 3a2 2 0 0 1 2-2h193.611a2 2 0 0 1 1.413.584L204.452 8 225 29H1V3ZM1 29h900a2 2 0 0 1 2 2v70.172a2 2 0 0 1-.586 1.414l-4.828 4.828a2 2 0 0 1-1.414.586H3a2 2 0 0 1-2-2V29Z",fill:"#0E1A19",fillOpacity:.5,stroke:"#434343"})))};function es(){return(es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var ei=function(e){return T.createElement("svg",es({viewBox:"0 0 82 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),o||(o=T.createElement("path",{d:"M18.414 1.586A2 2 0 0 1 19.828 1h42.344a2 2 0 0 1 1.414.586l4.828 4.828A2 2 0 0 1 69 7.828v26.344a2 2 0 0 1-.586 1.414l-4.828 4.828a2 2 0 0 1-1.414.586H19.828a2 2 0 0 1-1.414-.586l-4.828-4.828A2 2 0 0 1 13 34.172V7.828a2 2 0 0 1 .586-1.414l4.828-4.828Z",stroke:"#434343",fill:"#0E1A19"})),c||(c=T.createElement("path",{d:"M37 15v12M41 15v12M45 15v12",stroke:"#CDCDCD"})))},eo=r(1935),ec=r(1608);function eu(e){let{className:t,cornerLabel:r,headerLabel:a}=e,l=(0,T.useRef)(null),n=(0,T.useRef)(null),s=(0,T.useRef)(null),i=(0,T.useRef)(null),o=(0,G.cn)("",t),[c,u]=(0,Y.k9)(e=>[e.mapYear,e.setMapYear]),[d]=(0,Y.Uc)(e=>[e.audio]),h=(0,T.useRef)(null),f=(0,Y.iY)(e=>e.isMobile);return(0,T.useEffect)(()=>{var e,t;u(eo.nH[eo.nH.length-1]),null===(t=i.current)||void 0===t||t.scrollTo((null===(e=i.current)||void 0===e?void 0:e.scrollWidth)||0,0)},[]),(0,Q.V)(()=>{if(l.current){let e=l.current.querySelector("#bar1"),t=l.current.querySelector("#bar2"),r=l.current.querySelector("#triangle1"),a=l.current.querySelector("#triangle2");J.Draggable.create(l.current,{type:"x",bounds:n.current,inertia:!0,dragResistance:.1,autoScroll:.6,edgeResistance:.95,throwResistance:20,maxDuration:f?.01:.3,snap:{x:e=>{var t,r;let a=(null===(t=s.current)||void 0===t?void 0:t.offsetWidth)||0,n=(null===(r=l.current)||void 0===r?void 0:r.offsetWidth)||0,i=a/(eo.nH.length-1),o=Math.round((e+n/2)/i)+eo.nH.length-2;return console.log(o,e,Math.round((e-n/2)/i)),eo.nH[o]&&u(eo.nH[o]),(o-eo.nH.length+2)*i-n/2}},onPress:()=>{X.ZP.to(r,{duration:.2,morphSVG:e}),X.ZP.to(a,{duration:.2,morphSVG:t})},onRelease:function(){var e,t;X.ZP.to(r,{duration:.2,morphSVG:r}),X.ZP.to(a,{duration:.2,morphSVG:a});let n=i.current,s=null===(e=i.current)||void 0===e?void 0:e.getBoundingClientRect(),o=null===(t=l.current)||void 0===t?void 0:t.getBoundingClientRect();if(!s||!o||!n)return;let c=s.left+s.width/2,u=o.left+o.width/2,h=0;(o.right>s.right||o.left<s.left)&&(h=n.scrollLeft+(u-c)),d&&d.dataTimeline.play(),0!==h&&X.ZP.to(i.current,{scrollTo:{x:h,y:0}})}})}}),(0,T.useEffect)(()=>{(0,W.T)({text:c,fps:20,duration:1.2,animation:"stay",ease:"easeInOut",onUpdate:e=>{let{output:t,t:r}=e;t=t.split("");let a=(0,ec.uZ)(r,0,1),l=Math.floor(a*t.length),n=t.map((e,t)=>t<l?a<.8?Math.random():1-Math.random()*(1-a):0).sort(()=>Math.random()-.5);t=(t=t.map((e,t)=>{let r=n[t];return'<span style="opacity: '.concat(r,'">').concat(e,"</span>")})).join(""),h.current&&(h.current.innerHTML=t)}})},[c]),(0,O.jsx)("main",{className:o,children:(0,O.jsxs)("div",{className:"relative w-[21.5rem] h-[6.875rem] lg:w-[56.25rem] lg:h-[6.75rem]",children:[(0,O.jsx)("div",{className:(0,G.cn)("corner-text absolute w-[14rem] left-0 h-7 pt-[0.0625rem] pr-2.5 flex justify-start items-center"),children:(0,O.jsxs)("span",{className:(0,G.cn)("type-mono-small uppercase text-mid-gray pl-7 relative ",'before:content-[""] before:w-1 before:h-1 before:bg-orange before:absolute before:top-1/2 before:left-4 before:-translate-y-1/2'),children:["[",a,"]"]})}),(0,O.jsx)("div",{className:(0,G.cn)("content w-full h-full relative pt-7 overflow-hidden"),children:(0,O.jsxs)("div",{className:"w-full h-full relative pl-10 pr-[0.0625rem] lg:px-[4.5rem] flex justify-between items-center gap-2 flex-row-reverse lg:flex-row",children:[(0,O.jsx)("div",{className:"w-full h-full relative overflow-scroll no-scrollbar",ref:i,children:(0,O.jsx)("div",{className:"relative h-full px-3  w-[42.875rem] lg:w-full overflow-visible",ref:n,children:(0,O.jsxs)("div",{className:"flex justify-center h-full w-full",ref:s,children:[(0,O.jsxs)("div",{className:"slider right-0 w-[5.125rem] h-10 absolute top-1/2 -translate-y-1/2 cursor-pointer pointer-events-auto",ref:l,children:[(0,O.jsx)(ei,{id:"slider",className:"w-full h-full z-[2]"}),(0,O.jsxs)("svg",{width:"82",height:"42",viewBox:"0 0 82 42",className:"w-full h-full z-[2] absolute top-0",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,O.jsx)("path",{id:"triangle1",d:"M5 24L3 24L2.62268e-07 21L3 18L5 18L5 24Z",fill:"#FF4F28"}),(0,O.jsx)("path",{id:"triangle2",d:"M77 18L79 18L82 21L79 24H77V18Z",fill:"#FF4F28"}),(0,O.jsx)("path",{id:"bar1",d:"M8 30L8.99153 30L9 20L8.99153 10L8 10L8 30Z",fill:"#FF4F28",opacity:"0"}),(0,O.jsx)("path",{id:"bar2",d:"M73 10L74 10V20V30H73V10Z",fill:"#FF4F28",opacity:"0"})]})]}),(0,O.jsx)(et,{id:"progress",className:"w-[41.875rem] h-full lg:w-full "})]})})}),(0,O.jsx)("p",{className:"absolute right-0 -top-5 lg:relative lg:right-unset lg:top-unset type-mono-mid text-light-gray w-8 overflow-clip",ref:h,children:c})]})}),(0,O.jsx)(en,{className:"hidden lg:block w-full h-full absolute top-0 left-0 z-[-1]"}),(0,O.jsx)(ea,{className:"lg:hidden w-full h-full absolute top-0 left-0 z-[-1]"}),(0,O.jsx)("p",{className:"font-mono hidden lg:block text-[0.5rem] text-dark-gray vertical-rl absolute bottom-2 left-2 max-h-[1.875rem] -rotate-180",children:r})]})})}function ed(){return(ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}X.ZP.registerPlugin(J.Draggable);var eh=function(e){return T.createElement("svg",ed({viewBox:"0 0 201 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),u||(u=T.createElement("path",{d:"M0 2a2 2 0 0 1 2-2h197a2 2 0 0 1 2 2v35.172a2 2 0 0 1-.586 1.414l-4.828 4.828a2 2 0 0 1-1.414.586H2a2 2 0 0 1-2-2V2Z",fill:"#CDCDCD"})))};function ef(e){let{className:t,title:r,value:a,unit:l}=e,n=(0,G.cn)("block",t),s=(0,T.useRef)(null);return(0,O.jsxs)("main",{className:n,children:[(0,O.jsxs)("p",{className:(0,G.cn)("type-mono-small uppercase text-mid-gray pl-3 relative mb-2",'before:content-[""] before:w-1 before:h-1 before:bg-orange before:absolute before:left-0 before:top-1/2 before:-translate-y-1/2'),children:["[",r,"]"]}),(0,O.jsxs)("div",{className:(0,G.cn)("relative px-1 w-[12.5rem] h-11 overflow-clip flex justify-between items-start"),children:[(0,O.jsx)("h5",{className:(0,G.cn)("type-h1 h-full -mt-[0.03em] max-w-28 overflow-clip uppercase text-black"),ref:s,children:a.toLocaleString()}),l&&(0,O.jsxs)("p",{className:"pt-1 type-mono-small text-dark-gray uppercase",children:["[",l,"]"]}),(0,O.jsx)(eh,{className:(0,G.cn)("h-full absolute top-0 left-0 z-[-1]")})]})]})}function ep(e){let{className:t}=e,r=(0,q.useRouter)(),a=(0,Y.Uc)(e=>e.audio),l=(0,G.cn)("relative h-screen h-[100dvh] w-screen py-8 px-6 lg:px-9 overflow-hidden",t),[n,s,i,o]=(0,Y.k9)(e=>[e.mapYear,e.fbsDisplayType,e.setFBSDisplayType,e.setMapYear]),[c,u]=(0,T.useState)(em["2023"]),d=(0,I.useTranslations)("Map.historicTimeline");return(0,T.useEffect)(()=>{u(em[n])},[n]),(0,T.useEffect)(()=>(o("2023"),()=>{i("fire"),o("realtime")}),[i,o]),(0,O.jsxs)("div",{className:l,children:[(0,O.jsxs)("fieldset",{className:"header w-full lg:h-10 flex flex-col lg:flex-row justify-center lg:items-center gap-x-[3rem] gap-y-[0.8125rem] pt-[6.5625rem] lg:pt-0 h-fit relative",onChange:e=>{a&&a.globalClick.play(),i(e.target.value)},children:[(0,O.jsx)(K,{label:d("wildfireCheckbox"),value:"fire",checked:"fire"===s,readOnly:!0}),(0,O.jsx)(K,{label:d("smokeCheckbox"),value:"smoke",checked:"smoke"===s,readOnly:!0}),(0,O.jsx)(K,{label:d("burntVegetationCheckbox"),value:"burnt",checked:"burnt"===s,readOnly:!0})]}),(0,O.jsxs)("div",{className:"hidden lg:grid absolute right-9 top-[15.5rem] grid-cols-1 gap-6 ",children:[(0,O.jsx)(ef,{title:d("numbersOfFires.title"),value:c.numbersOfFires}),(0,O.jsx)(ef,{title:d("hectaresBurned.title"),value:c.hectaresBurned,unit:d("hectaresBurned.unit")})]}),(0,O.jsx)("div",{className:"footer absolute bottom-8 left-0 w-full flex px-9 justify-center overscroll-y-contain",children:(0,O.jsx)(eu,{headerLabel:"Historic Timeline",cornerLabel:"rflktr GC2609"})}),(0,O.jsx)($.P,{className:(0,G.cn)("absolute top-6 right-[4.5rem] lg:top-8 lg:right-9 pointer-events-auto"),onClick:()=>{r.back()}})]})}let em={2013:{numbersOfFires:"9512",economicDamage:"C$1.55",hectaresBurned:"3.1"},2014:{numbersOfFires:"7843",economicDamage:"C$1.28",hectaresBurned:"2.55"},2015:{numbersOfFires:"8259",economicDamage:"C$1.35",hectaresBurned:"2.7"},2016:{numbersOfFires:"6821",economicDamage:"C$1.10",hectaresBurned:"2.2"},2017:{numbersOfFires:"7864",economicDamage:"C$1.28",hectaresBurned:"2.55"},2018:{numbersOfFires:"8862",economicDamage:"C$1.42",hectaresBurned:"2.85"},2019:{numbersOfFires:"7248",economicDamage:"C$1.18",hectaresBurned:"2.35"},2020:{numbersOfFires:"8862",economicDamage:"C$1.42",hectaresBurned:"2.85"},2021:{numbersOfFires:"7213",economicDamage:"C$1.18",hectaresBurned:"2.35"},2022:{numbersOfFires:"6375",economicDamage:"C$1.00",hectaresBurned:"2.0"},2023:{numbersOfFires:"6595",economicDamage:"C$9.25",hectaresBurned:"18.5"}};var eg=r(7208),ev=r(4601),ex=r(7342);function eb(){return(eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var ew=function(e){return T.createElement("svg",eb({viewBox:"0 0 140 140",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),d||(d=T.createElement("circle",{opacity:.5,cx:70.279,cy:70.279,r:59,fill:"url(#minimap-frame_svg__a)"})),h||(h=T.createElement("circle",{cx:70.279,cy:70.279,r:58.5,stroke:"#434343"})),f||(f=T.createElement("path",{d:"M139 67.97C137.926 30.803 107.445 1 70 1S2.074 30.802 1 67.97m138 4.06C137.926 109.199 107.445 139 70 139S2.074 109.198 1 72.03",stroke:"#434343"})),p||(p=T.createElement("path",{d:"M6 68C7.057 33.58 35.292 6 69.97 6c34.676 0 62.912 27.58 63.969 62M6 72c1.057 34.421 29.292 62 63.97 62 34.676 0 62.912-27.579 63.969-62",stroke:"#7F7F7F",strokeWidth:4})),m||(m=T.createElement("path",{d:"M67.28 129.279v-2l3-3 3 3v2h-6ZM73.28 11.28v2l-3 3-3-3v-2h6ZM129.279 73.28h-2l-3-3 3-3h2v6ZM11.28 67.28h2l3 3-3 3h-2v-6Z",fill:"#FF4F28"})),g||(g=T.createElement("path",{d:"M68.935 23.28v-5.6h.824l1.944 4.167V17.68h.72v5.6h-.832l-1.936-4.152v4.152h-.72ZM20.175 72.28l-.72-5.6h.752l.488 4.311.712-2.504h.568l.696 2.504.496-4.312h.744l-.728 5.6h-.768l-.728-2.624-.744 2.624h-.768ZM118.039 73.28v-5.6h3.392v.72h-2.616v1.647h2.224v.72h-2.224v1.792h2.704v.72h-3.48ZM69.783 120.367c-1.232 0-2.032-.616-2.096-1.824h.776c.056.744.496 1.152 1.32 1.152.736 0 1.168-.32 1.168-.936 0-.496-.272-.68-1.064-.912l-.592-.176c-1.032-.304-1.456-.728-1.456-1.544 0-.944.712-1.536 1.816-1.536 1.024 0 1.808.488 1.928 1.68h-.776c-.096-.72-.528-1.008-1.136-1.008-.672 0-1.056.296-1.056.832 0 .48.272.696.96.896l.584.168c1.112.32 1.568.752 1.568 1.576 0 1.008-.752 1.632-1.944 1.632Z",fill:"#7F7F7F"})),v||(v=T.createElement("defs",null,T.createElement("radialGradient",{id:"minimap-frame_svg__a",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"rotate(90 0 70.28) scale(101)"},T.createElement("stop",{offset:.39,stopColor:"#FF4F28",stopOpacity:0}),T.createElement("stop",{offset:1,stopColor:"#FF4F28"})))))},ey=r(6431),ej=r(8043),eN=r(9135),ek=r(2899);function eM(){return(eM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var eF=function(e){return T.createElement("svg",eM({viewBox:"0 0 662 439",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),x||(x=T.createElement("path",{d:"M2 .5h658a1.5 1.5 0 0 1 1.5 1.5v397.5H.5V2A1.5 1.5 0 0 1 2 .5Z",fill:"#0E1A19",stroke:"#434343"})),b||(b=T.createElement("path",{d:"M634.5 399.5V204.389c0-.398.158-.779.438-1.06l6.412-6.424.004-.004 20.146-19.712V399.5h-27Z",stroke:"#434343"})),w||(w=T.createElement("path",{d:"M.5 399.5h331v39H.5v-39ZM331.5 399.5h330v33.293l-5.707 5.707H331.5v-39Z",fill:"#0E1A19",stroke:"#434343"})),y||(y=T.createElement("path",{d:"M400 0v399M622.5.5H660a1.5 1.5 0 0 1 1.5 1.5v37.5H624a1.5 1.5 0 0 1-1.5-1.5V.5Z",stroke:"#434343"})))},eE=r(8731),e_=r(1259),eA=r.n(e_);let eP=(e,t)=>{let{className:r,data:a,hasExclamation:l=!1,cornerLabel:n,animOnMount:s=!0}=e,i=(0,T.useRef)(null),[o,c]=(0,T.useState)(!1),u=(0,G.cn)("relative flex flex-col  w-full pt-8 pl-4 pr-10 pb-20",r,eA().root);(0,T.useImperativeHandle)(t,()=>({shuffleAnimation:d})),(0,T.useEffect)(()=>{if(s&&i.current){let e=i.current,t=e.querySelectorAll(".title"),r=e.querySelectorAll(".dot");t.forEach((e,t)=>{let r="[".concat(a[t].title,"]");(0,W.z)(r,.8,e)});let l=X.ZP.timeline();r&&l.to([r],{opacity:0,duration:.1,stagger:.01}).to([r],{opacity:1,duration:.1,stagger:.01}).to([r],{opacity:0,duration:.1,stagger:.01}).to([r],{opacity:1,duration:.1,stagger:.01})}},[s]),(0,T.useEffect)(()=>{if(s&&i.current){let e=i.current,t=e.querySelectorAll(".value"),r=e.querySelectorAll(".title"),l=e.querySelectorAll(".value-list"),n=e.querySelector(".risk-bar"),s=null==n?void 0:n.querySelectorAll("rect:not(#border)");t.forEach((e,t)=>{"string"==typeof a[t].value?(0,W.z)(a[t].value.toString(),.8,e):Array.isArray(a[t].value)&&l.length>0&&Array.from(l).map((e,r)=>{(0,W.z)(a[t].value[r].toString(),.8,e)})}),r.forEach((e,t)=>{let r="[".concat(a[t].title,"]");(0,W.z)(r,.8,e)}),s&&X.ZP.timeline().to([s],{opacity:0,duration:.1,repeat:1,stagger:{each:.01,from:"random",repeat:2},yoyo:!0}).to([s],{opacity:1,stagger:.02,duration:.1})}},[a,s]);let d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.8;if(i.current){let t=i.current,r=t.querySelectorAll(".value"),l=t.querySelectorAll(".title"),n=t.querySelectorAll(".value-list"),s=t.querySelectorAll(".dot");r.forEach((t,r)=>{"string"==typeof a[r].value&&a[r].value.toString()?(0,W.z)(a[r].value.toString(),e,t):Array.isArray(a[r].value)&&n.length>0&&Array.from(n).map((t,l)=>{(0,W.z)(a[r].value[l].toString(),e,t)})}),l.forEach((t,r)=>{let l="[".concat(a[r].title,"]");(0,W.z)(l,e,t)});let o=X.ZP.timeline();s&&o.to([s],{opacity:0,duration:.1,stagger:.01}).to([s],{opacity:1,duration:.1,stagger:.01}).to([s],{opacity:0,duration:.1,stagger:.01}).to([s],{opacity:1,duration:.1,stagger:.01})}};return(0,O.jsxs)("div",{className:u,children:[(0,O.jsx)("ul",{className:"flex flex-col gap-y-5.5",ref:i,children:a.map((e,t)=>{if("string"==typeof e.value)return(0,O.jsxs)("li",{className:"flex flex-col gap-y-1.5 relative",children:[(0,O.jsxs)("span",{className:(0,G.cn)("type-mono-small uppercase text-mid-gray pl-3 relative"),children:[(0,O.jsx)("span",{className:"dot w-1 h-1 bg-orange absolute left-0 top-1/2 -translate-y-1/2"}),(0,O.jsxs)("p",{className:"title",children:["[",e.title,"]"]})]}),(0,O.jsx)("p",{className:"value type-mono-mid text-light-gray uppercase",children:e.value})]},t);if("number"==typeof e.value){let r=e.value/100;return(0,O.jsxs)("li",{className:"flex flex-col gap-y-1.5",children:[(0,O.jsxs)("span",{className:(0,G.cn)("type-mono-small uppercase text-mid-gray pl-3 relative"),children:[(0,O.jsx)("span",{className:"dot w-1 h-1 bg-orange absolute left-0 top-1/2 -translate-y-1/2"}),(0,O.jsxs)("p",{className:"title",children:["[",e.title,"]"]})]}),(0,O.jsx)(eR,{riskPercentage:r})]},t)}if(Array.isArray(e.value))return(0,O.jsxs)("li",{className:"value flex flex-col gap-y-1.5",children:[(0,O.jsxs)("span",{className:(0,G.cn)("type-mono-small uppercase text-mid-gray pl-3 relative"),children:[(0,O.jsx)("span",{className:"dot w-1 h-1 bg-orange absolute left-0 top-1/2 -translate-y-1/2"}),(0,O.jsxs)("p",{className:"title",children:["[",e.title,"]"]})]}),(0,O.jsx)("ul",{className:"flex flex-col gap-y-1.5",children:e.value.map((e,t)=>(0,O.jsx)("li",{className:"value-list type-mono-mid text-light-gray uppercase",children:e},t))})]},t)})}),(0,O.jsx)("div",{className:(0,G.cn)("hidden lg:flex corner-text absolute h-[14rem] right-0 bottom-0 rotate-180 pt-3 pl-2 pr-2.5 justify-start items-center",eA().cornerText),children:(0,O.jsxs)("span",{className:(0,G.cn)("type-mono-small uppercase text-mid-gray pt-3 relative ",'before:content-[""] before:w-1 before:h-1 before:bg-orange before:absolute before:top-0 before:left-1/2 before:-translate-x-1/2'),children:["[",n,"]"]})}),l&&(0,O.jsx)(eE.Z,{className:"absolute top-6 right-6 lg:top-unset lg:left-4 lg:bottom-4 w-5 h-5"})]})},eC=(0,T.forwardRef)((e,t)=>eP(e,t));function eR(e){let{riskPercentage:t}=e,r=(0,T.useRef)(null);return(0,T.useEffect)(()=>{var e;if(!t&&0!==t)return;let a=null===(e=r.current)||void 0===e?void 0:e.querySelectorAll("rect:not(#border)");null==a||a.forEach((e,r)=>{r/30<=t?e.setAttribute("fill","#FF4F28"):e.setAttribute("fill","#434343")})},[t]),(0,O.jsx)("div",{className:"w-[11.625rem] h-6 relative",children:(0,O.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 186 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"risk-bar",ref:r,children:[(0,O.jsx)("rect",{id:"border",x:"0.5",y:"0.5",width:"185",height:"23",rx:"1.5",stroke:"#434343"}),(0,O.jsx)("rect",{x:"4",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"10",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"16",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"22",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"28",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"34",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"40",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"46",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"52",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"58",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"64",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"70",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"76",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"82",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"88",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"94",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"100",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"106",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"112",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"118",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"124",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"130",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"136",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"142",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"148",y:"4",width:"4",height:"16",fill:"#FF4F28"}),(0,O.jsx)("rect",{x:"154",y:"4",width:"4",height:"16",fill:"#434343"}),(0,O.jsx)("rect",{x:"160",y:"4",width:"4",height:"16",fill:"#434343"}),(0,O.jsx)("rect",{x:"166",y:"4",width:"4",height:"16",fill:"#434343"}),(0,O.jsx)("rect",{x:"172",y:"4",width:"4",height:"16",fill:"#434343"}),(0,O.jsx)("rect",{x:"178",y:"4",width:"4",height:"16",fill:"#434343"})]})})}var eO=r(826),eT=r.n(eO);function eS(e){let{className:t,card:r,cornerLabel:a,onClose:l,previousImageLabel:n,nextImageLabel:s,onNext:i,nextActive:o=!0,onPrevious:c,previousActive:u=!0}=e,[d]=(0,Y.Pp)(e=>[e.deviceInfo]),h=(0,T.useRef)(null),f=(0,T.useRef)(null),[p]=(0,Y.iY)(e=>[e.isMobile]),[m]=(0,Y.Uc)(e=>[e.audio]),[g,v]=(0,T.useState)(!1),[x,b]=(0,T.useState)("horizontal"),w=(0,G.cn)("relative w-full lg:w-fit h-[100dvh] flex flex-col max-h-screen lg:h-fit bg-black lg:bg-transparent overflow-hidden",t,eT().root),y=(e,t)=>{let r=e.target,a=null==r?void 0:r.querySelector("p");(0,W.z)(t,.8,a),m&&m.globalHover.play()};return(0,Q.V)(()=>{var e,t,r;X.ZP.set(h.current,{transformOrigin:"center top"});let a=null===(e=h.current)||void 0===e?void 0:e.querySelector(".left"),l=null===(t=h.current)||void 0===t?void 0:t.querySelector(".bottom"),i=X.ZP.timeline();if(g){i.fromTo(h.current,{clipPath:"polygon(50% 0%,50% 0%,50% 0%,50% 0%)"},{clipPath:"polygon(0% 0%, 101% 0%, 101% 101%, 0% 101%)",duration:.9,delay:1,onStart:()=>{m&&m.cardOpen.play()},ease:"power3.out"}),a&&i.fromTo(a,{x:"100px"},{x:0,duration:.9,ease:"power3.out"},"<"),null===(r=f.current)||void 0===r||r.shuffleAnimation(2);let e=null==l?void 0:l.querySelector(".left-button p"),t=null==l?void 0:l.querySelector(".right-button p");(0,W.z)(n,1.8,e),(0,W.z)(s,1.8,t)}},[g]),(0,O.jsxs)("div",{className:w,ref:h,children:[(0,O.jsx)(eF,{className:"z-[-1] absolute top-0 left-0 w-full h-full hidden lg:block"}),(0,O.jsxs)("div",{className:"top relative h-full flex flex-col lg:flex-row",children:[(0,O.jsx)("div",{className:(0,G.cn)(eT().topLeft,"left relative flex flex-col h-full flex-1 rounded-tl-[2px] w-full lg:w-[25rem] lg:h-[25rem] p-6  lg:p-4 border-b-1 lg:border-b-0 border-dark-gray","horizontal"===x&&"pt-[5rem] pb-[4rem] lg:pt-6 lg:pb-6"),children:(0,O.jsx)("div",{className:(0,G.cn)("relative flex h-0 min-h-full","horizontal"===x?"w-full lg:h-fit justify-center":(null==d?void 0:d.detection.isSafari)?"h-0 min-h-full w-full max-w-[90%] lg:w-[intrinsic] justify-start":"h-0 min-h-full w-fit max-w-[90%] justify-start"),children:(0,O.jsx)("img",{src:r.image,alt:"TestImage",onLoad:e=>{let t=e.target;t&&(t.naturalWidth>=t.naturalHeight?b("horizontal"):b("vertical"),v(!0))},className:(0,G.cn)(eT().image,(null==d?void 0:d.detection.isSafari)?"lg:h-[intrinsic]":"lg:h-fit","horizontal"===x?"h-full max-h-[calc((100vw_-_2rem)_/_1.5)]":"h-full max-h-[calc((100vw_-_9rem)_*_1.5)] lg:max-h-full","border border-dark-gray flex-shrink object-contain lg:max-h-full")})})}),(0,O.jsx)(eC,{ref:f,data:r.cardInfo,cornerLabel:a,hasExclamation:!0,className:"right-content overflow-hidden w-full lg:w-[16.375rem] border-b-0 border-l-0 pt-6 px-6 pb-10 lg:pt-8 lg:pl-4 lg:pr-10"}),(0,O.jsxs)("button",{onClick:()=>{X.ZP.set(h.current,{transformOrigin:"center center"});let e=X.ZP.timeline();m&&m.cardClose.play(),e.to(h.current,{clipPath:"polygon(0 50%, 100% 50%, 100% 50%, 0 50%)",duration:.4,ease:"power3.in",onComplete:()=>{null==l||l()}})},className:(0,G.cn)(eT().close,"absolute right-6 top-6 lg:right-0 lg:top-0 w-10 h-10 flex justify-center items-center  border-r-0 border-t-0"),children:[(0,O.jsx)(ek.Z,{className:"w-3 h-3"}),(0,O.jsx)(eN.Z,{className:"w-full h-full absolute top-0 left-0 lg:hidden"})]})]}),(0,O.jsxs)("div",{className:"bottom overflow-hidden h-10 flex w-full px-6 lg:px-0  mb-6 lg:mb-0 lg:-mt-[0.0625rem]",children:[(0,O.jsxs)("button",{onMouseEnter:e=>u&&y(e,n),onClick:()=>{m&&m.globalClick.play(),c&&c()},disabled:!u,className:(0,G.cn)(eT().prevButton,"left-button uppercase button w-1/2 border-1 border-dark-gray rounded-bl-[0.125rem] rounded-tl-[0.125rem] type-mono-mid lg:py-3.5 flex items-center justify-center lg:border-0"),children:[(0,O.jsx)("p",{className:"pointer-events-none text-light-gray",children:n})," "]}),(0,O.jsxs)("button",{onMouseEnter:e=>o&&y(e,s),onClick:()=>{m&&m.globalClick.play(),i&&i()},disabled:!o,className:(0,G.cn)("right-button relative uppercase button w-1/2 border-1 border-dark-gray rounded-br-[0.125rem] rounded-tr-[0.125rem] border-l-0 lg:border-0 type-mono-mid lg:py-3.5 flex items-center justify-center",eT().nextButton),children:[(0,O.jsx)("p",{className:"pointer-events-none text-light-gray",children:s})," "]})]})]})}var eI=r(7311),eB=r.n(eI);function eL(){return(eL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var ez=function(e){return T.createElement("svg",eL({viewBox:"0 0 360 400",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),j||(j=T.createElement("g",{clipPath:"url(#flip-card-bg_svg__a)",stroke:"#434343"},T.createElement("path",{fill:"#0E1A19",d:"M.5.5h359v399H.5z"}),T.createElement("path",{d:"M332.5 399.5V204.389c0-.398.158-.779.438-1.06l6.412-6.424.004-.004 20.146-19.712V399.5h-27Z"}))),N||(N=T.createElement("rect",{x:.55,y:.55,width:358.899,height:398.899,rx:1.45,stroke:"#434343",strokeWidth:1.101})),k||(k=T.createElement("defs",null,T.createElement("clipPath",{id:"flip-card-bg_svg__a"},T.createElement("rect",{width:360,height:400,rx:2,fill:"#fff"})))))},eH=r(3744),eZ=r.n(eH);function eD(e){let{className:t,data:r,image:a,cornerLabel:l,title:n,index:s,onClick:i}=e,[o,c]=(0,T.useState)(!1),[u,d]=(0,T.useState)(!1),[h]=(0,Y.iY)(e=>[e.isMobile]),f=(0,T.useRef)(null),p=(0,G.cn)("relative flex flex-col cursor-pointer ",t,u?"opacity-100":"opacity-0"),m=()=>{c(!0)};return(0,O.jsxs)("div",{className:p,onClick:()=>{h?o?i&&i():m():i&&i()},children:[(0,O.jsxs)("div",{className:(0,G.cn)(eZ().card,"relative w-[21rem] lg:w-[22.5rem] h-[25rem]"),onMouseEnter:m,onMouseLeave:()=>c(!1),children:[(0,O.jsx)("div",{className:(0,G.cn)(eZ().cardBack,"absolute w-[21rem] lg:w-[22.5rem] h-[25rem] border-dark-gray border-1 rounded-[0.125rem] lg:border-0"),children:(0,O.jsxs)("div",{className:"relative w-full h-full bg-black lg:bg-transparent",children:[(0,O.jsx)(eC,{ref:f,data:r,cornerLabel:l,className:"h-full border-b-0",animOnMount:!1}),(0,O.jsx)(ez,{className:"hidden lg:block absolute w-full h-full top-0 left-0 z-[-1]"})]})}),(0,O.jsx)("div",{className:(0,G.cn)(eZ().cardFront,"absolute w-[21rem] lg:w-[22.5rem] h-[25rem] border-dark-gray border-1 rounded-[0.125rem]"),children:(0,O.jsx)(eB(),{sizes:"(max-width: 768px) 95vw, (max-width: 1280px) 337px, 20vw",src:a,alt:"",fill:!0,onLoad:()=>d(!0),loading:"lazy"})})]}),(0,O.jsxs)("div",{className:"flex mt-3",children:[(0,O.jsx)("p",{className:"type-h4 text-light-gray uppercase",children:n}),(0,O.jsxs)("p",{className:"type-mono-small text-mid-gray ml-2",children:["[",s,"]"]})]})]})}var eq=r(1287),eV=r.n(eq);function eU(e){let{className:t,containerClassName:r,cards:a,onClosed:l,onClickProvince:n,active:s}=e,i=(0,G.cn)("h-screen w-fit top-0 left-0 flex gap-x-6 items-center px-4 lg:px-8",t),o=(0,T.useRef)(null);return(0,T.useEffect)(()=>{function e(e){var t,r;null===(r=o.current)||void 0===r||null===(t=r.lenis)||void 0===t||t.raf(1e3*e)}return X.p8.ticker.add(e),()=>{X.p8.ticker.remove(e)}},[]),(0,O.jsxs)("div",{className:(0,G.cn)("w-screen h-screen absolute top-0 left-0 z-40 ",eV().container,!s&&"opacity-0 pointer-events-none",s&&"opacity-100 pointer-events-auto",r),children:[(0,O.jsx)("div",{className:(0,G.cn)("w-screen h-screen absolute top-0 left-0",eV().backgroundImage)}),(0,O.jsx)($.P,{className:(0,G.cn)("absolute top-6 right-[4.5rem] lg:top-8 lg:right-9"),onClick:l}),(0,O.jsx)(ex.pi,{ref:o,options:{orientation:"horizontal",gestureOrientation:"both"},className:"scroller w-full overflow-x-auto overflow-y-auto no-scrollbar",children:(0,O.jsx)("div",{className:i,children:a.map((e,t)=>{let r=(t+1).toString().padStart(2,"0");return(0,O.jsx)(eD,{data:e.data,image:e.image,title:e.title,cornerLabel:"province information",index:r,onClick:()=>{n&&(n(e.key),null==l||l())},className:"h-full flex justify-center"},t)})})})]})}function eY(){return(eY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var eG=function(e){return T.createElement("svg",eY({viewBox:"0 0 280 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),M||(M=T.createElement("path",{d:"M0 2a2 2 0 0 1 2-2h276a2 2 0 0 1 2 2v27.172a2 2 0 0 1-.586 1.414l-4.828 4.828a2 2 0 0 1-1.414.586H2a2 2 0 0 1-2-2V2Z",fill:"#CDCDCD"})))};function eW(e){let{className:t,bracketsTitle:r,dragLineOne:a,dragLineTwo:l,tapLineOne:n,tapLineTwo:s}=e,[i,o]=(0,T.useState)(a),[c,u]=(0,T.useState)(l),d=(0,T.useRef)(null),h=(0,T.useRef)(null),f=(0,T.useRef)(null),p=(0,T.useRef)(null),m=(0,G.cn)("flex flex-col items-center text-center",t);return(0,T.useEffect)(()=>{var e;let t=null===(e=p.current)||void 0===e?void 0:e.querySelectorAll("svg");d.current&&h.current&&f.current&&((0,W.z)(r,.8,d.current),(0,W.z)(i,.8,h.current),(0,W.z)(c,.8,f.current));let a=X.ZP.timeline();t&&(X.ZP.fromTo(p.current,{opacity:0},{opacity:1}),a.fromTo(t,{x:"-100%"},{x:0,duration:.5,stagger:.2}).to(t,{x:"102%",duration:.5,stagger:.2},"<4").to(p.current,{opacity:0,duration:.5,onComplete:()=>{o(n),u(s)}},"<"))},[i]),(0,O.jsxs)("div",{className:m,ref:p,children:[(0,O.jsxs)("p",{className:"type-mono-small text-mid-gray mb-3.5 uppercase",ref:d,children:["[",r,"]"]}),(0,O.jsxs)("div",{className:(0,G.cn)("relative pb-0.5 px-1 mb-1 h-9 overflow-hidden"),children:[(0,O.jsx)("h2",{className:(0,G.cn)("type-h2  w-fit uppercase text-black invisible"),children:i}),(0,O.jsx)("h2",{className:(0,G.cn)("absolute left-1 top-0 type-h2 w-fit uppercase text-black"),ref:h,children:i}),(0,O.jsx)(eG,{preserveAspectRatio:"none",height:"100%",width:"100%",className:(0,G.cn)("absolute top-0.5 left-0 z-[-1] -translate-x-[100%]")})]}),(0,O.jsxs)("div",{className:(0,G.cn)("relative pb-0.5 px-1 h-9 overflow-hidden"),children:[(0,O.jsx)("h2",{className:(0,G.cn)("type-h2 w-fit uppercase text-black invisible"),children:c}),(0,O.jsx)("h2",{className:(0,G.cn)("absolute left-1 top-0 type-h2 w-fit uppercase text-black"),ref:f,children:c}),(0,O.jsx)(eG,{preserveAspectRatio:"none",height:"100%",width:"100%",className:(0,G.cn)("h-full absolute top-0.5 left-0 z-[-1] -translate-x-[100%]")})]})]})}var eK=r(9714);let e$={AB:{naturalCaused:390,humanCaused:709,hectaresBurned:1951299,parks:["Banff National Park","Elk Island National Park","Jasper National Park","Wood Buffalo National Park"],image:"/_next/static/media/ALBERTA.6173fdb1.png"},BC:{naturalCaused:1621,humanCaused:572,hectaresBurned:2840754,parks:["GLACIER NATIONAL PARK","GULF ISLANDS NATIONAL PARK RESERVE","GWAII HAANAS NATIONAL PARK RESERVE","KOOTENAY NATIONAL PARK","MOUNT REVELSTOKE NATIONAL PARK","PACIFIC RIM NATIONAL PARK RESERVE","YOHO NATIONAL PARK"],image:"/_next/static/media/BRITISH_COLUMBIA.3def53e0.png"},MB:{naturalCaused:197,humanCaused:101,hectaresBurned:189782,parks:["Wapusk National Park","Riding Mountain National Park"],image:"/_next/static/media/MANITOBA.654ac4b0.png"},NB:{naturalCaused:192,humanCaused:202,hectaresBurned:854,parks:["Fundy National Park","Kouchibouguac National Park"],image:"/_next/static/media/NEW_BRUNSWICK.601b0ca3.png"},NL:{naturalCaused:11,humanCaused:90,hectaresBurned:21913,parks:["Terranova National Park","Gros Morne National Park"],image:"/_next/static/media/NEWFOUNDLAND.18c07d14.png"},NS:{naturalCaused:0,humanCaused:220,hectaresBurned:25093,parks:["Kejimkujik National Park"],image:"/_next/static/media/NOVA_SCOTIA.3063e4b2.png"},ON:{naturalCaused:582,humanCaused:161,hectaresBurned:441474,parks:["Georgia Bay Islands National Park","Point Pelee National Park","Thousand Islands National Park","Rouge National Urban Park"],image:"/_next/static/media/ONTARIO.ad4ce55e.png"},PE:{naturalCaused:0,humanCaused:8,hectaresBurned:8,parks:["Prince Edward Island National Park"],image:"/_next/static/media/PRINCE_EDWARD_ISLAND.9efe6ea5.png"},QC:{naturalCaused:377,humanCaused:336,hectaresBurned:4322888,parks:["La Mauricie National Park","Forillon National Park","Sanguenay-St. Lawrence Marine Park","Mingan Archipelago National Park Reserve"],image:"/_next/static/media/QUEBEC.af5e71d2.png"},SK:{naturalCaused:204,humanCaused:258,hectaresBurned:1850829,parks:["Prince Albert National Park","Grasslands National Park"],image:"/_next/static/media/SASKATCHEWAN.60e006c5.png"},NT:{naturalCaused:275,humanCaused:29,hectaresBurned:4163438,parks:["Nahanni National Park","Aulavik National Park","Naats'ihch'oh National Park","Thaidene Nene National Park Reserve","Tuktut Nogait National Park","Wood Buffalo National Park"],image:"/_next/static/media/NORTHWEST_TERRITORIES.3ae73132.png"},NU:{naturalCaused:0,humanCaused:0,hectaresBurned:0,parks:["Quittinirpaaq National Park","Ukkusiksalik National Park","Auyuittuq National Park","Sirmilik National Park","Qausuittuq National Park"],image:"/_next/static/media/NUNAVUT.24c31702.png"},YU:{naturalCaused:203,humanCaused:11,hectaresBurned:373274,parks:["Kluane National Park","Vuntut National Park","Ivvavik National Park","Aulavik National Park"],image:"/_next/static/media/YUKON.7d246125.png"}};function eQ(e){let{className:t}=e,{activeThreat:r,provinceKey:a,filteredThreatsByActiveProvince:l,setMapParams:n,setToFirstThreatByProvince:s}=(0,ej.L)(),[i,o]=(0,Y.k9)(e=>[e.firstDragged,e.firstTapped]),[c]=(0,Y.k9)(e=>[e.setMinimapDiv]),u=(0,Y.iY)(e=>e.isMobile),[d,h]=(0,T.useState)(!1),[f,p]=(0,T.useState)(!1),m=(0,I.useTranslations)("Map.detail"),g=(0,I.useTranslations)("Map.provinces"),v=a?g(a):"___",x=(0,G.cn)(" h-[100dvh] w-screen py-8 px-9 overflow-hidden",t),b=!r&&!i&&!o,w=function(){let e=(0,I.useTranslations)("Map.provinces"),t=(0,I.useTranslations)("Map.provinceCards");return Object.keys(eK.Z).map(r=>{let a=e$[r].hectaresBurned,l=a>1e6?"".concat((a/1e6).toFixed(2)," Millon"):a.toLocaleString();return{key:r,title:e(r),image:e$[r].image,data:[{title:t("naturalCausedTitle"),value:e$[r].naturalCaused.toLocaleString()},{title:t("humanCausedTitle"),value:e$[r].humanCaused.toLocaleString()},{title:t("hectaresBurnedTitle"),value:l},{title:t("nationalParksTitle"),value:e$[r].parks}]}})}();return(0,O.jsx)(ex.pi,{root:!0,children:(0,O.jsxs)("div",{className:x,children:[(0,O.jsx)("div",{className:"header hidden lg:flex w-full justify-center h-fit relative",children:(0,O.jsx)(ey.z,{bracketLabel:m("province"),label:v,onClick:()=>h(!0),hasBackground:!0},a)}),(0,O.jsx)(eU,{cards:w,className:"overflow-auto whitespace-nowrap",onClosed:()=>h(!1),onClickProvince:s,active:d}),b&&(0,O.jsx)("div",{className:"w-full h-full absolute top-0 left-0 flex justify-center items-center z-10",children:b&&(0,O.jsx)(eW,{bracketsTitle:m("onboarding.brackets"),dragLineOne:m("onboarding.drag.lineOne"),dragLineTwo:m("onboarding.drag.lineTwo"),tapLineOne:m("onboarding.tap.lineOne"),tapLineTwo:m("onboarding.tap.lineTwo")})}),(0,O.jsxs)("div",{className:"footer absolute bottom-8 left-0 w-full flex flex-col gap-y-2 px-6 lg:justify-between lg:px-9 justify-center items-center",children:[(0,O.jsx)(ey.z,{bracketLabel:m("province"),label:v,onClick:()=>h(!0),hasBackground:!0,fullWidth:!0,className:"lg:hidden"},a),(0,O.jsx)(ey.z,{label:m("historicTimelineLabel"),hasBackground:!0,onClick:()=>{n({state:"timeline"})},fullWidth:u,className:"w-full lg:w-fit justify-center"}),(0,O.jsxs)("button",{className:(0,G.cn)("hidden absolute w-[8.625rem] h-[8.625rem] right-9 bottom-0 lg:block","bg-transparent lg:flex justify-center items-center pointer-events-auto"),onClick:()=>{n({state:"overview"})},children:[(0,O.jsx)(ew,{className:"absolute inset-0 z-0"}),(0,O.jsx)("div",{className:"w-[7.375rem] h-[7.375rem]",ref:c})]})]}),r&&l&&(0,O.jsx)("div",{className:"w-full h-full absolute top-0 flex justify-center items-start lg:items-center inset-0 z-50 lg:z-10 pointer-events-none",children:(0,O.jsx)(eS,{className:"pointer-events-auto",card:function(e,t){let r=new Date(e.createdAt),a="".concat(r.getFullYear(),"/").concat(r.getMonth()+1,"/").concat(r.getDate());return{cardInfo:[{title:t.date,value:a},{title:t.location,value:e.province},...e.closestNationalPark?[{title:t.closestPark,value:e.closestNationalPark}]:[],{title:t.riskOfFire,value:e.risk}],image:e.image,id:e.id}}(r,{date:m("detectedImage.date"),location:m("detectedImage.location"),closestPark:m("detectedImage.closestPark"),riskOfFire:m("detectedImage.riskOfFire")}),cornerLabel:m("detectedImage.cornerLabel"),nextImageLabel:m("detectedImage.nextImage"),previousImageLabel:m("detectedImage.previousImage"),onNext:()=>{let e=l.indexOf(r),t=e===l.length-1?0:e+1;n({threat:l[t].id,loc:null},!0)},onPrevious:()=>{let e=l.indexOf(r),t=0===e?l.length-1:e-1;n({threat:l[t].id,loc:null},!0)},onClose:()=>{n({threat:null},!0)}})})]})})}function eX(){return(eX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var eJ=function(e){return T.createElement("svg",eX({viewBox:"0 0 586 511",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),F||(F=T.createElement("path",{d:"M1 3a2 2 0 0 1 2-2h580a2 2 0 0 1 2 2v500.172a2 2 0 0 1-.586 1.414l-4.828 4.828a2 2 0 0 1-1.414.586H3a2 2 0 0 1-2-2V3Z",fill:"#0E1A19",stroke:"#434343"})),E||(E=T.createElement("path",{d:"M481 1h102a2 2 0 0 1 2 2v38H481V1ZM557 510V314.399c0-.536.215-1.049.597-1.425L585 286v217.172a2 2 0 0 1-.586 1.414l-4.828 4.828a2 2 0 0 1-1.414.586H557ZM1 3a2 2 0 0 1 2-2h478v40H1V3ZM2 333l555 1",stroke:"#434343"})))};function e0(){return(e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var e1=function(e){return T.createElement("svg",e0({viewBox:"0 0 358 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),_||(_=T.createElement("path",{d:"M0 2a2 2 0 0 1 2-2h354a2 2 0 0 1 2 2v31.172a2 2 0 0 1-.586 1.414l-4.828 4.828a2 2 0 0 1-1.414.586H2a2 2 0 0 1-2-2V2Z",fill:"#FF4F28"})))};function e2(){return(e2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var e4=function(e){return T.createElement("svg",e2({viewBox:"0 0 520 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),A||(A=T.createElement("path",{d:"M0 2a2 2 0 0 1 2-2h516a2 2 0 0 1 2 2v27.172a2 2 0 0 1-.586 1.414l-4.828 4.828a2 2 0 0 1-1.414.586H2a2 2 0 0 1-2-2V2Z",fill:"#FF4F28"})))};function e5(){return(e5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var e3=function(e){return T.createElement("svg",e5({viewBox:"0 0 12 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),P||(P=T.createElement("path",{d:"M0 6h12M0 1h12",stroke:"#CDCDCD"})))},e8=r(7775),e6=r.n(e8);function e7(e){let{className:t}=e,[r,a]=(0,T.useState)(!1),[l,n]=(0,T.useState)(0),s=(0,G.cn)("pointer-events-auto",t,r?"z-40":"z-10"),i=(0,I.useTranslations)("Map.menu"),o=(0,T.useRef)(null),c=(0,T.useRef)(null),u=(0,T.useRef)(null),d=(0,T.useRef)(null),h=(0,Y.iY)(e=>e.isMobile),[f]=(0,Y.Uc)(e=>[e.audio]),p=(0,q.useRouter)(),m=[{name:i("links.howItWorks"),href:"/about/#how-it-works"},{name:i("links.plantAWildfireTree"),href:"/about/#plant-a-wildfire-tree"},{name:i("links.preventionTips"),href:"/about/#prevention-tips"},{name:i("links.emergencyContacts"),href:"/about/#emergency-contacts"},{name:i("links.meetTentree"),href:"/about/#meet-tentree"}],g=[{name:i("links.experience"),href:"/map"},{name:i("links.howItWorks"),href:"/about/#how-it-works"},{name:i("links.plantAWildfireTree"),href:"/about/#plant-a-wildfire-tree"},{name:i("links.preventionTips"),href:"/about/#prevention-tips"},{name:i("links.emergencyContacts"),href:"/about/#emergency-contacts"},{name:i("links.meetTentree"),href:"/about/#meet-tentree"}],v=h?g:m,x=[{name:i("externalLinks.legal"),href:"/legal"},{name:i("externalLinks.privacy"),href:"/legal/#privacy-policy"}];(0,T.useEffect)(()=>{let e=e=>{var t;(null===(t=u.current)||void 0===t?void 0:t.contains(e.target))||!r||b()};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]),(0,T.useEffect)(()=>{var e;let t=null===(e=d.current)||void 0===e?void 0:e.querySelectorAll("p");t&&r&&t.forEach((e,t)=>{setTimeout(()=>{(0,W.z)(v[t].name,.8,e)},50*t)})},[r]),(0,Q.V)(()=>{var e,t,a;let l=X.ZP.timeline(),n=null===(e=u.current)||void 0===e?void 0:e.querySelector(".button-menu"),s=null===(t=u.current)||void 0===t?void 0:t.querySelector(".button-close");if(r&&o.current){f&&f.menuOpen.play(),l.to(o.current,{clipPath:"polygon(0% 0%, 101% 0%, 101% 101%, 0% 101%)",duration:.6,ease:"power3.out"}),n&&s&&(l.fromTo(n,{opacity:1},{opacity:0,duration:.3,ease:"power2.out"},"<"),l.fromTo(s,{opacity:0},{opacity:1,duration:.3,ease:"power2.out"},"<"));let e=null===(a=u.current)||void 0===a?void 0:a.querySelectorAll(".external-link");e&&e.forEach(e=>{(0,W.z)(e.textContent,.8,e)})}},[r]);let b=()=>{var e,t;let l=X.ZP.timeline(),n=null===(e=u.current)||void 0===e?void 0:e.querySelector(".button-menu"),s=null===(t=u.current)||void 0===t?void 0:t.querySelector(".button-close");r&&(f&&f.menuClose.play(),l.to(o.current,{clipPath:"polygon(85% 0, 100% 0, 100% 6%, 85% 6%)",duration:.6,ease:"power3.out",onComplete:()=>{a(!1)}}),n&&s&&(l.fromTo(n,{opacity:0},{opacity:1,duration:.3,ease:"power2.out"},"<+=0.3"),l.fromTo(s,{opacity:1},{opacity:0,duration:.2,ease:"power2.out"},"<")))},w=e=>{var t;let r=null===(t=d.current)||void 0===t?void 0:t.querySelectorAll("p");r&&(0,W.z)(v[e].name,.5,r[e]),f&&f.menuHover.play()};return(0,O.jsxs)("div",{className:s,ref:u,children:[(0,O.jsx)(ey.z,{hasBackground:!0,label:i("menuCta"),className:(0,G.cn)("relative button-menu right-0 top-0 z-[60]"),onClick:()=>a(!0),children:(0,O.jsx)(e3,{className:"w-3"})}),(0,O.jsxs)("button",{className:(0,G.cn)("button-close","absolute right-0 top-0 w-[6rem] lg:w-[6.5rem] h-10 flex gap-2 justify-center items-center  border-r-0 border-t-0 z-[60] ",e6().closeButton,r?"flex":"hidden"),onClick:b,onMouseEnter:()=>{var e,t;let r=null===(e=u.current)||void 0===e?void 0:e.querySelector(".close-label"),a=null===(t=u.current)||void 0===t?void 0:t.querySelector(".button-close"),l=null==a?void 0:a.querySelector("svg"),n=X.ZP.timeline();l&&n.to(l,{opacity:0,duration:.1}).to(l,{opacity:1,duration:.1}).to(l,{opacity:0,duration:.1}).to(l,{opacity:1,duration:.1}),r&&(0,W.z)(i("close"),.8,r)},children:[(0,O.jsx)("p",{className:"close-label type-mono-mid uppercase text-light-gray pointer-events-none",children:i("close")}),(0,O.jsx)(ek.Z,{className:"w-3 h-3 pointer-events-none"})]}),r&&(0,O.jsxs)("div",{className:(0,G.cn)("w-screen h-[100dvh]  lg:w-[36.5rem] lg:h-[31.875rem] bg-black lg:bg-transparent fixed lg:absolute right-0 top-0 z-40  overflow-hidden",e6().menuContainer),ref:o,children:[(0,O.jsxs)("div",{className:"h-full flex flex-col justify-between lg:justify-start",ref:c,children:[(0,O.jsx)("div",{className:"w-full h-[20.75rem] pt-[17vh] lg:pt-10",children:(0,O.jsx)("ul",{className:"lg:pt-8 px-4 lg:px-8 flex flex-col gap-y-1.5 lg:gap-y-1",ref:d,children:v.map((e,t)=>(0,O.jsxs)("li",{className:(0,G.cn)("uppercase relative w-full h-10 lg:h-9 text-[2rem] lg:text-[3rem] type-h2 pl-1  hover:text-black",e.href===p.pathname?"text-black":"text-light-gray",e6().menuItem),onMouseEnter:()=>w(t),children:[(0,O.jsx)("div",{className:"absolute w-full h-full z-1 top-0 left-0 overflow-hidden",children:(0,O.jsxs)("div",{className:(0,G.cn)("absolute left-0 top-0 w-full h-full",e6().menuItemBg),children:[(0,O.jsx)(e4,{className:(0,G.cn)("absolute left-0 top-0 w-full h-9 z-0 hidden lg:block")}),(0,O.jsxs)("div",{className:(0,G.cn)("absolute z-1 type-mono-small top-1 right-1  lg:text-dark-orange",l===t?"text-dark-orange":"text-light-gray",e6().menuIndex),children:["[","0".concat(t+1),"]"]}),(0,O.jsx)(e1,{preserveAspectRatio:"xMinYMid meet",className:(0,G.cn)("absolute left-0 top-0 w-full h-10 z-0 text-dark-gray lg:hidden",l===t?"text-orange":"text-dark-gray","hover:text-orange",e6().menuItemBgMobile)})]})}),(0,O.jsx)(D(),{href:e.href,scroll:!0,onClick:()=>n(t),className:"menu-link absolute w-full h-full left-1 top-0 z-1 whitespace-nowrap",children:(0,O.jsx)("p",{className:" pointer-events-none",children:e.name})})]},t))})}),(0,O.jsx)("div",{className:"w-full pt-11 px-6 pb-[5.875rem] lg:pb-0 lg:pt-7.5 lg:pl-9 border-t-1 border-dark-gray lg:border-t-0",children:(0,O.jsx)("ul",{className:"grid w-fit grid-cols-3 grid-rows-2 gap-y-4 gap-[3.75rem] lg:gap-x-[6.25rem]",children:x.map((e,t)=>(0,O.jsx)("li",{className:"uppercase w-fit whitespace-nowrap  hover:underline type-mono-mid text-light-gray",children:(0,O.jsxs)(D(),{href:e.href,className:"external-link",children:["[",e.name,"]"]})},t))})}),(0,O.jsx)("div",{className:(0,G.cn)("hidden lg:flex corner-text absolute h-[14rem] right-[0.0625rem] bottom-0 rotate-180 pt-3 pl-2 pr-2.5 justify-start items-center vertical-lr"),children:(0,O.jsxs)("span",{className:(0,G.cn)("type-mono-small uppercase text-mid-gray pt-3 relative ",'before:content-[""] before:w-1 before:h-1 before:bg-orange before:absolute before:top-0 before:left-1/2 before:-translate-x-1/2'),children:["[",i("menuCta"),"]"]})}),(0,O.jsxs)("p",{className:"type-mono-small text-dark-gray absolute left-6 bottom-6 lg:left-9 lg:bottom-7",children:[(0,O.jsx)("span",{children:"\xa9"})," 2024"]})]}),(0,O.jsx)(eJ,{className:"hidden lg:block w-full z-[-1] absolute inset-0"})]})]})}var e9=r(5128);function te(e){let{className:t,label:r,value:a}=e,l=(0,T.useRef)(null),n=(0,G.cn)("flex flex-col gap-y-1.5",t);return(0,T.useEffect)(()=>{(0,W.z)(a.toString(),.8,l.current)},[a]),(0,O.jsxs)("div",{className:n,children:[(0,O.jsx)("div",{className:(0,G.cn)("corner-text pr-2.5 flex justify-start items-center"),children:(0,O.jsxs)("span",{className:(0,G.cn)("type-mono-small uppercase text-mid-gray pl-3 relative ",'before:content-[""] before:w-1 before:h-1 before:bg-orange before:absolute before:top-1/2 before:left-0 before:-translate-y-1/2'),children:["[",r,"]"]})}),(0,O.jsx)("h5",{className:"type-h3",ref:l,children:a})]})}var tt=r(1525),tr=r(8699);function ta(){return(ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}var tl=function(e){return T.createElement("svg",ta({viewBox:"0 0 82 82",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet"},e),C||(C=T.createElement("path",{opacity:.5,d:"M79 .5H3A2.5 2.5 0 0 0 .5 3v76A2.5 2.5 0 0 0 3 81.5h76a2.5 2.5 0 0 0 2.5-2.5V3A2.5 2.5 0 0 0 79 .5Z",fill:"#0E1A19",stroke:"#434343"})),R||(R=T.createElement("path",{d:"M5 11V5h6M77 11V5h-6M11 77H5v-6M71 77h6v-6",stroke:"#FF4F28"})))};function tn(e){let{className:t,image:r,onClick:a}=e,l=(0,T.useRef)(null),n=(0,Y.Uc)(e=>e.audio),[s,i]=(0,T.useState)(!1),o=(0,G.cn)("scale-0 transition-transform w-fit h-fit select-none cursor-pointer",s&&"scale-100",t);return(0,O.jsx)("div",{className:o,children:(0,O.jsx)("div",{className:"w-20 h-20 relative pointer-events-none",ref:l,children:(0,O.jsxs)("div",{className:(0,G.cn)("w-full h-full group relative block pointer-events-auto","grayscale transition-all scale-75","hover:grayscale-0 hover:scale-100"),onClick:()=>{n&&n.globalClick.play(),a&&a()},children:[(0,O.jsx)("div",{className:"w-full h-full p-2 relative",children:(0,O.jsx)("img",{src:r,alt:"MapImage",className:(0,G.cn)("w-full h-full object-left-top border border-dark-gray"),onLoad:()=>i(!0)})}),(0,O.jsx)(tl,{className:"background absolute top-0 left-0 w-full h-full z-[-1] transition-transform scale-50 group-hover:scale-100"})]})})})}var ts=r(3956),ti=r(358),to=r(8148);let tc=(0,T.forwardRef)((e,t)=>{let{className:r,groupProps:a}=e,l=(0,T.useRef)(null),[n,s]=(0,T.useState)(!0),{threatsFilteredByProximity:i,setMapParams:o}=(0,ej.L)(),[c,u]=(0,Y.k9)(e=>[e.overheadSettings,e.mapElevationRounded]),d=(0,T.useMemo)(()=>new tr.Vector3(-c.cameraPosition.x,-c.cameraPosition.y,-c.cameraPosition.z),[c]),h=(0,I.useTranslations)("Map.overview");return(0,O.jsxs)("div",{ref:l,className:(0,G.cn)("w-full h-full absolute inset-0 overflow-clip z-0",r),children:[(0,O.jsx)("div",{className:"absolute bottom-6 right-6 lg:bottom-[6rem] lg:right-96.5 z-30",children:n&&(0,O.jsx)(ts.m,{cornerLabel:h("cornerLabel"),firstCopy:h("firstCopy"),secondCopy:h("secondCopy"),onClose:()=>s(!1)})}),(0,O.jsx)(ti.vG.In,{children:(0,O.jsx)("group",{position:d,...a,children:i&&i.map(e=>{let t=to.D.datumsToSpherical(e.lat,e.lng),r=(e.elevation||0)*u;return(0,O.jsx)(tt.V,{position:[t.x*eo.f6,r,-t.y*eo.f6],sprite:!0,center:!0,portal:l,zIndexRange:[0,20],children:(0,O.jsx)(tn,{image:e.image,className:"map-detected-detail-image",onClick:()=>{o({state:"detail",threat:e.id,province:e.provinceKey})}})},e.id)})})})]})}),tu=L()(()=>Promise.all([r.e(502),r.e(651),r.e(621)]).then(r.bind(r,621)).then(e=>e.MapScene),{loadableGenerated:{webpack:()=>[621]},ssr:!1});var td=!0;function th(e){let{dehydratedState:t}=e,{mapState:r,setMapParams:a,threatData:l}=(0,ej.L)(),[n,s,i]=(0,Y.Uc)(e=>[e.audio,e.currentAudio,e.setCurrentAudio]),[o]=(0,Y.k9)(e=>[e.setTransitionOverlay]),[c]=(0,Y.qr)(e=>[e.setLoaderReady]),u=(0,I.useTranslations)("Global"),d=(0,I.useTranslations)("Map"),h=(0,q.useRouter)();return(0,T.useEffect)(()=>{if(n)return i(n.globalLoop),c(!1),()=>{i(null),c(!1)}},[n,i]),(0,O.jsxs)(S.R,{state:t,children:[(0,O.jsxs)(H(),{children:[(0,O.jsx)("title",{children:"".concat(d("title")," - ").concat(u("title"))}),(0,O.jsx)("meta",{name:"description",content:u("description")})]}),(0,O.jsxs)("main",{className:"overflow-hidden pointer-events-none h-full select-none",children:[(0,O.jsx)(D(),{href:"/",className:"absolute left-6 top-6 lg:left-9 lg:top-7 z-50 pointer-events-auto",children:(0,O.jsx)(V.Z,{className:"w-[6.75rem] lg:w-[8.125rem]"})}),(0,O.jsxs)("div",{className:"absolute w-fit right-[4.5rem] top-6 lg:right-9 lg:top-8 flex gap-x-2 z-40",children:["overview"===r&&(0,O.jsx)(te,{label:d("overview.incidentsLabel"),value:l?l.count:0,className:"right-0 top-0"}),"detail"===r&&(0,O.jsx)(e7,{className:"relative"})]}),(0,O.jsx)(U.Z,{className:"lg:hidden absolute right-6 top-6 pointer-events-auto z-50"}),(0,O.jsxs)("div",{className:"footer hidden lg:flex absolute bottom-8 h-10 left-0 w-full px-9 justify-center overflow-hidden z-50 pointer-events-none",children:[(0,O.jsx)(U.Z,{className:"absolute left-9 bottom-0 pointer-events-auto z-50"}),(0,O.jsx)(e9.T,{className:"lg:flex absolute left-[5.25rem] bottom-0 pointer-events-auto z-50"})]}),(0,O.jsx)(D(),{href:"/legal",className:"absolute whitespace-nowrap bottom-1 left-1/2 -translate-x-1/2 lg:translate-x-0 lg:left-9 lg:bottom-2.5 z-50 pointer-events-auto",children:(0,O.jsx)(eg.L,{text:"[".concat(d("privacyLabel"),"]")})}),(0,O.jsx)(ti.vG.In,{children:(0,O.jsx)(tu,{})}),"overview"===r&&"/map"===h.pathname&&(0,O.jsx)(tc,{}),"detail"===r&&(0,O.jsx)(eQ,{className:"pointer-events-none z-10"}),"timeline"===r&&(0,O.jsx)(ep,{className:"z-10 pointer-events-none"}),(0,O.jsx)("div",{className:"transition-overlay absolute inset-0 bg-black transition-opacity opacity-0 pointer-events-none z-40",ref:o})]}),(0,O.jsx)(ev.a,{})]})}},1608:function(e,t,r){"use strict";function a(e,t,r){return n(Math.min(Math.max(t,e),r))}function l(e,t,r,l,s,i){let o=(e-t)*(s-l)/(r-t)+l;if(null!==i&&i){let e=l>s?l:s;return a(o,l>s?s:l,e)}return n(o)}function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=Math.pow(10,t);return Math.round(e*r)/r}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"000",r=""+e;return t.substring(0,t.length-r.length)+r}r.d(t,{NM:function(){return n},hZ:function(){return l},uZ:function(){return a},vk:function(){return s}})},1307:function(e,t,r){"use strict";function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){setTimeout(t,e)})}r.d(t,{_:function(){return a}})},3665:function(e,t,r){"use strict";r.d(t,{T:function(){return h},z:function(){return f}});var a=r(6573),l=r.n(a),n=r(9666),s=r.n(n),i=r(2075),o=r.n(i),c=r(1608);let u={RIGHT:"right",LEFT:"left",RANDOM:"random"},d={SHOW:"show",HIDE:"hide",STAY:"stay"},h=function(){let e,t,r,a,n,i,c,h,f,{text:p="",duration:m=1,delay:g=0,delayResolve:v=.2,fps:x=60,glyphs:b=" !#$&%()*+0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstu\xfcvwxyz{|}~",animation:w=d.SHOW,direction:y=u.RIGHT,onUpdate:j=null,onComplete:N=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=b.split(""),M=p.split(""),F=1e3/x,E=Date.now(),_=Date.now(),A=M.map((e,t)=>t);w==d.HIDE&&(y==u.LEFT?y=u.RIGHT:y==u.RIGHT&&(y=u.LEFT)),y==u.LEFT&&A.reverse(),y==u.RANDOM&&(A=s().shuffle(A));let P=()=>{if(Date.now()-E<F){requestAnimationFrame(P);return}E=Date.now(),a="",c=(E-_)*.001/m,w==d.HIDE&&(c=1-c),h=l().clamp01(c-g),h=o().quartOut(h),f=l().clamp01(c-g-v),f=1/(1-v)*f,f=o().quadInOut(f),e=Math.round(h*p.length),t=Math.round(f*p.length);for(let l=0;l<p.length;l++)i=A[l],r=M[l],i>=e&&w!=d.STAY&&(r=" ")," "!=r&&i>=t&&(r=s().pick(k)),a="".concat(a).concat(r);(n=w==d.HIDE?h<=0:h>=1)?a=w==d.HIDE?"":p:requestAnimationFrame(P),j&&j({output:a,t:c}),n&&N&&N(a)};P()},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.2,r=arguments.length>2?arguments[2]:void 0;h({text:e,fps:20,duration:t,animation:"stay",ease:"easeInOut",onUpdate:e=>{let{output:t,t:a}=e;t=t.split("");let l=(0,c.uZ)(a,0,1),n=Math.floor(l*t.length),s=t.map((e,t)=>t<n?l<.8?Math.random():1-Math.random()*(1-l):0).sort(()=>Math.random()-.5);t=(t=t.map((e,t)=>{let r=s[t];return'<span style="opacity: '.concat(r,'">').concat(e,"</span>")})).join(""),r.innerHTML=t}})}},415:function(e){e.exports={button:"Button_button__5Fngg",buttonBg:"Button_buttonBg__j6Nqb",buttonBgMid:"Button_buttonBgMid__w_kWB",buttonBgLong:"Button_buttonBgLong__XcPuD",blurBg:"Button_blurBg__2qBf3"}},826:function(e){e.exports={cornerText:"DetectedImageCard_cornerText__xWVtN",root:"DetectedImageCard_root__XHyza"}},3744:function(e){e.exports={cardFront:"FlipCard_cardFront__WWCE_",cardBack:"FlipCard_cardBack__XKgs4",card:"FlipCard_card__IR_UC"}},1287:function(e){e.exports={container:"HorizontalScrollSection_container__ZJYiZ",backgroundImage:"HorizontalScrollSection_backgroundImage__seYic"}},1259:function(e){e.exports={cornerText:"InfoCard_cornerText__j__Fx"}},2153:function(e){e.exports={cornerText:"MapDetailInfo_cornerText__1a8kp",root:"MapDetailInfo_root__rT74G"}},7775:function(e){e.exports={menuItem:"Menu_menuItem__QDtpd",menuItemBg:"Menu_menuItemBg__Ecnjs",menuIndex:"Menu_menuIndex__vUCIC",menuItemBgMobile:"Menu_menuItemBgMobile__0E_2s",closeButton:"Menu_closeButton__KPGPo",menuContainer:"Menu_menuContainer__qop8_"}}},function(e){e.O(0,[959,673,921,562,337,25,373,774,888,179],function(){return e(e.s=3337)}),_N_E=e.O()}]);