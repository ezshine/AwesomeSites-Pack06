"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[816],{1816:function(e,t,i){let a;i.r(t),i.d(t,{default:function(){return nj}});var s,n,o,r,l,d,h,c,p,m,u,g,f=i(5893),v=i(7294),_=i(1664),y=i.n(_),x=i(5335),b=i(990),w=i(9809);let C=e=>{let{className:t,carModel:i,activeColor:a}=e,s=w.Wn[i][a];return(0,f.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"transition-all duration-500 ".concat(t),children:[(0,f.jsx)("path",{d:"M32.5343 27.9815L27.0933 18L22.0797 28.5115C20.8751 31.0371 21.6473 34.0627 23.9149 35.7021C25.8347 37.09 28.4059 37.1697 30.4078 35.9033L30.4931 35.8493C33.1407 34.1745 34.0337 30.7322 32.5343 27.9815Z",stroke:"white",strokeWidth:"2"}),(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.5091 28L24.8574 29.4835C24.3526 30.6326 24.6899 31.9776 25.6772 32.7526C26.6228 33.4948 27.9409 33.5368 28.9318 32.8562L28.9736 32.8275C30.1346 32.0301 30.5288 30.498 29.8968 29.2392L29.2747 28H25.5091Z",fill:s,className:"transition-all duration-500"})]})},M=e=>{let{className:t,carModel:i,activeColor:a}=e,s=w.Wn[i][a];return(0,f.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"transition-all duration-500 ".concat(t),children:[(0,f.jsx)("path",{d:"M31.6258 32.6257C31.6837 32.5677 31.7163 32.4891 31.7162 32.4071C31.7162 32.3252 31.6836 32.2465 31.6257 32.1886C31.5677 32.1306 31.4891 32.098 31.4071 32.098C31.3251 32.098 31.2465 32.1305 31.1885 32.1885C30.3973 32.9778 29.3359 33.4373 28.2189 33.4741C27.102 33.5108 26.0127 33.1222 25.1712 32.3866C24.3298 31.6511 23.799 30.6235 23.6862 29.5116C23.5733 28.3997 23.8868 27.2865 24.5633 26.3969C25.2398 25.5073 26.2288 24.9077 27.3304 24.7193C28.432 24.5309 29.564 24.7677 30.4977 25.382C31.4313 25.9963 32.097 26.9421 32.36 28.0283C32.6231 29.1145 32.4639 30.26 31.9148 31.2334C31.8745 31.3048 31.8642 31.3893 31.8863 31.4683C31.9083 31.5473 31.9608 31.6143 32.0322 31.6546C32.1037 31.6949 32.1882 31.7051 32.2672 31.6831C32.3461 31.6611 32.4131 31.6086 32.4534 31.5371C33.081 30.4253 33.2631 29.1166 32.9627 27.8756C32.6624 26.6347 31.902 25.5541 30.8354 24.8523C29.7688 24.1505 28.4755 23.8799 27.217 24.0951C25.9585 24.3104 24.8287 24.9954 24.056 26.0118C23.2833 27.0282 22.9253 28.3001 23.0545 29.5703C23.1836 30.8406 23.7903 32.0144 24.7517 32.8544C25.7132 33.6945 26.9578 34.1381 28.2339 34.0957C29.5099 34.0532 30.7223 33.5278 31.6258 32.6257Z",fill:"white"}),(0,f.jsx)("path",{d:"M30.8636 35.2804L30.5787 37.0464C30.5722 37.0865 30.5736 37.1275 30.583 37.167C30.5923 37.2066 30.6093 37.2439 30.6331 37.2769C30.6569 37.3098 30.6869 37.3378 30.7215 37.3591C30.7561 37.3805 30.7946 37.3948 30.8347 37.4013C30.8748 37.4077 30.9158 37.4062 30.9553 37.3968C30.9949 37.3875 31.0322 37.3704 31.0651 37.3466C31.0981 37.3227 31.126 37.2927 31.1473 37.2581C31.1686 37.2234 31.1828 37.185 31.1893 37.1448L31.4742 35.3789C31.4871 35.298 31.4674 35.2152 31.4194 35.1488C31.3714 35.0824 31.299 35.0378 31.2181 35.0248C31.1372 35.0117 31.0544 35.0313 30.9879 35.0792C30.9215 35.1272 30.8767 35.1995 30.8636 35.2804Z",fill:"white"}),(0,f.jsx)("path",{d:"M36.096 26.5579C36.1737 26.5578 36.2485 26.5285 36.3056 26.4757C36.3626 26.423 36.3977 26.3506 36.4039 26.2732C36.41 26.1957 36.3868 26.1188 36.3388 26.0577C36.2908 25.9966 36.2216 25.9558 36.1448 25.9434L34.3789 25.6585C34.3388 25.652 34.2979 25.6535 34.2584 25.6629C34.2189 25.6723 34.1816 25.6893 34.1487 25.7131C34.1157 25.7369 34.0878 25.7669 34.0665 25.8015C34.0452 25.836 34.0309 25.8745 34.0245 25.9145C34.018 25.9546 34.0195 25.9956 34.0289 26.0351C34.0382 26.0746 34.0553 26.1119 34.0791 26.1448C34.1028 26.1777 34.1329 26.2056 34.1674 26.227C34.202 26.2483 34.2404 26.2626 34.2805 26.269L36.0464 26.5539C36.0628 26.5566 36.0794 26.5579 36.096 26.5579Z",fill:"white"}),(0,f.jsx)("path",{d:"M20.0863 31.5787C20.0462 31.5723 20.0052 31.5737 19.9657 31.5831C19.9262 31.5925 19.8889 31.6095 19.856 31.6333C19.8231 31.6571 19.7952 31.6871 19.7739 31.7217C19.7525 31.7562 19.7382 31.7947 19.7318 31.8348C19.7253 31.8748 19.7268 31.9158 19.7362 31.9553C19.7456 31.9948 19.7626 32.0321 19.7864 32.065C19.8102 32.0979 19.8402 32.1258 19.8747 32.1472C19.9093 32.1685 19.9477 32.1828 19.9878 32.1892L21.7538 32.4741C21.7939 32.4806 21.8348 32.4791 21.8743 32.4697C21.9139 32.4603 21.9511 32.4433 21.984 32.4195C22.017 32.3957 22.0449 32.3657 22.0662 32.3311C22.0875 32.2966 22.1018 32.2582 22.1083 32.2181C22.1147 32.178 22.1132 32.137 22.1039 32.0975C22.0945 32.058 22.0774 32.0207 22.0537 31.9878C22.0299 31.9549 21.9999 31.927 21.9653 31.9057C21.9307 31.8843 21.8923 31.8701 21.8522 31.8636L20.0863 31.5787Z",fill:"white"}),(0,f.jsx)("path",{d:"M30.3016 22.7529C30.3665 22.7529 30.4298 22.7324 30.4824 22.6943L31.9325 21.647C31.999 21.599 32.0437 21.5266 32.0568 21.4456C32.0698 21.3646 32.0502 21.2818 32.0022 21.2153C31.9542 21.1488 31.8817 21.1042 31.8008 21.0911C31.7198 21.078 31.637 21.0977 31.5705 21.1457L30.1203 22.193C30.0673 22.2313 30.0278 22.2854 30.0075 22.3475C29.9872 22.4097 29.9871 22.4767 30.0072 22.5389C30.0273 22.6011 30.0667 22.6553 30.1196 22.6938C30.1725 22.7322 30.2362 22.7529 30.3016 22.7529Z",fill:"white"}),(0,f.jsx)("path",{d:"M25.6503 35.4383L24.2002 36.4856C24.1672 36.5094 24.1393 36.5394 24.118 36.5739C24.0967 36.6085 24.0824 36.6469 24.0759 36.687C24.0695 36.7271 24.071 36.7681 24.0803 36.8076C24.0897 36.8471 24.1067 36.8844 24.1305 36.9173C24.1543 36.9502 24.1843 36.9781 24.2189 36.9994C24.2534 37.0208 24.2919 37.0351 24.3319 37.0415C24.372 37.048 24.413 37.0465 24.4525 37.0371C24.492 37.0278 24.5293 37.0107 24.5622 36.9869L26.0123 35.9397C26.0788 35.8917 26.1235 35.8192 26.1366 35.7382C26.1496 35.6573 26.13 35.5745 26.082 35.508C26.034 35.4415 25.9615 35.3968 25.8806 35.3837C25.7996 35.3707 25.7168 35.3903 25.6503 35.4383Z",fill:"white"}),(0,f.jsx)("path",{d:"M34.508 31.0507C34.4751 31.0744 34.4472 31.1045 34.4259 31.139C34.4046 31.1736 34.3903 31.212 34.3838 31.2521C34.3773 31.2922 34.3788 31.3331 34.3882 31.3727C34.3975 31.4122 34.4146 31.4494 34.4384 31.4824L35.4856 32.9325C35.5336 32.999 35.6061 33.0437 35.6871 33.0567C35.768 33.0698 35.8508 33.0502 35.9173 33.0022C35.9838 32.9541 36.0285 32.8817 36.0416 32.8007C36.0546 32.7198 36.035 32.6369 35.987 32.5705L34.9397 31.1203C34.8917 31.0538 34.8193 31.0091 34.7383 30.9961C34.6573 30.983 34.5745 31.0027 34.508 31.0507Z",fill:"white"}),(0,f.jsx)("path",{d:"M28.0664 26.7411C27.6065 26.7411 27.1569 26.8774 26.7745 27.1329C26.3921 27.3884 26.0941 27.7516 25.9181 28.1765C25.7421 28.6014 25.6961 29.0689 25.7858 29.5199C25.8755 29.971 26.097 30.3853 26.4222 30.7105C26.7474 31.0357 27.1617 31.2572 27.6127 31.3469C28.0638 31.4366 28.5313 31.3905 28.9562 31.2146C29.3811 31.0386 29.7442 30.7405 29.9997 30.3581C30.2552 29.9758 30.3916 29.5262 30.3916 29.0663C30.3909 28.4498 30.1457 27.8588 29.7098 27.4229C29.2739 26.987 28.6828 26.7418 28.0664 26.7411ZM28.0664 30.7731C27.7288 30.7731 27.3988 30.673 27.1181 30.4855C26.8374 30.2979 26.6186 30.0314 26.4895 29.7195C26.3603 29.4076 26.3265 29.0644 26.3923 28.7333C26.4582 28.4022 26.6207 28.0981 26.8595 27.8594C27.0982 27.6207 27.4023 27.4581 27.7334 27.3923C28.0645 27.3264 28.4077 27.3602 28.7195 27.4894C29.0314 27.6186 29.298 27.8374 29.4855 28.118C29.6731 28.3987 29.7732 28.7287 29.7732 29.0663C29.7727 29.5188 29.5927 29.9527 29.2727 30.2727C28.9527 30.5926 28.5189 30.7726 28.0664 30.7731Z",fill:"white"}),(0,f.jsx)("path",{d:"M30.7514 26.3813C30.6889 26.3188 30.6093 26.2762 30.5226 26.259C30.436 26.2417 30.3461 26.2506 30.2645 26.2844C30.1829 26.3182 30.1131 26.3755 30.064 26.449C30.0149 26.5224 29.9887 26.6088 29.9887 26.6972C29.9887 26.7855 30.0149 26.8719 30.064 26.9454C30.1131 27.0189 30.1829 27.0761 30.2645 27.11C30.3461 27.1438 30.436 27.1526 30.5226 27.1354C30.6093 27.1181 30.6889 27.0756 30.7514 27.0131C30.8352 26.9293 30.8823 26.8157 30.8823 26.6972C30.8823 26.5787 30.8352 26.465 30.7514 26.3813Z",fill:"white"}),(0,f.jsx)("path",{d:"M25.6972 31.8822C25.944 31.8822 26.144 31.6822 26.144 31.4354C26.144 31.1887 25.944 30.9887 25.6972 30.9887C25.4505 30.9887 25.2504 31.1887 25.2504 31.4354C25.2504 31.6822 25.4505 31.8822 25.6972 31.8822Z",fill:"white"}),(0,f.jsx)("path",{d:"M30.1195 31.1195C30.0571 31.182 30.0145 31.2616 29.9973 31.3483C29.98 31.4349 29.9889 31.5248 30.0227 31.6064C30.0565 31.6881 30.1138 31.7578 30.1873 31.8069C30.2607 31.856 30.3471 31.8822 30.4355 31.8822C30.5238 31.8822 30.6102 31.856 30.6837 31.8069C30.7572 31.7578 30.8144 31.6881 30.8482 31.6064C30.8821 31.5248 30.8909 31.4349 30.8737 31.3483C30.8564 31.2616 30.8139 31.182 30.7514 31.1195C30.7099 31.078 30.6607 31.0451 30.6064 31.0227C30.5522 31.0002 30.4941 30.9887 30.4355 30.9887C30.3768 30.9887 30.3187 31.0002 30.2645 31.0227C30.2103 31.0451 30.161 31.078 30.1195 31.1195Z",fill:"white"}),(0,f.jsx)("path",{d:"M25.6972 27.144C25.944 27.144 26.144 26.9439 26.144 26.6972C26.144 26.4504 25.944 26.2504 25.6972 26.2504C25.4505 26.2504 25.2504 26.4504 25.2504 26.6972C25.2504 26.9439 25.4505 27.144 25.6972 27.144Z",fill:"white"}),(0,f.jsx)("path",{d:"M15.8229 29.0663H17.1326C17.1326 35.0952 22.0375 40 28.0663 40C34.0952 40 39 35.0952 39 29.0663C38.9998 26.4737 38.0786 23.9654 36.4007 21.989C34.7227 20.0125 32.3972 18.6965 29.8389 18.2756C29.758 18.2625 29.6752 18.282 29.6087 18.3299C29.5422 18.3778 29.4974 18.4502 29.4842 18.5311C29.471 18.612 29.4905 18.6948 29.5383 18.7613C29.5862 18.8279 29.6585 18.8727 29.7393 18.886C32.1528 19.2832 34.3466 20.5249 35.9295 22.3895C37.5124 24.2541 38.3814 26.6204 38.3816 29.0663C38.3816 34.7542 33.7542 39.3816 28.0663 39.3816C22.3785 39.3816 17.751 34.7542 17.751 29.0663H20.9477C21.1485 29.0671 21.3427 28.9941 21.4932 28.8612C21.6437 28.7282 21.7402 28.5446 21.7642 28.3452C21.9292 26.9221 22.5703 25.5964 23.5833 24.5833C24.5964 23.5703 25.9221 22.9292 27.3453 22.7642C27.5446 22.7402 27.7283 22.6437 27.8612 22.4932C27.9941 22.3427 28.0671 22.1485 28.0663 21.9477V16.823C28.0666 16.7109 28.044 16.5999 27.9998 16.4969C27.9556 16.3939 27.8907 16.3011 27.8092 16.2241C27.7277 16.1471 27.6314 16.0877 27.526 16.0494C27.4207 16.0111 27.3086 15.9948 27.1967 16.0015C24.0318 16.2126 21.051 17.5652 18.8081 19.8081C16.5652 22.051 15.2126 25.0318 15.0015 28.1967C14.9948 28.3086 15.0111 28.4207 15.0494 28.526C15.0877 28.6313 15.1471 28.7277 15.2241 28.8092C15.3011 28.8907 15.3939 28.9555 15.4969 28.9998C15.5999 29.044 15.7109 29.0666 15.8229 29.0663ZM18.346 25.8618C18.8052 24.3591 19.6196 22.9891 20.7205 21.8679C21.8213 20.7466 23.176 19.9071 24.67 19.4203C24.7087 19.4077 24.7494 19.4028 24.7899 19.4059C24.8305 19.409 24.87 19.4201 24.9062 19.4385C24.9425 19.457 24.9747 19.4823 25.0011 19.5132C25.0275 19.5441 25.0476 19.5799 25.0602 19.6185C25.0728 19.6572 25.0776 19.6979 25.0744 19.7385C25.0712 19.779 25.0601 19.8185 25.0416 19.8547C25.0232 19.8909 24.9977 19.9231 24.9668 19.9495C24.9359 19.9759 24.9001 19.9959 24.8614 20.0084C23.4619 20.4643 22.1929 21.2507 21.1617 22.3011C20.1306 23.3514 19.3677 24.6346 18.9375 26.0423C18.9136 26.1207 18.8594 26.1863 18.7871 26.2248C18.7147 26.2633 18.63 26.2715 18.5516 26.2476C18.4732 26.2237 18.4075 26.1696 18.3689 26.0973C18.3304 26.0249 18.3221 25.9402 18.346 25.8618Z",fill:s,className:"transition-all duration-500"})]})},L=e=>{let{className:t,active:i=!1}=e;return(0,f.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"transition-all duration-500 ".concat(t),children:[(0,f.jsx)("g",{filter:"url(#filter0_d_3147_978)",children:(0,f.jsx)("path",{d:"M33.8992 21.8967C33.8992 21.4004 34.3011 20.9975 34.7984 20.9975H39.2943C39.7916 20.9975 40.1935 21.4004 40.1935 21.8967C40.1935 22.3931 39.7916 22.7959 39.2943 22.7959H34.7984C34.3011 22.7959 33.8992 22.3931 33.8992 21.8967ZM39.2943 27.344H34.7984C34.3011 27.344 33.8992 27.7468 33.8992 28.2432C33.8992 28.7395 34.3011 29.1424 34.7984 29.1424H39.2943C39.7916 29.1424 40.1935 28.7395 40.1935 28.2432C40.1935 27.7468 39.7916 27.344 39.2943 27.344ZM39.2943 33.5862H34.7984C34.3011 33.5862 33.8992 33.989 33.8992 34.4854C33.8992 34.9817 34.3011 35.3846 34.7984 35.3846H39.2943C39.7916 35.3846 40.1935 34.9817 40.1935 34.4854C40.1935 33.989 39.7916 33.5862 39.2943 33.5862ZM33 20.0983V36.2838C33 36.7801 32.5981 37.1829 32.1017 37.1829L24.0009 37.191H24C19.0374 37.191 15 33.1537 15 28.191C15 23.2284 19.0374 19.191 24 19.191L32.1017 19.1991C32.5981 19.1991 33 19.602 33 20.0983ZM31.2016 20.9966L23.9991 20.9894C20.0292 20.9894 16.7984 24.2202 16.7984 28.191C16.7984 32.1619 20.0292 35.3918 23.9991 35.3927L31.2016 35.3855V20.9966Z",fill:"".concat(i?"#77CAF7":"white"),className:"transition-all duration-500"})}),(0,f.jsx)("defs",{children:(0,f.jsxs)("filter",{id:"filter0_d_3147_978",x:"8.6",y:"12.791",width:"37.9934",height:"30.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,f.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,f.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,f.jsx)("feOffset",{}),(0,f.jsx)("feGaussianBlur",{stdDeviation:"3.2"}),(0,f.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,f.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.363889 0 0 0 0 0.809167 0 0 0 0 1 0 0 0 0.65 0"}),(0,f.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3147_978"}),(0,f.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_3147_978",result:"shape"})]})})]})},S=e=>{let{className:t,active:i=!1}=e;return(0,f.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"transition-all duration-500 ".concat(t),children:[(0,f.jsx)("rect",{x:"12.5",y:"13.5",width:"32",height:"30",stroke:"".concat(i?"#77CAF7":"#B6B6B6"),strokeDasharray:"5 5",className:"transition-all duration-500"}),(0,f.jsx)("line",{x1:"14",y1:"21.5",x2:"43",y2:"21.5",stroke:"".concat(i?"#77CAF7":"#5F5F5F"),strokeDasharray:"4 1",className:"transition-all duration-500"}),(0,f.jsx)("line",{x1:"14",y1:"28.5",x2:"43",y2:"28.5",stroke:"".concat(i?"#77CAF7":"#5F5F5F"),strokeDasharray:"4 1",className:"transition-all duration-500"}),(0,f.jsx)("line",{x1:"14",y1:"35.5",x2:"43",y2:"35.5",stroke:"".concat(i?"#77CAF7":"#5F5F5F"),strokeDasharray:"4 1",className:"transition-all duration-500"}),(0,f.jsx)("line",{x1:"32.5",y1:"16",x2:"32.5",y2:"42",stroke:"".concat(i?"#77CAF7":"#5F5F5F"),strokeDasharray:"4 1",className:"transition-all duration-500"}),(0,f.jsx)("line",{x1:"37.5",y1:"15",x2:"37.5",y2:"42",stroke:"".concat(i?"#77CAF7":"#5F5F5F"),strokeDasharray:"4 1",className:"transition-all duration-500"}),(0,f.jsx)("line",{x1:"25.5",y1:"16",x2:"25.5",y2:"42",stroke:"".concat(i?"#77CAF7":"#5F5F5F"),strokeDasharray:"4 1",className:"transition-all duration-500"}),(0,f.jsx)("line",{x1:"18.5",y1:"16",x2:"18.5",y2:"42",stroke:"".concat(i?"#77CAF7":"#5F5F5F"),strokeDasharray:"4 1",className:"transition-all duration-500"}),(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.3794 21.8974C24.1377 22.2164 23.9816 21.9135 23.9816 23.0795L24.7505 25.4666C25.042 26.3709 25.2325 26.2676 26.1461 26.2607H30.5943C31.517 26.2699 31.6983 26.3732 31.9921 25.4666L32.7588 23.0795C32.7588 21.9157 32.6119 22.2164 31.3701 21.8974C29.3526 21.8699 27.3876 21.8699 25.3794 21.8974ZM25.4391 34.3032L24.6541 36.6146L25.2578 37.7714H31.4892L32.0837 36.6146L31.3079 34.3032H25.4391ZM24.8951 40.916L23.6809 40.5533L22.9051 39.7684L23.1117 39.7592L23.8186 40.4409L24.9318 40.7072L25.0787 40.4662L23.9747 40.2779L23.3114 39.7018L22.8454 39.711L22.5952 39.4608L22.5333 25.6136L21 25.9051L21.0253 25.5172L22.5608 24.8379L22.8638 17.7503L23.7773 17.1375L23.8553 21.4319L23.853 17.087L25.1797 16.1919L26.4903 15.7695L26.6464 15.5882L25.0879 15.8544L23.6121 16.7863L23.6029 17.1145L22.8707 17.5897L22.9143 16.7106L24.9824 15.3495C27.2157 14.8835 29.5247 14.8835 31.7579 15.3495L33.8351 16.7106L33.8696 17.5897L33.1465 17.1145L33.1373 16.7863L31.6638 15.8544L30.103 15.5882L30.2591 15.7695L31.5697 16.1919L32.8964 17.087V21.4319L32.9744 17.1375L33.8788 17.7503L34.1818 24.8379L35.715 25.5172L35.7494 25.9051L34.2162 25.6136L34.1565 39.4585L33.9063 39.7087L33.4404 39.6995L32.7771 40.2756L31.673 40.4638L31.8199 40.7048L32.924 40.4386L33.6401 39.7568L33.8467 39.766L33.0617 40.551L31.8544 40.9136C29.5178 41.0284 27.2319 41.0285 24.8951 40.916ZM33.5186 29.9239L32.6143 29.9078L32.6234 33.1832L33.1238 35.0103L33.4268 33.112L33.5186 29.9239ZM33.3625 24.7251L32.7084 27.4404L32.674 28.9415L33.4589 28.9691L33.3625 24.7251ZM23.2313 29.9239L24.1356 29.9078L24.1265 33.1832L23.6169 35.0103L23.3162 33.112L23.2313 29.9239ZM23.3782 24.7251L24.0415 27.4404L24.0668 28.9415L23.291 28.9691L23.3782 24.7251Z",fill:"white"})]})},k=e=>{let{className:t}=e;return(0,f.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"transition-all duration-500 ".concat(t),children:[(0,f.jsx)("path",{d:"M26.3223 27.0646C26.3223 27.5813 26.4755 28.0865 26.7626 28.5162C27.0497 28.9459 27.4578 29.2808 27.9353 29.4786C28.4127 29.6763 28.9381 29.7281 29.4449 29.6273C29.9518 29.5264 30.4173 29.2776 30.7828 28.9122C31.1482 28.5467 31.397 28.0812 31.4979 27.5743C31.5987 27.0675 31.5469 26.5421 31.3492 26.0646C31.1514 25.5872 30.8165 25.1791 30.3868 24.892C29.9571 24.6049 29.4519 24.4517 28.9352 24.4517C28.2422 24.4517 27.5776 24.7269 27.0876 25.217C26.5976 25.707 26.3223 26.3716 26.3223 27.0646ZM29.8061 27.0646C29.8061 27.2368 29.7551 27.4052 29.6594 27.5484C29.5636 27.6917 29.4276 27.8033 29.2685 27.8692C29.1093 27.9352 28.9342 27.9524 28.7652 27.9188C28.5963 27.8852 28.4411 27.8022 28.3193 27.6804C28.1975 27.5586 28.1145 27.4034 28.0809 27.2345C28.0473 27.0655 28.0646 26.8904 28.1305 26.7313C28.1964 26.5721 28.3081 26.4361 28.4513 26.3404C28.5945 26.2447 28.7629 26.1936 28.9352 26.1936C29.1662 26.1936 29.3877 26.2854 29.551 26.4487C29.7144 26.612 29.8061 26.8336 29.8061 27.0646Z",fill:"white"}),(0,f.jsx)("path",{d:"M35.9032 35.9658L32.4803 32.5603C31.7386 31.8677 30.7575 31.489 29.7428 31.5036C28.728 31.5182 27.7583 31.925 27.0368 32.6387L26.0787 33.6055L25.2861 32.8042L22.0548 29.5729C21.3717 28.8892 20.5243 28.3923 19.594 28.13C18.6637 27.8677 17.6817 27.8487 16.7419 28.0749V23.5807C16.7419 23.3497 16.8337 23.1281 16.997 22.9648C17.1604 22.8015 17.3819 22.7097 17.6129 22.7097H29.8064V20.9678H17.6129C16.9199 20.9678 16.2553 21.2431 15.7653 21.7331C15.2753 22.2231 15 22.8877 15 23.5807V38.3871C15 39.0801 15.2753 39.7447 15.7653 40.2347C16.2553 40.7247 16.9199 41 17.6129 41H34.1613C35.0853 41 35.9714 40.633 36.6247 39.9796C37.2781 39.3263 37.6451 38.4401 37.6451 37.5161V26.1936H35.9032V35.9658ZM34.1613 39.2581H17.6129C17.3819 39.2581 17.1604 39.1663 16.997 39.003C16.8337 38.8396 16.7419 38.6181 16.7419 38.3871V29.8952L16.8203 29.8516C17.509 29.6224 18.248 29.5898 18.9543 29.7575C19.6605 29.9252 20.306 30.2866 20.8181 30.801L25.0945 35.0774C25.3713 35.3058 25.7199 35.4292 26.0787 35.4258C26.4245 35.4246 26.7605 35.3115 27.0368 35.1036L28.2648 33.8755C28.4671 33.6727 28.7074 33.5119 28.9719 33.4021C29.2364 33.2923 29.52 33.2358 29.8064 33.2358C30.0928 33.2358 30.3764 33.2923 30.641 33.4021C30.9055 33.5119 31.1458 33.6727 31.3481 33.8755L35.7029 38.2303C35.5686 38.5293 35.3528 38.7844 35.0801 38.9662C34.8074 39.148 34.4889 39.2491 34.1613 39.2581Z",fill:"white"}),(0,f.jsx)("path",{d:"M36.775 14H34.1621V16.6129H36.775V14Z",fill:"white"}),(0,f.jsx)("path",{d:"M41.9996 14H39.3867V16.6129H41.9996V14Z",fill:"white"}),(0,f.jsx)("path",{d:"M39.3863 16.6127H36.7734V19.2256H39.3863V16.6127Z",fill:"white"}),(0,f.jsx)("path",{d:"M34.1621 19.2258V20.9678V21.8387H36.1044H36.775V19.2258H34.1621Z",fill:"white"}),(0,f.jsx)("path",{d:"M41.9996 19.2258H39.3867V21.8387H41.9996V19.2258Z",fill:"white"}),(0,f.jsx)("path",{d:"M39.3863 21.8386H36.7734V24.4515H39.3863V21.8386Z",fill:"white"}),(0,f.jsx)("path",{d:"M34.1617 16.6127H31.5488V19.2256H34.1617V16.6127Z",fill:"white"}),(0,f.jsx)("path",{d:"M31.5488 22.7096V24.4515H34.1617V22.7096V21.8386H31.5488V22.7096Z",fill:"white"})]})},P=e=>{let{className:t}=e;return(0,f.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"transition-all duration-500 ".concat(t),children:[(0,f.jsx)("path",{d:"M13.7892 20.6876C14.2258 20.6876 14.5781 20.3339 14.5781 19.8986L14.5795 14.5793H19.7232C20.1599 14.5793 20.5122 14.2257 20.5122 13.7903C20.5122 13.355 20.1586 13.0013 19.7232 13.0013L14.3707 13C13.6152 13 13.0003 13.6148 13.0003 14.3703V19.8971C13.0003 20.3324 13.3539 20.686 13.7893 20.686L13.7892 20.6876Z",fill:"#7A7A7A"}),(0,f.jsx)("path",{d:"M41.6351 13H36.2812C35.2457 13.0188 35.2417 14.5606 36.2812 14.5793H41.4249V19.8986C41.441 20.9341 42.9867 20.9381 43.0042 19.8986V14.3719C43.0042 13.6164 42.3893 13.0016 41.6338 13.0016L41.6351 13Z",fill:"#7A7A7A"}),(0,f.jsx)("path",{d:"M19.723 41.4205H14.5793V36.1081C14.5632 35.0726 13.0174 35.0686 13 36.1081V41.6297C13 42.3852 13.6148 43 14.3703 43H19.7229C20.7583 42.9826 20.7624 41.4393 19.723 41.4205Z",fill:"#7A7A7A"}),(0,f.jsx)("path",{d:"M42.2164 35.319C41.7811 35.319 41.4274 35.6726 41.4274 36.108V41.4204H36.2837C35.8484 41.4204 35.4947 41.774 35.4947 42.2094C35.4947 42.6448 35.8483 42.9984 36.2837 42.9984H41.6376C42.3931 42.9984 43.0079 42.3835 43.0079 41.6281V36.1065C43.0079 35.6711 42.6543 35.3175 42.219 35.3175L42.2164 35.319Z",fill:"#7A7A7A"}),(0,f.jsx)("path",{d:"M36.9517 32.814V25.8769C36.9517 24.7584 36.0422 23.8488 34.9237 23.8488H32.1496C32.1027 23.8488 32.0504 23.822 32.037 23.7698L31.6714 22.283C31.4624 21.5422 30.7886 21.0265 30.0318 21.0265H25.9703C25.2015 21.0265 24.5103 21.565 24.3241 22.3084L23.9637 23.7725C23.9517 23.8234 23.8981 23.8502 23.8526 23.8502H21.0798C19.9613 23.8502 19.0518 24.7597 19.0518 25.8782V32.8154C19.0518 33.9338 19.9613 34.8434 21.0798 34.8434H22.7368C23.1734 34.8434 23.5257 34.4898 23.5257 34.0544C23.5257 33.619 23.1721 33.2654 22.7368 33.2654H21.0798C20.828 33.2654 20.6311 33.0685 20.6311 32.8167V25.8795C20.6311 25.6277 20.828 25.4308 21.0798 25.4308H23.8526C24.6389 25.4308 25.3153 24.9017 25.4988 24.1489L25.8578 22.6902C25.8685 22.6473 25.9235 22.6071 25.9703 22.6071H30.0318C30.0814 22.6071 30.1336 22.654 30.1443 22.6861L30.502 24.1449C30.6855 24.9017 31.362 25.4295 32.1483 25.4295H34.9224C35.1742 25.4295 35.3711 25.6264 35.3711 25.8782V32.8153C35.3711 33.0672 35.1742 33.2641 34.9224 33.2641H33.5467C32.5073 33.2802 32.5113 34.8273 33.5467 34.8434H34.9224C36.0408 34.8434 36.9504 33.9339 36.9504 32.8153L36.9517 32.814Z",fill:"white"}),(0,f.jsx)("path",{d:"M28.0027 27.2043C25.8608 27.2043 24.1182 28.947 24.1182 31.0888C24.3218 36.2394 31.6849 36.238 31.8872 31.0888C31.8872 28.9469 30.1445 27.2043 28.0027 27.2043ZM28.0027 33.3942C24.9553 33.2978 24.9567 28.8801 28.0027 28.7837C31.0501 28.8802 31.0487 33.2979 28.0027 33.3942Z",fill:"white"})]})},j=e=>{let{className:t,active:i}=e;return(0,f.jsx)("svg",{width:"50",height:"50",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"transition-all duration-500 ".concat(t),children:(0,f.jsx)("path",{d:"M28 16C24.8179 16 21.7659 17.2648 19.5153 19.5153C17.2648 21.7658 16 24.8178 16 28C16 31.1822 17.2648 34.2341 19.5153 36.4847C21.7658 38.7352 24.8178 40 28 40C31.1822 40 34.2341 38.7352 36.4847 36.4847C38.7352 34.2342 40 31.1822 40 28C39.9962 24.8192 38.7302 21.7685 36.4808 19.5192C34.2316 17.2699 31.1809 16.0039 28 16ZM17.2925 28C17.2963 25.208 18.3894 22.5282 20.3382 20.529C22.2884 18.5309 24.9402 17.3722 27.7324 17.3002V38.701V38.6997C24.9404 38.6278 22.2883 37.469 20.3382 35.4709C18.3894 33.4716 17.2963 30.7921 17.2925 28Z",fill:"".concat(i===w.TC.Quality?"#77CAF7":"#F0F0F0"),className:"transition-all duration-500"})})},E=e=>{let{className:t,active:i}=e;return(0,f.jsx)("svg",{width:"50",height:"50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",style:{transform:"scale(0.7)"},children:(0,f.jsx)("g",{"data-name":"Layer 2",children:(0,f.jsx)("path",{fill:"#ffffff",d:"M23.6,64.75h7.7L51.08,81.66a3.1,3.1,0,0,0,2,.75,3.14,3.14,0,0,0,1.32-.29,3.09,3.09,0,0,0,1.81-2.83V20.71a3.12,3.12,0,0,0-5.15-2.37L31.3,35.25H23.6a6.51,6.51,0,0,0-6.5,6.5V58.25A6.51,6.51,0,0,0,23.6,64.75Zm-3.5-23a3.5,3.5,0,0,1,3.5-3.5h8.25a1.5,1.5,0,0,0,1-.36L53,20.62a.11.11,0,0,1,.13,0,.1.1,0,0,1,.07.11V79.29a.12.12,0,0,1-.2.09L32.83,62.11a1.5,1.5,0,0,0-1-.36H23.6a3.5,3.5,0,0,1-3.5-3.5ZM82.9,50A30.82,30.82,0,0,1,68.65,76,1.5,1.5,0,1,1,67,73.52a27.92,27.92,0,0,0,0-47A1.5,1.5,0,1,1,68.65,24,30.82,30.82,0,0,1,82.9,50Zm-15,0a15.8,15.8,0,0,0-6.26-12.63A1.5,1.5,0,1,1,63.45,35a18.87,18.87,0,0,1,0,30,1.5,1.5,0,1,1-1.82-2.38A15.8,15.8,0,0,0,67.89,50Z"})})})},O=e=>{let{className:t,active:i}=e;return(0,f.jsx)("svg",{width:"50",height:"50",version:"1.1",viewBox:"0 0 100 100",style:{transform:"scale(0.7)"},children:(0,f.jsx)("path",{fill:"#ffffff",d:"M69.506,65.896c-0.143,6.986-0.41,11.84-0.795,14.749c-0.229,1.738-0.54,4.087-2.677,4.646  c-1.169,0.386-8.071,2.542-16.034,2.542c-8.075,0-15.059-2.217-16.081-2.556c-2.103-0.598-2.398-2.863-2.638-4.697  c-0.387-2.972-0.655-8.077-0.795-15.178c-0.033-1.657,1.284-3.024,2.94-3.057c1.638-0.048,3.026,1.289,3.059,2.945  c0.179,9.062,0.539,13.057,0.771,14.742c2.391,0.662,7.347,1.841,12.744,1.841c5.426,0,10.362-1.115,12.745-1.777  c0.229-1.662,0.582-5.484,0.763-14.322C63.541,64.139,64.877,63,66.506,63c0.021,0,0.041,0,0.062,0  C68.225,63,69.54,64.24,69.506,65.896z M49.996,70.963c3.544,0,11.098-2.387,11.32-5.665c0.227-3.339-4.118-0.413-11.32-0.413  c-7.201,0-11.592-3.229-11.319,0.413C38.92,68.565,46.453,70.963,49.996,70.963z M82.137,51.854c0,0-0.178-0.195-0.488-0.537  c-0.155-0.171-0.395-0.38-0.644-0.62c-0.255-0.239-0.544-0.51-0.858-0.806c-0.314-0.283-0.665-0.643-1.023-0.927  c-0.359-0.295-0.739-0.606-1.132-0.929c-0.788-0.646-1.63-1.333-2.471-2.021c-0.417-0.358-0.86-0.645-1.283-0.966  c-0.427-0.312-0.847-0.618-1.253-0.915c-0.813-0.595-1.573-1.149-2.225-1.625c-0.434-0.316-0.812-0.593-1.134-0.827  C69.617,17.314,69.207,12.167,50,12.167c-8.13,0-14.117,0.419-17.124,5.842c-2.399,4.326-2.498,11.302-2.501,23.673  c-0.321,0.234-0.701,0.512-1.133,0.827c-0.651,0.476-1.411,1.03-2.225,1.625c-0.406,0.297-0.826,0.604-1.253,0.915  c-0.423,0.321-0.866,0.606-1.284,0.965c-0.841,0.688-1.683,1.377-2.471,2.022c-0.393,0.322-0.772,0.633-1.132,0.929  c-0.358,0.284-0.709,0.644-1.023,0.927c-0.314,0.296-0.603,0.566-0.859,0.806c-0.249,0.24-0.488,0.449-0.643,0.62  c-0.311,0.342-0.488,0.537-0.488,0.537c-0.609,0.668-0.647,1.699-0.052,2.413c0.65,0.779,1.808,0.884,2.587,0.234l0.054-0.046  c0,0,0.204-0.169,0.559-0.466c0.178-0.148,0.389-0.275,0.632-0.449c0.241-0.168,0.513-0.357,0.81-0.563  c0.307-0.205,0.586-0.433,0.975-0.663c0.378-0.23,0.777-0.474,1.19-0.726c0.822-0.502,1.699-1.037,2.575-1.572  c0.427-0.277,0.91-0.502,1.354-0.751c0.452-0.242,0.896-0.481,1.326-0.712c0.858-0.461,1.659-0.891,2.346-1.26  c1.37-0.735,2.283-1.227,2.283-1.227l0.008-0.004c1.093-0.448,1.864-1.52,1.864-2.774c0-11.572,0-19.217,1.749-22.37  c1.198-2.16,3.751-2.752,11.877-2.752c8.119,0,10.672,0.596,11.876,2.771c1.75,3.162,1.75,10.796,1.75,22.352  c0,1.256,0.772,2.328,1.867,2.775l0.006,0.003c0,0,0.913,0.491,2.282,1.227c0.687,0.369,1.487,0.799,2.346,1.26  c0.43,0.231,0.874,0.47,1.325,0.712c0.444,0.249,0.928,0.475,1.354,0.751c0.876,0.535,1.753,1.07,2.575,1.572  c0.412,0.252,0.812,0.495,1.189,0.726c0.389,0.23,0.667,0.458,0.975,0.663c0.297,0.206,0.569,0.396,0.811,0.563  c0.243,0.174,0.453,0.301,0.632,0.449c0.355,0.297,0.559,0.466,0.559,0.466l0.055,0.046c0.693,0.579,1.725,0.572,2.412-0.053  C82.765,53.767,82.819,52.604,82.137,51.854z M49.997,41.374c7.202,0,11.32,2.881,11.32-0.413c0-3.293-5.585-5.664-11.32-5.664  c-5.736,0-11.32,2.366-11.32,5.664C38.677,44.26,42.795,41.374,49.997,41.374z"})})},B=e=>{let{className:t,active:i}=e;return(0,f.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"scale(0.5)"},children:[(0,f.jsxs)("g",{transform:"scale(0.6) translate(7.2, 7)",children:[(0,f.jsx)("path",{d:"M14.2662 16.9058H14.0273C14.0273 12.5242 10.4753 8.97223 6.09375 8.97223V8.73335C10.4753 8.73335 14.0273 5.18134 14.0273 0.799805H14.2662C14.2662 5.18134 17.8182 8.73335 22.1997 8.73335V8.97223C17.8182 8.97223 14.2662 12.5242 14.2662 16.9058Z",fill:"white"}),(0,f.jsx)("path",{d:"M6.17677 22.3996H6.01364C6.01364 19.4104 3.59036 16.9875 0.601562 16.9875V16.8244C3.59075 16.8244 6.01364 14.4011 6.01364 11.4123H6.17677C6.17677 14.4015 8.60004 16.8244 11.5888 16.8244V16.9875C8.59966 16.9875 6.17677 19.4108 6.17677 22.3996Z",fill:"white"})]}),(0,f.jsx)("circle",{cx:"11.5",cy:"11.5",r:"10.5",stroke:"white",strokeWidth:"0.9"})]})},T=e=>{let{className:t,active:i}=e;return(0,f.jsxs)("svg",{width:"50",height:"50",xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 100 100",style:{transform:"scale(0.6)"},children:[(0,f.jsx)("path",{fill:"#ffffff",d:"M50,7.5C26.57,7.5,7.5,26.57,7.5,50S26.57,92.5,50,92.5S92.5,73.43,92.5,50S73.43,7.5,50,7.5z M73,55.5l11.14,3.29  c0.92,0.27,1.7,0.92,2.13,1.78c0.43,0.86,0.49,1.87,0.16,2.77c-2.17,5.94-5.82,11.32-10.56,15.56c-4.76,4.27-10.55,7.31-16.73,8.81  c-0.27,0.07-0.55,0.1-0.83,0.1c-0.77,0-1.53-0.26-2.15-0.75c-0.85-0.67-1.33-1.67-1.33-2.75v-8.61h-9.67v8.61  c0,1.08-0.49,2.08-1.33,2.75c-0.62,0.49-1.38,0.75-2.15,0.75c-0.27,0-0.55-0.03-0.83-0.1c-6.18-1.5-11.97-4.54-16.73-8.81  c-4.73-4.24-8.38-9.62-10.56-15.56c-0.33-0.9-0.27-1.91,0.16-2.77c0.43-0.86,1.21-1.51,2.13-1.78L27,55.5l1.07-10.12l-12.14,3.33  c-1.13,0.31-2.33,0.04-3.22-0.73c-0.89-0.77-1.32-1.93-1.17-3.1c1.22-9.25,5.76-17.76,12.78-23.97c3.47-3.07,7.41-5.46,11.71-7.12  c4.45-1.72,9.15-2.59,13.96-2.59s9.51,0.87,13.96,2.59c4.3,1.66,8.24,4.06,11.71,7.12c7.03,6.21,11.57,14.72,12.78,23.97  c0.15,1.17-0.28,2.32-1.17,3.1c-0.88,0.77-2.09,1.05-3.22,0.73l-12.14-3.33L73,55.5z"}),(0,f.jsx)("path",{fill:"#ffffff",d:"M50,40.09c-6.31,0.08-12.87,1.59-19.51,4.51l-1.12,10.61c4.75,0.03,8.48,1.35,11.12,3.94c1.66,1.63,2.89,3.78,3.67,6.38  c0.66,2.24,1.01,4.87,1.02,7.84h9.66c0.01-2.97,0.35-5.61,1.02-7.84c0.77-2.61,2.01-4.75,3.67-6.38c2.63-2.59,6.37-3.91,11.12-3.94  L69.51,44.6C62.87,41.69,56.31,40.17,50,40.09z M50,60.67c-4.73,0-8.57-3.85-8.57-8.57s3.85-8.57,8.57-8.57s8.57,3.85,8.57,8.57  S54.73,60.67,50,60.67z"})]})},R=e=>{let{className:t,active:i}=e;return(0,f.jsx)("svg",{width:"50",height:"50",xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 100 100",style:{transform:"scale(0.75)"},children:(0,f.jsx)("path",{fill:"#ffffff",d:"m79.449 36.57h-2.1016c-2.0195 0-3.7617 1.1484-4.6406 2.8203l-2.2891-5.6914c-1.4883-3.6992-5.0117-6.1914-9-6.3516l-11.422-0.46875-11.422 0.46875c-3.9883 0.16016-7.5117 2.6484-9 6.3516l-2.2891 5.6914c-0.87891-1.6719-2.6211-2.8203-4.6406-2.8203h-2.1016c-0.89844 0-1.6289 0.73047-1.6289 1.6289v3.6406c0 0.89844 0.73047 1.6289 1.6289 1.6289h5.1016l-1.8281 4.5508c-0.92188 2.2891-1.3984 4.7383-1.3984 7.1992v15.148c0 1.5117 1.2305 2.7383 2.7383 2.7383h4.5391c1.5117 0 2.7383-1.2305 2.7383-2.7383v-2.7617c0-1.8711 1.5117-3.3789 3.3789-3.3789h28.352c1.8711 0 3.3789 1.5117 3.3789 3.3789v2.7617c0 1.5117 1.2305 2.7383 2.7383 2.7383h4.5391c1.5117 0 2.7383-1.2305 2.7383-2.7383v-15.148c0-2.4688-0.46875-4.9102-1.3984-7.1992l-1.8281-4.5508h5.1016c0.89844 0 1.6289-0.73047 1.6289-1.6289v-3.6406c0-0.89844-0.73047-1.6289-1.6289-1.6289zm-41.32 21.281h-7.3281c-1.5781 0-2.8711-1.2891-2.8711-2.8711 0-1.5781 1.2891-2.8711 2.8711-2.8711h7.3281c1.5781 0 2.8711 1.2891 2.8711 2.8711 0 1.5781-1.2891 2.8711-2.8711 2.8711zm31.07 0h-7.3281c-1.5781 0-2.8711-1.2891-2.8711-2.8711 0-1.5781 1.2891-2.8711 2.8711-2.8711h7.3281c1.5781 0 2.8711 1.2891 2.8711 2.8711 0 1.5781-1.2891 2.8711-2.8711 2.8711zm-19.199-11.562h-22.211l3.8711-9.6094c0.98828-3.3594 2.7617-5.0391 6.2617-5.1914l12.078-0.51953 12.078 0.51953c3.5 0.14844 5.2812 1.8281 6.2617 5.1914l3.8711 9.6094z"})})},I=e=>{let{className:t,active:i}=e;return(0,f.jsxs)("svg",{width:"50",height:"50",xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 100 100",style:{transform:"scale(0.55)"},children:[(0,f.jsx)("path",{fill:"#ffffff",d:"m92.211 48.438h-57.828v-3.125c0-3.4492-2.8047-6.25-6.25-6.25-3.4492 0-6.25 2.8047-6.25 6.25v3.125h-14.07c-2.0352 0.027344-2.0703 3.0898 0 3.125h14.066v3.125c0 3.4492 2.8047 6.25 6.25 6.25 3.4492 0 6.25-2.8047 6.25-6.25v-3.125h57.828c2.0078-0.019531 2.0938-3.0898 0-3.125zm-60.953 6.25c-0.10937 4.1172-6.1445 4.125-6.25 0v-9.3789c0-1.7227 1.4023-3.125 3.125-3.125 1.7227 0 3.125 1.4023 3.125 3.125z"}),(0,f.jsx)("path",{fill:"#ffffff",d:"m92.211 73.445h-14.066v-3.125c-0.26172-8.2617-12.242-8.2617-12.504 0v3.125h-57.828c-0.86328 0-1.5625 0.69922-1.5625 1.5625 0 0.86328 0.69922 1.5625 1.5625 1.5625h57.828v3.125c0 3.4492 2.8047 6.25 6.25 6.25 3.4492 0 6.25-2.8047 6.25-6.25v-3.125h14.066c2.0352-0.027343 2.0703-3.0898 0-3.125zm-17.191 6.25c-0.10938 4.1172-6.1445 4.125-6.25 0v-9.3789c0-1.7227 1.4023-3.125 3.125-3.125 1.7227 0 3.125 1.4023 3.125 3.125z"}),(0,f.jsx)("path",{fill:"#ffffff",d:"m7.8125 26.555h57.828v3.125c0 3.4492 2.8047 6.25 6.25 6.25 3.4492 0 6.25-2.8047 6.25-6.25v-3.125h14.066c2.0352-0.027344 2.0703-3.0898 0-3.125h-14.066v-3.125c0-3.4492-2.8047-6.25-6.25-6.25-3.4492 0-6.25 2.8047-6.25 6.25v3.125h-57.828c-2.0078 0.019531-2.0938 3.0898 0 3.125zm60.953-6.25c0.10938-4.1172 6.1445-4.125 6.25 0v9.3789c0 1.7227-1.4023 3.125-3.125 3.125s-3.125-1.4023-3.125-3.125z"})]})},A=()=>(0,f.jsxs)("svg",{width:"188",height:"29",viewBox:"0 0 188 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"header__logo text-white w-[120px] sm:w-[140px] md:w-[160px]",children:[(0,f.jsx)("rect",{x:"138.693",y:"6.69259",width:"47.7889",height:"21.4704",rx:"2.77037",stroke:"#F5F5F5",strokeWidth:"1.38519"}),(0,f.jsx)("path",{d:"M12.7712 0.408569C5.2562 0.408569 0 6.39166 0 14.6735C0 22.9554 5.21462 28.8969 12.7712 28.8969C20.3279 28.8969 25.5425 22.9138 25.5425 14.6735C25.5425 6.43324 20.2863 0.408569 12.7712 0.408569ZM12.7712 27.7042C6.93952 27.7042 3.81906 21.8043 3.81906 14.6718C3.81906 7.53937 6.89793 1.59953 12.7712 1.59953C18.6445 1.59953 21.7234 7.54104 21.7234 14.6735C21.7234 21.806 18.603 27.7059 12.7712 27.7059V27.7042Z",fill:"#F5F5F5"}),(0,f.jsx)("path",{d:"M37.5297 24.5872C36.4219 26.3487 35.394 26.7179 34.5324 26.7179C33.1767 26.7179 32.6428 25.858 32.6844 23.9717L32.6428 10.3239H37.3651V9.21778H32.6428V3.97156H32.1904C31.6564 6.88243 29.3976 9.50554 26.8926 9.79164V10.3256H29.4375V24.1381C29.4375 27.375 30.6268 28.7689 32.9272 28.7689C34.9 28.7689 36.4585 27.4165 37.8142 24.7519L37.5281 24.5872H37.5297Z",fill:"#F5F5F5"}),(0,f.jsx)("path",{d:"M54.7332 25.3296V15.6156C54.7332 10.86 52.9268 8.81079 49.7631 8.81079C46.972 8.81079 45.0408 10.4908 43.3575 12.7446V0H43.0714L37.2812 2.29377L37.4043 2.66303C39.3771 1.843 40.1156 2.50002 40.1156 4.63078V25.3329C40.1173 27.4637 39.5018 28.1207 37.3661 28.1207V28.49H46.0704V28.1207C43.9763 28.1207 43.3592 27.4637 43.3592 25.3329V13.2819C45.0009 11.9296 46.3149 11.1927 48.0398 11.1927C50.5033 11.1927 51.488 12.6665 51.488 15.8634V25.3296C51.488 27.4603 50.8293 28.1174 48.7767 28.1174V28.485H57.5226V28.1174C55.3869 28.1174 54.7298 27.4603 54.7298 25.3296H54.7332Z",fill:"#F5F5F5"}),(0,f.jsx)("path",{d:"M67.3221 25.9439C63.009 25.9439 60.5872 22.2961 60.5872 17.4175V16.7222H73.3584C73.1937 11.8453 70.4825 8.81299 66.2542 8.81299C61.4471 8.81299 57.7129 12.9947 57.7129 19.0193H57.7146C57.7146 24.8394 61.0812 28.898 65.8434 28.898C70.1132 28.898 72.5783 25.2902 73.4 21.2333L73.1139 21.1501C71.9645 24.5517 69.7855 25.9455 67.3238 25.9455L67.3221 25.9439ZM65.7985 9.79603C68.6744 9.79603 69.8238 12.2561 69.9885 15.6161H60.7086C61.161 12.133 63.0473 9.75445 65.7985 9.79603Z",fill:"#F5F5F5"}),(0,f.jsx)("path",{d:"M87.3023 10.8609C87.3023 9.63168 86.2743 8.81165 85.0018 8.81165C82.8262 8.81165 80.9765 10.8193 79.6641 13.6487V8.81165H79.378L73.5879 11.1071L73.711 11.4763C75.6837 10.6563 76.4222 11.3133 76.4222 13.4441V25.1208C76.4222 27.4163 75.8051 28.1116 73.6711 28.1116V28.4808H82.9509V28.1116H82.5401C80.2829 28.1116 79.6658 27.4163 79.6658 25.1208V14.3423C80.8967 12.4594 81.883 11.4331 82.7862 11.4331C83.2387 11.4331 83.5664 11.7624 83.9755 12.0901C84.3448 12.4594 84.8355 12.827 85.5341 12.827C86.6835 12.827 87.3006 11.8839 87.3006 10.8592L87.3023 10.8609Z",fill:"#F5F5F5"}),(0,f.jsx)("path",{d:"M99.7571 5.45259C100.988 5.45259 101.933 4.50947 101.933 3.28025C101.933 2.05103 100.946 1.10791 99.7571 1.10791C98.5678 1.10791 97.623 2.05103 97.623 3.28025C97.623 4.50947 98.5263 5.45259 99.7571 5.45259Z",fill:"#F5F5F5"}),(0,f.jsx)("path",{d:"M110.943 25.1266V10.3311H115.913V9.22497H110.943V5.98642C110.943 2.66802 112.298 1.27413 114.063 1.27413C115.498 1.27413 116.36 2.05424 116.977 3.61114C117.388 4.63411 117.922 5.20797 118.784 5.20797C119.645 5.20797 120.304 4.63411 120.304 3.77249C120.304 2.99404 119.812 2.21559 118.948 1.55856C117.92 0.780114 116.483 0.24784 114.883 0.24784C111.021 0.24784 107.779 3.23855 107.696 7.99242V9.22164H104.409V10.3278H107.696V25.1217H107.699C107.699 27.4204 107.082 28.1157 104.948 28.1157H104.431C102.297 28.114 101.68 27.4187 101.68 25.1217V8.81246H101.394L95.6035 11.1495L95.7282 11.4772C97.701 10.6555 98.4395 11.3125 98.4395 13.4848V25.125C98.4395 27.4204 97.8224 28.1157 95.6883 28.1157H95.2479C93.0722 28.1157 92.4551 27.4587 92.4551 25.3279V0H92.2106L86.3789 2.33701L86.5037 2.6647C88.5163 1.843 89.2133 2.54161 89.2133 4.67236V25.3279C89.2133 27.4587 88.5962 28.1157 86.4621 28.1157V28.485H95.69H104.436H104.953L114.233 28.4866V28.1174H113.822C111.563 28.1174 110.946 27.4221 110.946 25.1266H110.943Z",fill:"#F5F5F5"}),(0,f.jsx)("path",{d:"M130.569 21.1484C129.42 24.55 127.241 25.9439 124.779 25.9439C120.466 25.9439 118.044 22.2961 118.044 17.4175V16.7222H130.815C130.651 11.8453 127.939 8.81299 123.711 8.81299C118.907 8.81299 115.17 12.9947 115.17 19.0193C115.17 25.044 118.538 28.898 123.302 28.898C127.572 28.898 130.037 25.2902 130.859 21.2333L130.573 21.1501L130.569 21.1484ZM123.255 9.79603C126.131 9.79603 127.281 12.2561 127.445 15.6161H118.166C118.618 12.133 120.504 9.75445 123.257 9.79603H123.255Z",fill:"#F5F5F5"}),(0,f.jsx)("path",{d:"M143.489 24.1451V10.4071H145.196V22.5751H151.457V24.1451H143.489ZM162.198 22.6732V24.1451H161.315C160.673 24.1451 160.216 24.0143 159.941 23.7526C159.666 23.4909 159.522 23.105 159.509 22.5947C158.737 23.7068 157.618 24.2629 156.153 24.2629C155.041 24.2629 154.145 24.0012 153.464 23.4779C152.797 22.9545 152.463 22.2414 152.463 21.3387C152.463 20.3312 152.804 19.5592 153.484 19.0228C154.177 18.4864 155.178 18.2182 156.487 18.2182H159.431V17.5312C159.431 16.8771 159.208 16.3668 158.763 16.0004C158.331 15.6341 157.723 15.4509 156.938 15.4509C156.245 15.4509 155.669 15.6079 155.211 15.9219C154.766 16.2229 154.491 16.6285 154.387 17.1387H152.777C152.895 16.1574 153.327 15.392 154.073 14.8425C154.832 14.293 155.813 14.0182 157.017 14.0182C158.299 14.0182 159.287 14.3322 159.98 14.9603C160.687 15.5752 161.04 16.4649 161.04 17.6294V21.9471C161.04 22.4312 161.262 22.6732 161.707 22.6732H162.198ZM159.431 19.5723H156.33C154.838 19.5723 154.092 20.1284 154.092 21.2405C154.092 21.7377 154.289 22.1368 154.681 22.4377C155.074 22.7386 155.603 22.8891 156.271 22.8891C157.252 22.8891 158.024 22.634 158.587 22.1237C159.149 21.6003 159.431 20.9134 159.431 20.063V19.5723ZM168.479 14.0182C169.408 14.0182 170.232 14.221 170.952 14.6266C171.684 15.0322 172.253 15.621 172.659 16.393C173.078 17.1649 173.287 18.0808 173.287 19.1406C173.287 20.148 173.078 21.0377 172.659 21.8097C172.253 22.5816 171.684 23.1835 170.952 23.6152C170.219 24.047 169.395 24.2629 168.479 24.2629C167.668 24.2629 166.974 24.119 166.398 23.8311C165.823 23.5302 165.371 23.1246 165.044 22.6143L164.828 24.1451H163.435V10.4071H165.044V15.7453C165.882 14.5939 167.026 14.0182 168.479 14.0182ZM168.322 22.8302C169.316 22.8302 170.114 22.49 170.716 21.8097C171.331 21.1162 171.639 20.2265 171.639 19.1406C171.639 18.0546 171.331 17.1714 170.716 16.4911C170.114 15.7976 169.316 15.4509 168.322 15.4509C167.681 15.4509 167.105 15.6079 166.595 15.9219C166.098 16.2229 165.712 16.6546 165.437 17.2172C165.162 17.7668 165.025 18.3948 165.025 19.1013C165.025 19.8209 165.162 20.4686 165.437 21.0443C165.712 21.6069 166.098 22.0452 166.595 22.3592C167.105 22.6732 167.681 22.8302 168.322 22.8302ZM176.344 20.848C176.37 21.4499 176.632 21.9405 177.129 22.3199C177.639 22.6994 178.293 22.8891 179.091 22.8891C179.798 22.8891 180.367 22.7517 180.799 22.4769C181.244 22.1891 181.466 21.8162 181.466 21.3583C181.466 20.9658 181.361 20.6648 181.152 20.4555C180.943 20.2462 180.668 20.1022 180.328 20.0237C180.001 19.9452 179.53 19.8667 178.915 19.7882C178.051 19.6835 177.345 19.5462 176.795 19.3761C176.246 19.206 175.801 18.9378 175.461 18.5714C175.12 18.192 174.95 17.6752 174.95 17.021C174.95 16.4322 175.114 15.9089 175.441 15.4509C175.781 14.993 176.239 14.6397 176.815 14.3911C177.391 14.1294 178.038 13.9986 178.758 13.9986C179.935 13.9986 180.89 14.2734 181.623 14.8229C182.369 15.3724 182.781 16.1574 182.86 17.178H181.25C181.185 16.6546 180.93 16.2229 180.485 15.8827C180.04 15.5425 179.484 15.3724 178.817 15.3724C178.136 15.3724 177.587 15.5163 177.168 15.8042C176.749 16.0789 176.54 16.4453 176.54 16.9032C176.54 17.2434 176.638 17.5051 176.834 17.6883C177.031 17.8714 177.279 17.9957 177.58 18.0611C177.894 18.1266 178.365 18.1985 178.993 18.277C179.87 18.3817 180.59 18.5256 181.152 18.7088C181.728 18.892 182.186 19.1864 182.526 19.592C182.879 19.9976 183.056 20.5471 183.056 21.2405C183.056 21.8424 182.879 22.3723 182.526 22.8302C182.173 23.2881 181.695 23.6414 181.093 23.89C180.491 24.1386 179.824 24.2629 179.091 24.2629C177.783 24.2629 176.73 23.962 175.932 23.3601C175.147 22.7583 174.748 21.9209 174.734 20.848H176.344Z",fill:"#F5F5F5"})]}),F=e=>{let{className:t}=e;return(0,f.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 1080 1080",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"".concat(t),style:{transform:"scale(0.85)"},children:[(0,f.jsxs)("g",{clipPath:"url(#clip0_1847_2354)",children:[(0,f.jsx)("rect",{width:"1080",height:"1080",fill:"none"}),(0,f.jsx)("path",{d:"M744.283 426.434C762.225 426.434 779.764 421.113 794.683 411.145C809.601 401.177 821.228 387.009 828.095 370.433C834.961 353.856 836.757 335.616 833.257 318.019C829.757 300.422 821.117 284.257 808.43 271.57C795.743 258.883 779.578 250.243 761.981 246.743C744.384 243.243 726.144 245.039 709.567 251.905C692.991 258.772 678.823 270.399 668.855 285.317C658.887 300.236 653.566 317.775 653.566 335.717C653.566 347.63 655.911 359.427 660.47 370.434C665.029 381.44 671.711 391.441 680.135 399.865C688.559 408.289 698.56 414.971 709.566 419.53C720.573 424.089 732.37 426.435 744.283 426.434ZM466.123 835C422.389 835 379.637 822.031 343.274 797.734C306.91 773.437 278.568 738.902 261.832 698.497C245.096 658.092 240.717 613.632 249.249 570.738C257.781 527.845 278.841 488.444 309.766 457.52C340.69 426.595 380.09 405.535 422.984 397.003C465.878 388.471 510.338 392.85 550.743 409.587C591.148 426.323 625.682 454.665 649.979 491.029C674.276 527.392 687.245 570.144 687.245 613.878C687.246 642.916 681.527 671.671 670.414 698.499C659.302 725.327 643.015 749.704 622.481 770.237C601.948 790.77 577.571 807.058 550.743 818.17C523.915 829.282 495.161 835.001 466.123 835Z",fill:"white"})]}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"clip0_1847_2354",children:(0,f.jsx)("rect",{width:"1080",height:"1080",fill:"white"})})})]})};var D=i(1206),z=i.n(D);let Z="undefined"!=typeof document?{ua:window.navigator.userAgent.toLowerCase(),base:z().getParser(window.navigator.userAgent),window,isSpoofedIpad:(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream}:{ua:"",base:{getOSName:()=>"node",getOSVersion:()=>"1",getBrowserName:()=>"node",getBrowserVersion:()=>"1",getPlatform:()=>({type:"node",vendor:"node"})},window:{devicePixelRatio:1,innerWidth:1440,innerHeight:900,navigator:{vendor:"node",mediaDevices:null,maxTouchPoints:0},screen:{orientation:{type:"landscape-primary"}},matchMedia:null},isSpoofedIpad:!1};class N{get bot(){return this.supportedBots.some(e=>Z.ua.includes(e.toLowerCase()))}get version(){return Z.base.getOSVersion()||"0"}get majorVersion(){return parseInt(this.version.replace(/[^0-9.]/g,""),10)}constructor(){this.supportedBots=["facebookexternalhit","skypeuripreview","baiduspider","linkedinbot","ia_archiver","duckduckbot","twitterbot","googlebot","yandexbot","bingbot","facebot","tumblr","slurp","google (+https://developers.google.com/+/web/snippet/)","https://developers.google.com/+/web/snippet/"],this.name=Z.isSpoofedIpad?"ios":Z.base.getOSName().toLowerCase(),this.ios="ios"===this.name,this.android="android"===this.name,this.windowsPhone="windows phone"===this.name,this.blackBerry="blackberry"===this.name,this.mac="macos"===this.name,this.windows="windows"===this.name,this.linux="linux"===this.name,this.chromeos="chrome os"===this.name,this.node="node"===this.name}}class H{get version(){return Z.base.getBrowserVersion()||"0"}get majorVersion(){return parseInt(this.version.replaceAll(/[^0-9.]/g,""),10)}constructor(){this.name=Z.ua.includes("edg/")?"microsoft-edge":Z.base.getBrowserName().toLowerCase().replace(" ","-"),this.vendor=Z.window.navigator.vendor?Z.window.navigator.vendor.toLowerCase():"",this.chrome="chrome"===this.name,this.firefox="firefox"===this.name,this.safari="safari"===this.name,this.edge="microsoft-edge"===this.name,this.ie="internet-explorer"===this.name,this.opera="opera"===this.name,this.node="node"===this.name,this.instagram=/instagram/i.test(Z.ua),this.pinterest=/pinterest/i.test(Z.ua),this.facebook=/fban|fbav/i.test(Z.ua),this.linkedIn=/linkedin/i.test(Z.ua),this.snapchat=/snapchat/i.test(Z.ua),this.whatsApp=/whatsapp/i.test(Z.ua),this.twitter=/twitter/i.test(Z.ua),this.weChat=/wechat|micromessenger/i.test(Z.ua),this.tikTok=/musical_ly/i.test(Z.ua),this.inApp=this.instagram||this.pinterest||this.facebook||this.linkedIn||this.snapchat||this.whatsApp||this.twitter||this.weChat||this.tikTok}}class U{get orientation(){if(void 0!==window.orientation)return 90===Math.abs(+window.orientation)?"landscape":"portrait";if("function"==typeof Z.window.matchMedia)return!0===Z.window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape";if("object"==typeof Z.window.screen){let e=(Z.window.screen.orientation||{}).type;if("string"==typeof e)return e.split("-",1)[0]}return Math.max(document.documentElement.clientWidth,Z.window.innerWidth||0)<Math.max(document.documentElement.clientHeight,Z.window.innerHeight||0)?"portrait":"landscape"}get portrait(){return"portrait"===this.orientation}get landscape(){return"landscape"===this.orientation}constructor(){var e,t;this.platform=Z.isSpoofedIpad?{type:"tablet",vendor:"Apple",model:"iPad"}:Z.base.getPlatform(),this.type=(this.platform.type||"").toLowerCase(),this.model=(this.platform.model||"").toLowerCase(),this.phone="mobile"===this.type,this.tablet="tablet"===this.type,this.mobile=this.phone||this.tablet,this.desktop=!this.mobile,this.iphone="iphone"===this.model,this.ipad="ipad"===this.model,this.ipod="ipod"===this.model,this.pixelRatio=Z.window.devicePixelRatio,this.node="node"===this.type,this.browser=!this.node,this.touch="ontouchstart"in Z.window||Z.window.navigator.maxTouchPoints>0,this.hover=!!(null===(e=(t=Z.window).matchMedia)||void 0===e?void 0:e.call(t,"(any-hover: hover)").matches)}}let V=new N,G=new H,Y=new U;class W{constructor(){this.os=V,this.browser=G,this.device=Y,this.detector=Z}}let Q=new W;var X=i(9477),q=i(2222);class J{set(e,t){this.data[e]=t,q.set("gui-store",this.serialize())}get(e){if(this.data[e])return this.data[e]}serialize(){return JSON.stringify(this.data)}constructor(){this.data={};let e=q.get("gui-store");e&&(this.data=JSON.parse(e))}}let K=new J;class ${}class ee extends X.pBf{saveFolderState(e,t){e.title&&K.set("folder-".concat(e.title),t?"open":"closed")}getFolderState(e){return e.title?K.get("folder-".concat(e.title)):"closed"}addFolder(e,t){let i=e.addFolder(t);return i.on("fold",e=>{let{expanded:t}=e;this.saveFolderState(i,t)}),i.expanded="open"===this.getFolderState(i),i}save(){}reset(){}dispose(){var e,t;null===(e=this.gui)||void 0===e||e.dispose(),null===(t=this.tabs)||void 0===t||t.dispose(),Object.values(this.controllers).forEach(e=>e.dispose())}constructor(e,t){if(super(),this.folders={},this.bindings=[],this.controllers={},this.api={},this.guiParent=e,t&&(this.tabs=t),this.tabs&&(this.tabs.on("select",e=>{"string"==typeof this.guiParent.title&&K.set(this.guiParent.title,e.index)}),"string"==typeof this.guiParent.title)){let e=K.get(this.guiParent.title);"number"==typeof e&&this.tabs.pages[e]&&(this.tabs.pages[e].selected=!0)}}}ee.state=new $;class et{}et.Json="Json",et.Image="Image",et.FBX="FBX",et.GLTF="GLTF",et.Texture="Texture",et.RgbeTexture="RgbeTexture",et.Ktx2Texture="Ktx2Texture",et.ExrTexture="ExrTexture",et.Sound="Sound",et.VideoTexture="VideoTexture",et.UltraHDRTexture="UltraHDRTexture";class ei{fromObject(e){return this.id=e.id,this.src=e.src,this.type=e.type,e.args&&(this.args=e.args),e.data&&(this.data=e.data),this}constructor(e={id:"",type:et.Image,src:""}){this.id="",this.src="",this.type=et.Image,this.args={},Object.assign(this,e)}}class ea extends X.pBf{add(e){this.loaders.push(e),this.total=this.loaders.length,e.addEventListener("loaded",this.onProgress)}reset(){this.loaded=0,this.progress=0,this.loaders=[]}constructor(e){super(),this.id="",this.loaders=[],this.loaded=0,this.progress=0,this.total=0,this.onProgress=()=>{this.loaded++,this.progress=this.loaded/this.total,this.dispatchEvent({type:"progress",progress:this.progress})},this.id=e}}class es{}es.Worker="Worker",es.Main="Main";let en={id:"default",preferWebWorker:!0,parallelLoads:10,environment:es.Main};class eo extends X.pBf{constructor(e){super(),this.assets=[],this.type="",this.settings=en,this.onProgress=()=>{},this.onError=e=>{this.dispatchEvent({type:"error",error:e})},this.load=(e,t)=>{},this.asset=e}}var er=eo;class el extends er{constructor(...e){var t;super(...e),t=this,this.load=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ea("image-loader");if(e&&(t.settings=Object.assign(t.settings,e)),i.add(t),t.settings.environment===es.Worker&&t.settings.preferWebWorker)fetch(t.asset.src).then(e=>{e.blob().then(e=>{let i=e.type.split("/")[1];/(gif|jpe?g|tiff?|png|webp)$/i.test(i)?(t.asset.data=URL.createObjectURL(e),t.dispatchEvent({type:"loaded",asset:t.asset})):t.onError("Image type not supported: ".concat(i))}).catch(t.onError)}).catch(t.onError);else{let e=new Image;e.crossOrigin="anonymous",e.onload=()=>{t.asset.data=e,t.dispatchEvent({type:"loaded",asset:t.asset})},e.onerror=t.onError,e.src=t.asset.src}}}}class ed extends er{constructor(...e){var t;super(...e),t=this,this.load=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ea("json-loader");e&&(t.settings=Object.assign(t.settings,e)),i.add(t),fetch(t.asset.src).then(e=>e.json()).then(e=>{t.asset.data=e,t.dispatchEvent({type:"loaded",asset:t.asset})}).catch(t.onError)}}}class eh extends X.pBf{webWorkersSupported(){return!!window.Worker}registerLoaders(e){this.loaderClasses=Object.assign(this.loaderClasses,e)}createLoaders(e){e.forEach(e=>{if(void 0===e.args&&(e.args={}),void 0!==this.loaderClasses[e.type]){let t=new this.loaderClasses[e.type](e);this.loaders.push(t)}else console.log("webgl","No loader found for media type: ".concat(e.type," "))})}nextInQueue(e){}checkAssetInstance(e){return e instanceof ei?e:new ei().fromObject(e)}constructor(e=en,t=new ea("parallel-loader")){super(),this.settings=en,this.loaderClasses={[et.Image]:el,[et.Json]:ed},this.loaders=[],this.queue=0,this.loaded=0,this.total=0,this.current=0,this.load=e=>{this.loaders=[],this.createLoaders(e),this.loaded=0,this.queue=0,this.current=0,this.total=this.loaders.length,0===this.total?this.dispatchEvent({type:"loaded",assets:e}):this.loadNextInQueue()},this.loadNextInQueue=()=>{if(this.queue<this.total&&this.current<this.settings.parallelLoads){let e=this.loaders[this.queue];this.queue+=1,this.current+=1,this.nextInQueue(e),e.addEventListener("loaded",this.onLoaded),e.addEventListener("error",this.onError),e.load(this.settings,this.manager),this.loadNextInQueue()}},this.onLoaded=()=>{if(this.loaded+=1,this.dispatchEvent({type:"progress",progress:this.loaded/this.total,loaded:this.loaded,total:this.total}),this.loaded===this.total){let e=[];this.loaders.forEach(t=>{t.asset=this.checkAssetInstance(t.asset),"WorkerLoader"===t.type?e.push(...t.assets.map(e=>this.checkAssetInstance(e))):e.push(t.asset)}),this.dispatchEvent({type:"loaded",assets:e})}else this.current-=1,this.loadNextInQueue()},this.onError=e=>{this.dispatchEvent({type:"error",error:e.error})},this.settings=Object.assign(this.settings,e),this.manager=t}}let ec=new(i(1259)).I;class ep extends er{constructor(...e){var t;super(...e),t=this,this.load=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ea("three-exr-loader");e&&(t.settings=Object.assign(t.settings,e)),i.add(t),ec.load(t.asset.src,e=>{t.asset.data=e,t.dispatchEvent({type:"loaded",asset:t.asset})},t.onProgress,t.onError)}}}let em=new(i(2967)).y;class eu extends er{constructor(...e){var t;super(...e),t=this,this.load=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ea("three-fbx-loader");e&&(t.settings=Object.assign(t.settings,e)),i.add(t),em.load(t.asset.src,e=>{t.asset.data=e,t.dispatchEvent({type:"loaded",asset:t.asset})},t.onProgress,t.onError)}}}let eg=new(i(7836)).E;class ef extends er{setDracoLoader(e){eg.setDRACOLoader(e)}setKtx2Loader(e){eg.setKTX2Loader(e)}setMeshoptDecoder(e){eg.setMeshoptDecoder(e)}constructor(...e){var t;super(...e),t=this,this.load=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ea("three-gltf-loader");e&&(t.settings=Object.assign(t.settings,e)),i.add(t),eg.load(t.asset.src,e=>{t.asset.data=e,t.dispatchEvent({type:"loaded",asset:t.asset})},t.onProgress,t.onError)}}}class ev extends er{setKtx2Loader(e){this.ktx2Loader=e}constructor(...e){var t;super(...e),t=this,this.load=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ea("three-ktx2-loader");e&&(t.settings=Object.assign(t.settings,e)),i.add(t),t.ktx2Loader.load(t.asset.src,e=>{t.asset.data=e,t.dispatchEvent({type:"loaded",asset:t.asset})},t.onProgress,t.onError)}}}let e_=new(i(2666)).x;class ey extends er{constructor(...e){var t;super(...e),t=this,this.load=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ea("three-rgbe-loader");e&&(t.settings=Object.assign(t.settings,e)),i.add(t),e_.load(t.asset.src,e=>{t.asset.data=e,t.dispatchEvent({type:"loaded",asset:t.asset})},t.onProgress,t.onError)}}}class ex extends er{setAudioListener(e){this.audioListener=e}constructor(...e){var t;super(...e),t=this,this.load=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ea("three-sound-loader");if(e&&(t.settings=Object.assign(t.settings,e)),i.add(t),!t.audioListener){t.onError("audioListener hasn't been set");return}let a=new X.mTL,s=new X.BbS(t.audioListener);a.load(t.asset.src,e=>{s.setBuffer(e),s.setVolume(1),t.asset.data=s,t.dispatchEvent({type:"loaded",asset:t.asset})},t.onProgress,t.onError)}}}let eb=new X.dpR;class ew extends er{bitmapSupported(){return!("undefined"==typeof createImageBitmap||Q.browser.safari||Q.browser.firefox&&Q.browser.majorVersion<98)}constructor(...e){var t;super(...e),t=this,this.load=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ea("three-texture-loader");if(e&&(t.settings=Object.assign(t.settings,e)),i.add(t),t.bitmapSupported()){let e=new X.QRU,i={imageOrientation:"flipY"};t.asset.args.premultiplyAlpha&&(i.premultiplyAlpha="none"),e.setOptions(i),e.load(t.asset.src,e=>{var i,a;let s=new X.ROQ(e);i=s.image.width,a=s.image.height,X.M8C.isPowerOfTwo(i)&&X.M8C.isPowerOfTwo(a)||(s.generateMipmaps=!1,s.minFilter=X.wem,s.magFilter=X.wem),t.asset.data=s,t.dispatchEvent({type:"loaded",asset:t.asset})},t.onProgress,t.onError)}else eb.load(t.asset.src,e=>{t.asset.data=e,t.dispatchEvent({type:"loaded",asset:t.asset})},t.onProgress,t.onError)}}}let eC=new(i(5146)).n;eC.setDataType(X.VzW);class eM extends er{constructor(...e){var t;super(...e),t=this,this.load=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ea("three-ultra-hdr-loader");e&&(t.settings=Object.assign(t.settings,e)),i.add(t),eC.load(t.asset.src,e=>{e.generateMipmaps=!1,e.minFilter=X.TyD,e.magFilter=X.TyD,t.asset.data=e,t.dispatchEvent({type:"loaded",asset:t.asset})},t.onProgress,t.onError)}}}class eL extends er{constructor(...e){var t;super(...e),t=this,this.load=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ea("three-video-loader");e&&(t.settings=Object.assign(t.settings,e)),i.add(t);let a=document.createElement("video");a.muted=!0,a.playsInline=!0,a.src=t.asset.src;let s=()=>{a.removeEventListener("canplaythrough",s),t.asset.data=new X.fO1(a),t.dispatchEvent({type:"loaded",asset:t.asset})};a.onerror=()=>{var e,i;t.onError("code: ".concat(null===(e=a.error)||void 0===e?void 0:e.code," message: ").concat(null===(i=a.error)||void 0===i?void 0:i.message))},a.addEventListener("canplaythrough",s),a.play()}}}class eS extends eh{setDracoLoader(e){this.dracoLoader=e}setKtx2Loader(e){this.ktx2Loader=e}setMeshoptDecoder(e){this.meshoptDecoder=e}setAudioListener(e){this.audioListener=e}createLoaders(e){e.forEach(e=>{if(void 0===e.args&&(e.args={}),void 0!==this.loaderClasses[e.type]){let t=new this.loaderClasses[e.type](e);this.loaders.push(t)}else console.log("webgl","No loader found for media type: ".concat(e.type," "))})}nextInQueue(e){function t(e,t){console.error("".concat(e," needs to be called before loading an ").concat(t," file"))}e instanceof ef&&(this.dracoLoader?e.setDracoLoader(this.dracoLoader):t("setDracoLoader","gltf"),this.ktx2Loader?e.setKtx2Loader(this.ktx2Loader):t("setKtx2Loader","gltf"),this.meshoptDecoder?e.setMeshoptDecoder(this.meshoptDecoder):t("setMeshoptDecoder","gltf")),e instanceof ev&&(this.ktx2Loader?e.setKtx2Loader(this.ktx2Loader):t("setKtx2Loader","ktx2")),e instanceof ex&&(this.audioListener?e.setAudioListener(this.audioListener):t("setAudioListener","audio"))}constructor(e,t=new ea("asset-loader")){super(e,t),this.loaderClasses=Object.assign(this.loaderClasses,{[et.Texture]:ew,[et.FBX]:eu,[et.GLTF]:ef,[et.RgbeTexture]:ey,[et.Ktx2Texture]:ev,[et.ExrTexture]:ep,[et.Sound]:ex,[et.VideoTexture]:eL,[et.UltraHDRTexture]:eM})}}var ek=i(4917),eP=i(2854),ej=i(5359);function eE(e){e instanceof X.vBJ?(eO(e.map),eO(e.lightMap),eO(e.aoMap),eO(e.specularMap),eO(e.alphaMap),eO(e.envMap)):e instanceof X.lRF?(eO(e.map),eO(e.alphaMap),eO(e.displacementMap)):e instanceof X.Lun?(eO(e.map),eO(e.alphaMap),eO(e.displacementMap)):e instanceof X.YBo?(eO(e.map),eO(e.lightMap),eO(e.aoMap),eO(e.emissiveMap),eO(e.bumpMap),eO(e.normalMap),eO(e.displacementMap),eO(e.specularMap),eO(e.alphaMap),eO(e.envMap)):e instanceof X.kaV?(eO(e.map),eO(e.bumpMap),eO(e.normalMap),eO(e.displacementMap),eO(e.alphaMap)):e instanceof X.RSm?(eO(e.bumpMap),eO(e.normalMap),eO(e.displacementMap)):e instanceof X.xoR?(eO(e.map),eO(e.lightMap),eO(e.aoMap),eO(e.emissiveMap),eO(e.bumpMap),eO(e.normalMap),eO(e.displacementMap),eO(e.specularMap),eO(e.alphaMap),eO(e.envMap)):e instanceof X.EJi?(eO(e.map),eO(e.lightMap),eO(e.aoMap),eO(e.emissiveMap),eO(e.bumpMap),eO(e.normalMap),eO(e.displacementMap),eO(e.alphaMap),eO(e.envMap),eO(e.clearcoatMap),eO(e.clearcoatRoughnessMap),eO(e.clearcoatNormalMap),eO(e.iridescenceMap),eO(e.iridescenceThicknessMap),eO(e.sheenColorMap),eO(e.sheenRoughnessMap),eO(e.transmissionMap),eO(e.thicknessMap),eO(e.specularIntensityMap),eO(e.specularColorMap)):e instanceof X.Wid?(eO(e.map),eO(e.lightMap),eO(e.aoMap),eO(e.emissiveMap),eO(e.bumpMap),eO(e.normalMap),eO(e.displacementMap),eO(e.roughnessMap),eO(e.metalnessMap),eO(e.alphaMap),eO(e.envMap)):e instanceof X.IKL?(eO(e.map),eO(e.lightMap),eO(e.aoMap),eO(e.emissiveMap),eO(e.bumpMap),eO(e.normalMap),eO(e.displacementMap),eO(e.alphaMap)):e instanceof X.UY4?(eO(e.map),eO(e.alphaMap)):e instanceof X.jyz||e instanceof X.FIo?Object.values(e.uniforms).forEach(e=>{eO(e.value)}):e instanceof X.xeV&&(eO(e.map),eO(e.alphaMap))}function eO(e){(e instanceof X.ROQ||e instanceof X.EB7||e instanceof X.BtG||e instanceof X.JUT||e instanceof X.p3g||e instanceof X.IEO||e instanceof X.$YQ||e instanceof X.Wzm||e instanceof X.xEZ||e instanceof X.IEO)&&(e.image instanceof ImageBitmap&&e.image.close(),e.dispose())}let eB=["Mesh","Points","Line","LineSegments","SkinnedMesh"];function eT(e){null!=e&&(!function e(t){null!=t&&(eB.includes(t.type)&&(t.geometry.dispose(),Array.isArray(t.material)?t.material.forEach(e=>{eE(e),e.dispose()}):(eE(t.material),t.material.dispose())),t.children.length>0&&t.children.forEach(t=>{e(t)}))}(e),e.removeFromParent())}let eR=new eP._,eI=new ej.a;class eA{setup(e,t){eR.setDecoderPath("".concat(t,"/lib/draco/gltf/")),eI.setTranscoderPath("".concat(t,"/lib/basis/")).detectSupport(e),eR.preload(),this.loader.setDracoLoader(eR),this.loader.setKtx2Loader(eI),this.loader.setMeshoptDecoder(ek.z),this.loader.setAudioListener(eH.listener)}setAudioListener(e){this.loader.setAudioListener(e)}add(e,t){this.assets[e]=this.assets[e]||[],this.assets[e].push(...t)}get(e,t){if(!this.assets[e])return!1;let i=this.find(this.assets[e],t);return!!i&&i instanceof ei&&i}find(e,t){return e.find(e=>e.id===t)||!1}removeAsset(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.assets[e]){let a=this.get(e,t);if(a instanceof ei){let t=this.assets[e].indexOf(a);this.assets[e].splice(t,1),i&&this.disposeAsset(a)}}}disposeGroup(e){this.assets[e]&&(this.assets[e].forEach(e=>{this.disposeAsset(e)}),delete this.assets[e])}disposeAsset(e){switch(e.type){case et.GLTF:var t;eT(null===(t=e.data)||void 0===t?void 0:t.scene),e.data=null;break;case et.Sound:e.data instanceof X.BbS&&e.data.source&&e.data.disconnect(),e.data=null;break;case et.Texture:case et.Ktx2Texture:case et.ExrTexture:eO(e.data),e.data=null;break;default:e.data=null}}dispose(){Object.keys(this.assets).forEach(e=>{this.disposeGroup(e)}),this.assets={}}constructor(){this.assets={},this.loader=new eS({id:"asset-manager",parallelLoads:10}),this.load=(e,t,i,a,s)=>{t.forEach(e=>{void 0===e.args&&(e.args={})});let n=e=>{s&&s(e.progress)},o=e=>{a&&a(e.error),l()},r=t=>{this.add(e,t.assets),l(),i(null)},l=()=>{this.loader.removeEventListener("progress",n),this.loader.removeEventListener("loaded",r),this.loader.removeEventListener("error",o)};this.loader.addEventListener("progress",n),this.loader.addEventListener("loaded",r),this.loader.addEventListener("error",o),this.loader.load(t)}}}class eF{constructor(e){this.id=e.id,this.volume=e.volume,this.fade=e.fade,this.loop=e.loop,this.delayIn=e.delayIn,this.delayOut=e.delayOut,this.fadeInDuration=e.fadeInDuration,this.fadeOutDuration=e.fadeOutDuration,this.startTime=e.startTime,this.stopSoundIfPlayedAgain=e.stopSoundIfPlayedAgain||!1,this.load=e.load||!1}}let eD={ambient:new eF({id:"ambient",volume:.35,fade:!1,loop:!0,delayIn:0,delayOut:0,fadeInDuration:0,fadeOutDuration:0,load:!0,startTime:0,stopSoundIfPlayedAgain:!0}),camera:new eF({id:"camera",volume:1,fade:!1,loop:!1,delayIn:0,delayOut:0,fadeInDuration:0,fadeOutDuration:0,load:!0,startTime:0,stopSoundIfPlayedAgain:!1}),"car-door-open":new eF({id:"car-door-open",volume:1,fade:!1,loop:!1,delayIn:0,delayOut:0,fadeInDuration:0,fadeOutDuration:0,load:!0,startTime:0,stopSoundIfPlayedAgain:!1}),"car-door-close":new eF({id:"car-door-close",volume:1,fade:!1,loop:!1,delayIn:0,delayOut:0,fadeInDuration:0,fadeOutDuration:0,load:!0,startTime:0,stopSoundIfPlayedAgain:!1})};function ez(e){var t;return null!==(t=eD[e])&&void 0!==t?t:new eF({id:e,volume:1,fade:!1,loop:!0,delayIn:0,delayOut:0,fadeInDuration:0,fadeOutDuration:0,load:!0,startTime:0,stopSoundIfPlayedAgain:!1})}class eZ extends X.pBf{addSounds(e){Array.isArray(e)&&(e.forEach(e=>{e instanceof ei&&e.type===et.Sound&&!this.sounds[e.id]&&(this.sounds[e.id]=e.data)}),this.dispatchEvent({type:"sounds-added"}))}removeSound(e){this.sounds[e]&&delete this.sounds[e]}getAudioContextState(){return this.listener.context.state}async stop(e){if(!this.sounds[e])return;let t=this.sounds[e],i=ez(e);t.isPlaying&&(!1!==i.fade?await this.fade(t,t.getVolume(),i.id,0,i.fadeOutDuration,i.delayOut).then(()=>{t.stop()}):(this.tweens[i.id]&&b.ZP.killTweensOf(this.tweens[i.id]),b.ZP.to(this.tweens[i.id],{duration:i.delayOut,onComplete:()=>{try{t.stop()}catch(e){console.log("sound",e)}}})))}stopAll(){Object.keys(this.sounds).forEach(e=>{this.stop(e)})}play(e){if(!this.sounds[e])return;let t=this.sounds[e],i=ez(e);t.isPlaying&&i.stopSoundIfPlayedAgain||(t.setLoop(i.loop),!1!==i.fade?(t.setVolume(0),this.fade(t,0,i.id,i.volume,i.fadeInDuration,i.delayIn)):(t.setVolume(i.volume),t.stop(),this.tweens[i.id]&&b.ZP.killTweensOf(this.tweens[i.id]),this.tweens[i.id]||(this.tweens[i.id]={volume:0}),b.ZP.to(this.tweens[i.id],{duration:i.delayIn,onComplete:()=>{t.play()}})))}async fade(e,t,i,a,s){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;await new Promise((o,r)=>{try{this.tweens[i]||(this.tweens[i]={volume:0}),this.tweens[i].volume=t,b.ZP.to(this.tweens[i],{duration:s,volume:a,delay:n,onStart:()=>{e.isPlaying||e.play()},onUpdate:()=>{e.setVolume(this.tweens[i].volume)},onComplete:()=>{o(null)}})}catch(e){console.log("error",e),r(e)}})}getDuration(e){if(!this.sounds[e])return 0;let t=this.sounds[e];return t.buffer?t.buffer.duration:0}toggle(e){this.isActive=e,b.ZP.killTweensOf(this.tweens.global),b.ZP.to(this.tweens.global,{duration:1.25,volume:e?this.maxVolume:0,onUpdate:()=>{this.listener.setMasterVolume(this.tweens.global.volume)}})}constructor(){super(),this.listener=new X.SJI,this.maxVolume=1,this.volume=this.maxVolume,this.tweens={global:{volume:this.volume}},this.isActive=!1,this.forcedMute=!1,this.sounds={},this.unlock=()=>{window.removeEventListener("click",this.unlock),this.listener.context.resume(),this.toggle(!0)},this.handleVisibilityChange=()=>{if(document.hidden)this.listener.context.suspend().then(()=>{this.handleBlur()});else{clearTimeout(this.timeoutId);let e=()=>{this.listener.context.resume().then(()=>{this.handleFocus()}).catch(()=>{this.timeoutId=setTimeout(e,500)})};e()}},this.handleBlur=()=>{this.isActive&&(this.forcedMute=!0,this.listener.setMasterVolume(0))},this.handleFocus=()=>{this.forcedMute&&(this.forcedMute=!1,this.listener.setMasterVolume(this.maxVolume))},this.toggle(!0),document.addEventListener("visibilitychange",this.handleVisibilityChange),window.addEventListener("blur",this.handleBlur),window.addEventListener("focus",this.handleFocus),window.addEventListener("click",this.unlock)}}class eN extends ee{constructor(e,t){super(e),this.target=t,this.onSoundsAdded=()=>{let e=Object.keys(this.target.sounds);this.api.sound=e[0]||"";let t={};e.forEach(e=>{t[e]=e}),this.gui.addBinding(this.api,"sound",{options:t}).on("change",()=>{this.target.play(this.api.sound)})},this.gui=this.addFolder(e,{title:"Sound Manager"}),t.addEventListener("sounds-added",this.onSoundsAdded),this.gui.addBinding(t.listener.context,"state",{readonly:!0}),this.gui.addButton({title:"play",label:""}).on("click",()=>{this.target.play(this.api.sound)}),this.gui.addButton({title:"stop",label:""}).on("click",()=>{this.target.stop(this.api.sound)})}}var eH=new eZ;let eU=[{name:"Customize your car with colors inspired by the distinct shades of each car model's paint.",icon:(0,f.jsx)(C,{activeColor:(0,w.iF)(w.Oi.Nissan,w.QL.Otherlife),carModel:w.Oi.Nissan})},{name:"Turn on iridescence to see the car paint reveal subtle color changes with every angle.",icon:(0,f.jsx)(B,{})},{name:"Choose your background to explore different ambiences to set the perfect vibe. ",icon:(0,f.jsx)(k,{})},{name:"Get behind the wheel and explore the interiors with a first-person camera view.",icon:(0,f.jsx)(T,{})},{name:"Dive into deeper customization in the developer settings, with an expanded selection of car paint and headlight colors.",icon:(0,f.jsx)(I,{})},{name:"Capture your creation and download it as a high-quality wallpaper.",icon:(0,f.jsx)(P,{})}];Q.device.desktop||eU.splice(eU.length-2,2);var eV=()=>{let e=v.useRef(null),t=v.useRef(null),{sceneState:i,setSceneState:a,setIntroSeen:s,setGraphics:n,graphics:o,setSound:r}=(0,x.b)(),[l,d]=(0,v.useState)(1);(0,v.useEffect)(()=>{b.ZP.to(t.current,{duration:w.Zo,opacity:i===w.ou.IntroUI?1:0,delay:i===w.ou.IntroUI?1:0,force3D:!0,ease:w.UT,onComplete:()=>{i===w.ou.Interaction&&b.ZP.set(e.current,{display:"none"})}})},[i]);let h=()=>{t.current&&b.ZP.to(t.current,{opacity:0,duration:.5,onComplete:()=>{d(e=>3===e?1:e+1),b.ZP.fromTo(t.current,{opacity:0},{opacity:1,duration:.5,delay:.1})}})},c=o===w.TC.Quality;return(0,f.jsx)("div",{ref:e,className:"absolute inset-0 flex items-center justify-center z-10 user-select-none",children:(0,f.jsxs)("div",{ref:t,className:"shadow-lg rounded-lg p-5 max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg text-white text-left glass",style:{opacity:0},children:[1===l&&(0,f.jsxs)("div",{className:"section-1",children:[(0,f.jsx)("h1",{className:"text-3xl mb-4",children:"Virtual Car Showroom"}),(0,f.jsxs)("p",{className:"mb-6 text-sm bold",children:["Welcome to"," ",(0,f.jsx)("a",{href:"https://www.otherlife.xyz",className:"text-white underline hover:text-gray-200 transition",target:"_blank",children:"Otherlife's Laboratory"}),": ",Q.device.mobile&&(0,f.jsx)("br",{}),"A space for limitless experiments in emerging design, web experience and engineering."]}),(0,f.jsx)("p",{className:"mb-6 text-sm",children:"The Virtual Car Showroom is a high-fidelity, immersive car customization experience that showcases the future of real-time product visualization for brands seeking dynamic, interactive consumer experiences."}),(0,f.jsxs)("p",{className:"mb-6 text-sm",children:["Explore four iconic cars",(0,f.jsx)("span",{className:"italic text-gray-400",children:"McLaren Senna"}),","," ",(0,f.jsx)("span",{className:"italic text-gray-400",children:"Lamborghini Gallardo LP560"}),","," ",(0,f.jsx)("span",{className:"italic text-gray-400",children:"Nissan Skyline GT-R R35"}),", and ",(0,f.jsx)("span",{className:"italic text-gray-400",children:"Ferrari F40"}),"in stunning detail using the latest advancements in browser-based real-time rendering."]}),Q.device.desktop&&(0,f.jsxs)("p",{className:"mb-6 text-xs opacity-50",children:["Discover the full story behind the development of this experience in our",(0,f.jsx)("br",{})," ",(0,f.jsx)("a",{href:"https://okaydev.co/articles/introducing-otherlife-labs-a-world-for-limitless-creation",className:"text-white underline hover:text-gray-200 transition",target:"_blank",children:"OKAY DEV Case Study"}),"."]})]}),2===l&&(0,f.jsxs)("div",{className:"section-2",children:[(0,f.jsx)("h1",{className:"text-3xl mb-4",children:"Features"}),(0,f.jsx)("ul",{className:"feature-list",children:eU.map((e,t)=>(0,f.jsxs)("li",{className:"flex items-center gap-4 mb-5",children:[(0,f.jsx)("span",{className:"w-12 h-12 flex items-center justify-center flex-shrink-0",children:e.icon}),(0,f.jsx)("span",{className:"text-sm",children:e.name})]},t))})]}),3===l&&(0,f.jsxs)("div",{className:"section-3",children:[(0,f.jsx)("h1",{className:"text-3xl mb-4",children:"Adjust your Experience"}),(0,f.jsxs)("p",{className:"mb-6 text-sm",children:[(0,f.jsx)("span",{className:"font-bold block",children:"Performance Mode"}),"Ideal for users who prioritize a responsive, smoother experience with faster frame rates."]}),(0,f.jsxs)("p",{className:"mb-8 text-sm",children:[(0,f.jsx)("span",{className:"font-bold block",children:"Quality Mode"}),"Ideal for users who prioritize experiencing the highest level of visual detail though performance may vary depending on your device."]}),(0,f.jsxs)("div",{className:"flex items-center justify-center space-x-4 mb-8",children:[(0,f.jsx)("span",{className:"text-sm text-white ".concat(c?"opacity-50":"opacity-100"," transition-opacity duration-300"),children:"Performance"}),(0,f.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,f.jsx)("input",{type:"checkbox",checked:c,onChange:()=>{n(o===w.TC.Performance?w.TC.Quality:w.TC.Performance)},className:"sr-only"}),(0,f.jsx)("div",{className:"w-20 h-8 bg-black bg-opacity-50 rounded-full flex items-center p-1",children:(0,f.jsx)("div",{className:"w-6 h-6 bg-white rounded-full transition-all duration-300 transform ".concat(c?"translate-x-12":"translate-x-0")})})]}),(0,f.jsx)("span",{className:"text-sm text-white ".concat(c?"opacity-100":"opacity-50"," transition-opacity duration-300"),children:"Quality"})]}),(0,f.jsx)("p",{className:"mb-6 text-xs opacity-50",children:"Your preferences can be changed anytime after the experience starts."})]}),(0,f.jsx)("div",{className:"flex justify-left",children:(0,f.jsx)("button",{className:"button pointer-events-auto",onClick:()=>{3===l?(s(!0),a(w.ou.Interaction)):h(),eH.play("ambient"),r(!0)},children:3===l?"Begin":"Next"})})]})})},eG=()=>{let e=v.useRef(null),t=v.useRef(null),{legal:i}=(0,x.b)();return(0,v.useEffect)(()=>{b.ZP.to(t.current,{duration:w.Zo,opacity:i?1:0,force3D:!0,ease:w.UT})},[i]),(0,f.jsx)("div",{ref:e,className:"absolute inset-0 flex items-center justify-center z-10 user-select-none pointer-events-none",children:(0,f.jsxs)("div",{ref:t,className:"shadow-lg rounded-lg p-5 max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg text-white text-left glass",style:{opacity:0},children:[(0,f.jsx)("h1",{className:"text-3xl mb-4",children:"Licenses"}),(0,f.jsx)("p",{className:"text-xs",children:"This project includes 3D models and icons licensed under various Creative Commons licenses."}),(0,f.jsx)("p",{className:"text-xs mt-2",children:"The car models featured in this experience are not affiliated with any of the car manufacturers."}),(0,f.jsxs)("p",{className:"text-xs mt-4",children:["If you notice any asset used in this project that is not properly credited,"," ",(0,f.jsx)("a",{href:"https://www.otherlife.xyz",className:"underline",target:"_blank",rel:"noopener noreferrer",children:"contact us."})]}),(0,f.jsx)("h2",{className:"text-xl mt-4",children:"3D Models"}),(0,f.jsx)("p",{className:"text-xs mt-2",children:"The assets have been customized using 3D software and WebGL."}),(0,f.jsxs)("ul",{className:"text-xs mt-2",children:[(0,f.jsxs)("li",{children:[(0,f.jsx)("strong",{children:"McLaren Senna"})," by"," ",(0,f.jsx)("a",{href:"https://sketchfab.com/3d-models/mclaren-senna-free-ea3e43a6eb004853a87fe9c58422eb96",target:"_blank",rel:"noopener noreferrer",children:"Black Snow"})," ","(",(0,f.jsx)("a",{href:"https://creativecommons.org/licenses/by/4.0/",target:"_blank",rel:"noopener noreferrer",children:"CC BY 4.0"}),")"]}),(0,f.jsxs)("li",{children:[(0,f.jsx)("strong",{children:"Lamborghini Gallardo LP560"})," by"," ",(0,f.jsx)("a",{href:"https://sketchfab.com/3d-models/lamborghini-gallardo-lp560-86691e28bae34cffa896b148c895e58d",target:"_blank",rel:"noopener noreferrer",children:"Black Snow"})," ","(",(0,f.jsx)("a",{href:"https://creativecommons.org/licenses/by/4.0/",target:"_blank",rel:"noopener noreferrer",children:"CC BY 4.0"}),")"]}),(0,f.jsxs)("li",{children:[(0,f.jsx)("strong",{children:"Nissan Skyline GT-R R35"})," by"," ",(0,f.jsx)("a",{href:"https://sketchfab.com/3d-models/nissan-skyline-gtr-r35-7b142ea3376e4811a326256c59bbc7a2",target:"_blank",rel:"noopener noreferrer",children:"Black Snow"})," ","(",(0,f.jsx)("a",{href:"https://creativecommons.org/licenses/by/4.0/",target:"_blank",rel:"noopener noreferrer",children:"CC BY 4.0"}),")"]})]}),(0,f.jsx)("h2",{className:"text-xl mt-4",children:"Icons"}),(0,f.jsx)("p",{className:"text-xs mt-2  mb-4",children:"The icons have been customized using JavaScript."}),(0,f.jsxs)("ul",{className:"text-xs",children:[(0,f.jsxs)("li",{children:[(0,f.jsx)("strong",{children:"Steering Icon"})," by"," ",(0,f.jsx)("a",{href:"https://thenounproject.com/icon/steering-5158970/",target:"_blank",rel:"noopener noreferrer",children:"Kosong Tujuh"})," ","(",(0,f.jsx)("a",{href:"https://creativecommons.org/licenses/by/3.0/",target:"_blank",rel:"noopener noreferrer",children:"CC BY 3.0"}),")"]}),(0,f.jsxs)("li",{children:[(0,f.jsx)("strong",{children:"Disc Brake"})," by"," ",(0,f.jsx)("a",{href:"https://thenounproject.com/icon/disc-brake-5276916/",target:"_blank",rel:"noopener noreferrer",children:"iconfield"})," ","(",(0,f.jsx)("a",{href:"https://creativecommons.org/licenses/by/3.0/",target:"_blank",rel:"noopener noreferrer",children:"CC BY 3.0"}),")"]}),(0,f.jsxs)("li",{children:[(0,f.jsx)("strong",{children:"Sparkle"})," by"," ",(0,f.jsx)("a",{href:"https://thenounproject.com/icon/sparkle-7260660/",target:"_blank",rel:"noopener noreferrer",children:"Kang panjai"})," ","(",(0,f.jsx)("a",{href:"https://creativecommons.org/licenses/by/3.0/",target:"_blank",rel:"noopener noreferrer",children:"CC BY 3.0"}),")"]}),(0,f.jsxs)("li",{children:[(0,f.jsx)("strong",{children:"Doors Open"})," by"," ",(0,f.jsx)("a",{href:"https://thenounproject.com/icon/doors-open-340252/",target:"_blank",rel:"noopener noreferrer",children:"Richard Nixon"})," ","(",(0,f.jsx)("a",{href:"https://creativecommons.org/licenses/by/3.0/",target:"_blank",rel:"noopener noreferrer",children:"CC BY 3.0"}),")"]}),(0,f.jsxs)("li",{children:[(0,f.jsx)("strong",{children:"Sound"})," by"," ",(0,f.jsx)("a",{href:"https://thenounproject.com/icon/sound-1301024/",target:"_blank",rel:"noopener noreferrer",children:"Path Lord"})," ","(",(0,f.jsx)("a",{href:"https://creativecommons.org/licenses/by/3.0/",target:"_blank",rel:"noopener noreferrer",children:"CC BY 3.0"}),")"]})]})]})})},eY=i(3162);function eW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data";(0,eY.saveAs)(new File([e],"".concat(t,".json"),{type:"application/json;charset=utf-8"}))}function eQ(e,t,i){e.updateMatrixWorld(),e.matrixAutoUpdate=i,t&&e.traverse(e=>{e.matrixAutoUpdate=i})}function eX(e,t){e.position.fromArray(t.position),e.scale.fromArray(t.scale);let i=t.rotation.slice(0,3).map(Number),a="string"==typeof t.rotation[3]?t.rotation[3]:void 0;e.rotation.set(i[0],i[1],i[2],a)}let eq=new X.Ilk,eJ=new X.Ilk,eK=new X.Ilk;function e$(e){return eq.setStyle(e).getHex()}function e0(e,t,i){return eK.setHex(t),eJ.setHex(e).lerp(eK,i)}function e1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=new X.YT8(e),a=i.getPoints(t);return{curve:i=new X.YT8(a),points:a}}function e2(e,t){let i=new X.u9r;return i.setFromPoints(e),new X.x12(i,t)}function e3(e,t){let i=t.matrixWorld,a=new X.Pa4,s=new X._fP;e.getWorldPosition(a),e.getWorldQuaternion(s);let n=new X.Pa4,o=new X._fP,r=new X.yGw().copy(i).invert(),l=new X._fP,d=new X.Pa4;i.decompose(new X.Pa4,l,d),n.copy(a).applyMatrix4(r),o.copy(s).premultiply(l.invert()),t.add(e),e.position.copy(n),e.quaternion.copy(o)}let e5=new X.Ilk;function e7(e){return e5.setStyle(e).getHex()}new X.Ilk,new X.Ilk;let e4=new X.yGw,e8=new X.Pa4,e9=new X.Pa4,e6=new X._fP;class te{serialize(){return this.object.updateMatrix(),{type:this.type,id:this.id,matrix:this.object.matrixWorld.toArray()}}deserialize(e){e4.fromArray(e.matrix),e4.decompose(e8,e6,e9),this.object.position.copy(e8),this.object.scale.copy(e9),this.object.quaternion.copy(e6)}constructor(e){this.object=e,this.id="",this.type=te.type,this.serializable=!0}}te.type="Object3DComponent";class tt extends X.pBf{addComponent(e){let t=e.constructor.name;t in this.nextComponentId||(this.nextComponentId[t]=0),e.id="".concat(t,"-").concat(this.nextComponentId[t]++),this.components.has(e.type)||this.components.set(e.type,[]),this.components.get(e.type).push(e),this.dispatchEvent({type:"componentAdded",component:e})}removeComponent(e){if(this.components.has(e.type)){let t=this.components.get(e.type),i=t.indexOf(e);-1!==i&&(t.splice(i,1),this.dispatchEvent({type:"componentRemoved",component:e})),0===t.length&&this.components.delete(e.type)}}getComponents(e){return this.components.get(e)||[]}getComponent(e){let t=this.getComponents(e);if(0!==t.length)return t[0]}getAllComponents(){let e=[];return this.components.forEach(t=>{e.push(...t)}),e}hasComponent(e){return this.components.has(e)&&this.components.get(e).length>0}get id(){return this._id}set id(e){this._id=e}serialize(){let e=[];for(let[t,i]of this.components)for(let t of i)t.serializable&&e.push(t.serialize());return{id:this.id,type:this.constructor.name,components:e}}deserialize(e){for(let t of(this.id=e.id,this.nextComponentId={},e.components)){let e=t.type;e in this.nextComponentId||(this.nextComponentId[e]=0);let i=this.getComponent(e);i&&(i.id=t.id,i.type=e,i.deserialize(t))}}constructor(){super(),this.isEntity=!0,this._id="",this.components=new Map,this.nextComponentId={}}}let ti="\n  float mapLinear(float value, float in_min, float in_max, float out_min, float out_max) {\n    return (value - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n  }\n",ta="\n  float smoothCircle(const in vec2 screenPosition, const in vec2 maskCenter, const in float maskRadius, const in float maskBorder) {\n    vec2 uvMask = screenPosition;\n    uvMask -= maskCenter;\n    return smoothstep(maskRadius, maskRadius - maskBorder, sqrt(dot(uvMask, uvMask)));\n  }\n";function ts(e){e.forEach(e=>{e.dispose()})}function tn(e){let t={};return e.forEach(e=>{t[e]=e}),t}let to=new X.pBf;class tr{set(e){Object.assign(this,e)}equals(e){return Object.is(this,e)}clone(){return new tr({...this})}constructor(e={}){this.route="",this.carModel=w.Oi.McLaren,this.headLights=!1,this.tailLights=!1,this.leftDoor=!1,this.rightDoor=!1,this.livery=w.QL.Otherlife,this.paintColor=(0,w.iF)(this.carModel,w.QL.Otherlife),this.brakeColor=(0,w.iF)(this.carModel,w.QL.Otherlife),this.backgroundTheme=w.wi.Dark,this.cameraMode=w.VC.Cinematic,this.graphics=w.TC.Performance,this.grid=!1,this.iridescence=!0,this.sceneState=w.ou.Preloading,this.headLightColor=w.LX.White,this.carTransition=!1,this.settings=!1,this.introSeen=!1,this.rotateBackground=!1,this.frameRate=60,this.limitFrameRate=!1,this.rotateCar=!1,this.sound=!1,this.set(e)}}class tl extends X.pBf{setState(e){this.prev=this.state.clone(),this.state.set(e),this.state.equals(this.prev)||this.dispatchEvent({type:"change",state:this.state,prev:this.prev})}trigger(e){e({state:this.state,prev:this.prev})}playIntro(){to.dispatchEvent({type:"sceneState",value:w.ou.IntroCinematic}),to.dispatchEvent({type:"cameraMode",value:w.VC.Cinematic}),to.dispatchEvent({type:"settings",value:!1})}constructor(...e){super(...e),this.state=new tr,this.prev=new tr}}let td=new tl;class th extends ee{constructor(e,t){super(e),this.target=t,this.questionsAdded=!1,this.export=()=>{!function(e){try{console.log("Copied to clipboard!\n",e),navigator.clipboard.writeText(e)}catch(e){console.log("Failed to copy to clipboard!\n",e)}}(JSON.stringify(this.target.state,null,2))},this.onCarModelChange=()=>{this.folders.customization&&this.folders.customization.dispose(),this.api.state.paintColor=(0,w.iF)(td.state.carModel,td.state.livery),this.api.state.brakeColor=(0,w.L8)(td.state.carModel,td.state.livery),this.api.state.headLightColor=(0,w.gP)(td.state.carModel,td.state.livery),this.folders.customization=this.addFolder(this.gui,{title:"Car Customization",index:0}),this.folders.customization.expanded=!0;let e=tn(Object.keys(w.Wn[this.target.state.carModel]));this.folders.customization.addBinding(this.api.state,"carModel",{label:"Car Model",options:tn(Object.values(w.Oi))}).on("change",()=>{to.dispatchEvent({type:"carModel",value:this.api.state.carModel})}),this.folders.customization.addBinding(this.api.state,"paintColor",{label:"Body Color",options:e}).on("change",e=>{to.dispatchEvent({type:"paintColor",value:this.api.state.paintColor})}),this.folders.customization.addBinding(this.api.state,"brakeColor",{label:"Brake Color",options:e}).on("change",()=>{to.dispatchEvent({type:"brakeColor",value:this.api.state.brakeColor})}),this.folders.customization.addBinding(this.api.state,"headLightColor",{label:"Head Lights Color",options:tn(Object.values(w.LX))}).on("change",()=>{to.dispatchEvent({type:"headLightColor",value:this.api.state.headLightColor})}),this.folders.customization.addBinding(this.api.state,"livery",{label:"Livery",options:tn(Object.values(w.QL))}).on("change",()=>{to.dispatchEvent({type:"livery",value:this.api.state.livery,carModel:this.api.state.carModel})}),this.folders.customization.addBinding(this.api.state,"iridescence",{label:"Paint Iridescence"}).on("change",()=>{to.dispatchEvent({type:"iridescence",value:this.api.state.iridescence})})},this.gui=e,this.api.state=td.state.clone(),this.folders.carSettings=this.addFolder(this.gui,{title:"Car Settings"}),this.folders.carSettings.expanded=!0,this.folders.sound=this.addFolder(this.gui,{title:"Sound"}),this.folders.sound.expanded=!0,this.folders.sound.addBinding(this.api.state,"sound",{label:"Sound"}).on("change",()=>{to.dispatchEvent({type:"sound",value:this.api.state.sound})}),this.folders.environment=this.addFolder(this.gui,{title:"Environment"}),this.folders.environment.expanded=!0,this.folders.cinematics=this.addFolder(this.gui,{title:"Cinematics"}),this.folders.cinematics.expanded=!0,this.folders.cinematics.addButton({title:"Play Intro",label:""}).on("click",()=>{t.playIntro()}),this.folders.rendering=this.addFolder(this.gui,{title:"Rendering"}),this.folders.rendering.expanded=!0,this.folders.carSettings.addBinding(this.api.state,"headLights",{label:"Head Lights"}).on("change",()=>{to.dispatchEvent({type:"headLights",value:this.api.state.headLights})}),this.folders.carSettings.addBinding(this.api.state,"tailLights",{label:"Tail Lights"}).on("change",()=>{to.dispatchEvent({type:"tailLights",value:this.api.state.tailLights})}),this.folders.carSettings.addBinding(this.api.state,"leftDoor",{label:"Left Door"}).on("change",()=>{to.dispatchEvent({type:"leftDoor",value:this.api.state.leftDoor})}),this.folders.carSettings.addBinding(this.api.state,"rightDoor",{label:"Right Door"}).on("change",()=>{to.dispatchEvent({type:"rightDoor",value:this.api.state.rightDoor})}),this.folders.environment.addBinding(this.api.state,"grid",{label:"Grid"}).on("change",()=>{to.dispatchEvent({type:"grid",value:this.api.state.grid})}),this.folders.environment.addBinding(this.api.state,"rotateCar",{label:"Rotate Car"}).on("change",()=>{to.dispatchEvent({type:"rotateCar",value:this.api.state.rotateCar})}),this.folders.environment.addBinding(this.api.state,"rotateBackground",{label:"Rotate Background"}).on("change",()=>{to.dispatchEvent({type:"rotateBackground",value:this.api.state.rotateBackground})}),this.folders.environment.addBinding(this.api.state,"backgroundTheme",{options:tn(Object.values(w.wi)),label:"Environment Type"}).on("change",()=>{to.dispatchEvent({type:"backgroundTheme",value:this.api.state.backgroundTheme})}),this.folders.environment.addButton({title:"Reset Background Rotation",label:""}).on("click",()=>{to.dispatchEvent({type:"resetBackgroundRotation"})}),this.folders.rendering.addBinding(this.api.state,"graphics",{options:tn(Object.values(w.TC)),label:"Graphics Mode"}).on("change",()=>{to.dispatchEvent({type:"graphics",value:this.api.state.graphics})}),this.folders.rendering.addBinding(this.api.state,"frameRate",{options:tn([30,60,120]),label:"FPS"}).on("change",()=>{to.dispatchEvent({type:"frameRate",value:this.api.state.frameRate})}),this.folders.rendering.addBinding(this.api.state,"limitFrameRate",{label:"Limit frame Rate"}).on("change",()=>{to.dispatchEvent({type:"limitFrameRate",value:this.api.state.limitFrameRate})}),t.addEventListener("change",e=>{e.state.carModel!==e.prev.carModel&&this.onCarModelChange(),Object.assign(this.api.state,e.state),this.gui.refresh()}),this.onCarModelChange()}}let tc={[w.wi.Dark]:{color0:"#3c3c3c",color1:"#292929"},[w.wi.Light]:{color0:"#ffffff",color1:"#b8b8b8"},[w.wi.HDR]:{color0:"#ffffff",color1:"#b8b8b8"}};class tp extends tt{show(){this.mesh.visible=!0}hide(){this.mesh.visible=!1}setTransition(e){this.mesh.material.uniforms.transition.value=e,this.mesh.material.uniforms.gradient.value.y=X.M8C.clamp(e,.15,.35)}constructor(){var e;super(),e=this,this.animation={time:0},this.onStateChange=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(t.state.backgroundTheme!==t.prev.backgroundTheme||i)&&(e.onThemeSettingsChange(t.state.backgroundTheme),e.changeOpacity(t.state.backgroundTheme))},this.changeOpacity=e=>{let t=w.d9[e]===w.Eo.Gradient?1:0;b.ZP.to(this.mesh.material.uniforms.opacity,{value:t,duration:w.Zo,ease:w.UT})},this.onThemeSettingsChange=e=>{if(w.d9[e]!==w.Eo.Gradient)return;let t=this.mesh.material,i={color0:t.uniforms.color0.value.getHex(),color1:t.uniforms.color1.value.getHex()},a={color0:e7(tc[e].color0),color1:e7(tc[e].color1)};this.animation.time=0,b.ZP.to(this.animation,{time:1,duration:w.Zo,ease:w.UT,onUpdate:()=>{t.uniforms.color0.value.copy(e0(i.color0,a.color0,this.animation.time)),t.uniforms.color1.value.copy(e0(i.color1,a.color1,this.animation.time))}})};let t=Q.device.desktop?64:32,i=Q.device.desktop?32:16;this.mesh=new X.Kj0(new X.xo$(12.5,t,i),new X.jyz({uniforms:{color0:{value:new X.Ilk(tc[w.wi.Dark].color0)},color1:{value:new X.Ilk(tc[w.wi.Dark].color1)},gradient:{value:new X.FM8(0,.35)},transition:{value:1},opacity:{value:1}},vertexShader:"\n          varying vec2 vUv;\n          void main() {\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n          }\n        ",fragmentShader:"\n          uniform vec3 color0;\n          uniform vec3 color1;\n          uniform vec2 gradient;\n          uniform float transition;\n          uniform float opacity;\n          varying vec2 vUv;\n          \n          #include <common>\n          #include <dithering_pars_fragment>\n\n          ".concat(ti,"\n          \n          void main() {\n            float position = clamp(mapLinear(vUv.y, gradient.x, gradient.y, 0.0, 1.0), 0.0, 1.0);\n            gl_FragColor.rgb = transition * vec3(mix(color0, color1, smoothstep(0.0, 1.0, position))).xyz;\n            gl_FragColor.a = opacity;\n            #include <tonemapping_fragment>\n            #include <colorspace_fragment>\n            #include <dithering_fragment>\n\n          }\n        "),side:X._Li,transparent:!0,defines:{DITHERING:""}})),this.mesh.rotation.x=-Math.PI/2,this.mesh.rotation.z=Math.PI,this.mesh.updateMatrix(),this.mesh.renderOrder=1,this.mesh.matrixAutoUpdate=!1,this.mesh.userData.cannotReceiveAO=!0,this.mesh.name="Background",this.addComponent(new te(this.mesh)),td.addEventListener("change",this.onStateChange),td.trigger(()=>{this.onStateChange({state:td.state,prev:td.prev},!0)})}}class tm extends ee{constructor(e,t){super(e),this.gui=this.addFolder(e,{title:"Background"}),this.api.color0="#".concat(t.mesh.material.uniforms.color0.value.getHexString()),this.api.color1="#".concat(t.mesh.material.uniforms.color1.value.getHexString()),this.gui.addBinding(this.api,"color0",{label:"Inner Color"}).on("change",()=>{t.mesh.material.uniforms.color0.value.setStyle(this.api.color0)}),this.gui.addBinding(this.api,"color1",{label:"Outer Color"}).on("change",()=>{t.mesh.material.uniforms.color1.value.setStyle(this.api.color1)}),this.gui.addBinding(t.mesh.material.uniforms.gradient,"value")}}var tu=i(5480),tg=i(3114),tf=i(1752),tv=i.n(tf);(s=h||(h={})).ObjectSelected="object-selected",s.ObjectTransformChanged="object-transform-changed",s.SceneChanged="scene-changed",s.SceneGraphChanged="scene-graph-changed",s.ViewportEditModeChanged="viewport-command-edit-changed",s.ViewportHelpersChanged="viewport-command-helpers-changed";let t_=new X.pBf;var ty=i(8904),tx=i(3832),tb=i(1129),tw=i(4458),tC=i(7531),tM=i(6591),tL=i(1154),tS=i(185),tk=i(1264);let tP=2*Math.PI,tj=new X.Pa4,tE=new X.Pa4(1,1,1);new X.Pa4(0,1,0),new X.USm(0,0,0);class tO extends X.pBf{addEntity(e){let t=e.constructor.name;t in this.nextEntityId||(this.nextEntityId[t]=0);let i="".concat(t,"-").concat(this.nextEntityId[t]++);if(e.id=i,this.entities.set(e.id,e),this.data){let t=this.data.find(t=>t.id===e.id);t&&e.deserialize(t)}this.systems.forEach(t=>{t.addEntity(e)}),e.addEventListener("componentAdded",this.onComponentChanged.bind(this)),e.addEventListener("componentRemoved",this.onComponentChanged.bind(this)),this.dispatchEvent({type:"entityAdded",entity:e})}addEntities(e){e.forEach(e=>{this.addEntity(e)})}addSystems(e){e.forEach(e=>{this.addSystem(e)})}removeEntity(e){this.entities.delete(e.id),this.systems.forEach(t=>{"function"==typeof e.onRemoved&&e.onRemoved(),t.removeEntity(e)}),this.dispatchEvent({type:"entityRemoved",entity:e})}addSystem(e){this.systems.includes(e)||(e.world=this,e.onAdded(),this.systems.push(e),this.entities.forEach(t=>{e.addEntity(t)}),this.dispatchEvent({type:"systemAdded",system:e}))}removeSystem(e){let t=this.systems.indexOf(e);-1!==t&&(e.onRemoved(),this.systems.splice(t,1),this.dispatchEvent({type:"systemRemoved",system:e}))}onComponentChanged(e){let t=e.target;this.systems.forEach(e=>{e.removeEntity(t),e.addEntity(t)})}update(){this.systems.forEach(e=>{e.update()})}load(e){}serialize(){let e=[];for(let t of this.entities.values()){let i=t.serialize();i.components.length>0&&e.push(i)}return e}constructor(){super(),this.save=()=>{K.set("ecs",this.serialize())},this.export=()=>{eW(JSON.stringify(this.serialize(),null,2),"ecs")},this.entities=new Map,this.nextEntityId={},this.systems=[]}}class tB{serialize(){return{}}deserialize(){}constructor(e){this.object=e,this.id="",this.type=tB.type,this.serializable=!1}}tB.type="HelpersComponent";class tT extends tt{constructor(){super(),this.group=new X.Tme;let e=new X.y8_(1);this.addComponent(new te(e)),this.addComponent(new tB(e))}}class tR extends tt{constructor(){super();let e=new X.VLJ(100,100);e.name="Grid",this.addComponent(new te(e)),this.addComponent(new tB(e))}}var tI=i(9542);class tA{serialize(){return{type:this.type,id:this.id,settings:this.settings}}deserialize(e){this.settings=Object.assign(this.settings,e.settings)}constructor(e,t){this.target=e,this.id="",this.type=tA.type,this.serializable=!0,this.settings={enableRotation:!0,enablePositionX:!0,enablePositionY:!0,enablePositionZ:!0,positionSpeed:.4,rotationSpeed:.6,positionRange:{x:1,y:1,z:1},rotationRange:{x:10,y:10,z:10}},this.position=new X.Pa4,this.rotation=new X.USm,this.rotation2=new X.USm,this.positionOffset=new X.Pa4(tI.M8.randFloatSpread(tP),tI.M8.randFloatSpread(tP),tI.M8.randFloatSpread(tP)),this.rotationOffset=new X.Pa4(Math.random(),Math.random(),Math.random()),this.rotationDirection=tI.M8.randInt(-1,1),this.positionPhase=new X.Pa4,this.settings=Object.assign(this.settings,t),this.initialPosition=e.position.clone(),this.initialRotation=e.rotation.clone()}}tA.type="AmbientMotionComponent";class tF extends ee{constructor(e,t){super(e),this.gui=this.addFolder(e,{title:"AmbientMotion"}),this.api.highlight=!1,this.gui.addBinding(t,"id",{readonly:!0}),this.gui.addBinding(this.api,"highlight").on("change",e=>{t.target.material.wireframe=e.value}),this.folders.position=this.addFolder(this.gui,{title:"position"}),this.folders.position.addBinding(t.settings,"positionRange",{min:0,max:10}),this.folders.position.addBinding(t.settings,"positionSpeed",{min:0,max:10}),this.folders.position.addBinding(t,"positionOffset",{x:{min:0,max:tP},y:{min:0,max:tP},z:{min:0,max:tP}}),this.folders.rotation=this.addFolder(this.gui,{title:"rotation"}),this.folders.rotation.addBinding(t.settings,"rotationSpeed",{min:0,max:10}),this.folders.rotation.addBinding(t.settings.rotationRange,"x"),this.folders.rotation.addBinding(t.settings.rotationRange,"y"),this.folders.rotation.addBinding(t.settings.rotationRange,"z")}}(n=c||(c={})).Cinematic="Cinematic",n.ExploreInside="ExploreInside",n.ExploreOutside="ExploreOutside";class tD{serialize(){return{}}deserialize(){}constructor(e){this.object=e,this.id="",this.type=tD.type,this.serializable=!1,this.settings={bookmarkIndex:0,mode:"Cinematic"},this.events=new X.pBf}}tD.type="CarCameraControlsComponent";class tz extends ee{constructor(e,t){super(e),this.gui=this.addFolder(e,{title:"CarCameraControlsComponent"}),this.gui.addBinding(t.settings,"mode",{options:tn(Object.values(c))}).on("change",e=>{console.log(e)}),this.gui.addBinding(t.settings,"bookmarkIndex",{options:tn(Array.from([,,,,,].keys()))}).on("change",e=>{console.log(e)})}}class tZ{serialize(){return{}}deserialize(){}toggleHeadLights(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.35,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.headlights.forEach(s=>{b.ZP.killTweensOf(s.material),s.material.emissive.setStyle(w.A$[td.state.headLightColor]),s.material.map&&(s.material.emissiveMap=null);let n=e?s.emissiveIntensity:0;if(this.settings.debug&&(n=this.settings.headLightsIntensity,s.material.emissive=new X.Ilk(this.settings.emissiveColor)),b.ZP.to(s.material,{emissiveIntensity:n,duration:t?i:0,ease:w.UT,delay:a}),!this.settings.debug){let n={color:s.material.emissive.getHex()},o={color:e$(w.A$[td.state.headLightColor])},r={progress:e?0:1};b.ZP.to(s.material,{duration:t?i:0,ease:w.UT,delay:a,onUpdate:()=>{s.material.emissive.copy(e0(n.color,o.color,r.progress))}})}}),this.headSpotLights.forEach(s=>{let n={color:s.light.color.getHex()},o={color:e$(w.A$[td.state.headLightColor])};this.settings.debug&&(o.color=e$(this.settings.emissiveColor)),b.ZP.killTweensOf(s.tween),s.tween=b.ZP.to(s.light,{intensity:e?s.intensity:0,duration:t?i:0,ease:w.UT,delay:a,onUpdate:()=>{s.tween&&s.light.color.copy(e0(n.color,o.color,s.tween.progress()))}})})}toggleTailLights(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.35,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.tailLights.forEach(s=>{b.ZP.killTweensOf(s.material),s.material.emissive=s.emissive,s.material.map&&(s.material.emissiveMap=s.material.map);let n=e?s.emissiveIntensity:0;this.settings.debug&&(n=this.settings.tailLightsIntensity,s.material.emissive=new X.Ilk(this.settings.emissiveColor)),b.ZP.to(s.material,{emissiveIntensity:n,duration:t?i:0,ease:w.UT,delay:a})}),this.tailSpotLights.forEach(s=>{t?b.ZP.to(s.light,{intensity:e?s.intensity:0,duration:t?i:0,ease:w.UT,delay:a}):s.light.intensity=e?s.intensity:0})}constructor(e,t,i,a){this.headlights=e,this.tailLights=t,this.headSpotLights=i,this.tailSpotLights=a,this.id="",this.type=tZ.type,this.serializable=!1,this.settings={headLights:!1,tailLights:!1,debug:!1,headLightsIntensity:150,tailLightsIntensity:150,emissiveColor:"#ffffff"},this.onSettingsChange=()=>{this.toggleHeadLights(this.settings.headLights,!0),this.toggleTailLights(this.settings.tailLights,!0)}}}tZ.type="CarLightsComponent";class tN extends ee{constructor(e,t){super(e),this.gui=this.addFolder(e,{title:"CarLightsComponent"}),this.gui.addBinding(t.settings,"debug").on("change",t.onSettingsChange),this.gui.addBinding(t.settings,"emissiveColor").on("change",t.onSettingsChange),this.gui.addBinding(t.settings,"headLights").on("change",t.onSettingsChange),this.gui.addBinding(t.settings,"tailLights").on("change",t.onSettingsChange),this.gui.addBinding(t.settings,"headLightsIntensity").on("change",t.onSettingsChange),this.gui.addBinding(t.settings,"tailLightsIntensity").on("change",t.onSettingsChange)}}class tH{serialize(){return{}}deserialize(){}updateColor(e){if(b.ZP.killTweensOf(this.animation),!this.object[0])return;let t=this.object[0].color.clone(),i=new X.Ilk(e);this.animation.time=0,b.ZP.to(this.animation,{time:1,duration:w.Zo,ease:w.UT,onUpdate:()=>{this.object.forEach(e=>{e.color.lerpColors(t,i,this.animation.time)})}})}constructor(e){this.object=e,this.id="",this.type=tH.type,this.serializable=!1,this.settings={useCustomColor:!1,customColor:"#ffff00",metalness:1,roughness:.39},this.animation={time:0},this.onSettingsChange=()=>{if(this.settings.useCustomColor){this.updateColor(this.settings.customColor);return}},this.updatePBR=()=>{this.object.forEach(e=>{e.roughness=this.settings.roughness,e.metalness=this.settings.metalness})}}}tH.type="CarPaintComponent";class tU extends ee{constructor(e,t){super(e),this.gui=this.addFolder(e,{title:"CarPaintComponent"}),this.gui.addBinding(t.settings,"useCustomColor").on("change",t.onSettingsChange),this.gui.addBinding(t.settings,"customColor").on("change",t.onSettingsChange),this.gui.addBinding(t.settings,"metalness",{min:0,max:1}).on("change",t.updatePBR),this.gui.addBinding(t.settings,"roughness",{min:0,max:1}).on("change",t.updatePBR)}}class tV{serialize(){return{}}deserialize(){}updateColor(e){if(b.ZP.killTweensOf(this.animation),!this.object[0])return;let t=this.object[0].color.clone(),i=new X.Ilk(e);this.animation.time=0,b.ZP.to(this.animation,{time:1,duration:w.Zo,ease:w.UT,onUpdate:()=>{this.object.forEach(e=>{e.color.lerpColors(t,i,this.animation.time)})}})}constructor(e){this.object=e,this.id="",this.type=tV.type,this.serializable=!1,this.settings={useCustomColor:!1,customColor:"#ffff00",metalness:1,roughness:.39},this.animation={time:0},this.onSettingsChange=()=>{if(this.settings.useCustomColor){this.updateColor(this.settings.customColor);return}},this.onSettingsChange()}}tV.type="CarTrimComponent";class tG extends ee{constructor(e,t){super(e),this.gui=this.addFolder(e,{title:"CarTrimComponent"}),this.gui.addBinding(t.settings,"useCustomColor").on("change",t.onSettingsChange),this.gui.addBinding(t.settings,"customColor").on("change",t.onSettingsChange)}}var tY=i(9365);function tW(e,t){let i=["minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle"];Object.keys(t).forEach(a=>{i.includes(a)?e[a]=X.M8C.degToRad(t[a]):e[a]=t[a]})}new tY.z(new X.cPb,document.createElement("div"));class tQ{serialize(){return{type:this.type,id:this.id,settings:{enabled:this.controls.enabled,minDistance:this.controls.minDistance,maxDistance:this.controls.maxDistance,minZoom:this.controls.minZoom,maxZoom:this.controls.maxZoom,minTargetRadius:this.controls.minTargetRadius,maxTargetRadius:this.controls.maxTargetRadius,minPolarAngle:this.controls.minPolarAngle,maxPolarAngle:this.controls.maxPolarAngle,minAzimuthAngle:this.controls.minAzimuthAngle,maxAzimuthAngle:this.controls.maxAzimuthAngle,enableDamping:this.controls.enableDamping,dampingFactor:this.controls.dampingFactor,enableZoom:this.controls.enableZoom,enableRotate:this.controls.enableRotate,rotateSpeed:this.controls.rotateSpeed,enablePan:this.controls.enablePan,panSpeed:this.controls.panSpeed,autoRotate:this.controls.autoRotate,autoRotateSpeed:this.controls.autoRotateSpeed}}}deserialize(e){this.settings=Object.assign(this.settings,e.settings),Object.assign(this.controls,this.settings)}constructor(e){this.controls=e,this.id="",this.type=tQ.type,this.serializable=!0,this.settings={}}}tQ.type="OrbitControlsComponent";class tX extends ee{constructor(e,t){super(e),this.target=t,this.save=()=>{this.target.controls.object.position.toArray(),this.target.controls.object.rotation.toArray(),this.target.controls.target.toArray()},this.gui=this.addFolder(e,{title:"OrbitControls"}),function(e,t){let i={minPolarAngle:X.M8C.radToDeg(t.minPolarAngle),maxPolarAngle:X.M8C.radToDeg(t.maxPolarAngle),minAzimuthAngle:X.M8C.radToDeg(t.minAzimuthAngle),maxAzimuthAngle:X.M8C.radToDeg(t.maxAzimuthAngle),maxZoom:t.maxZoom},a=()=>{t.minPolarAngle=X.M8C.degToRad(i.minPolarAngle),t.maxPolarAngle=X.M8C.degToRad(i.maxPolarAngle),t.minAzimuthAngle=X.M8C.degToRad(i.minAzimuthAngle),t.maxAzimuthAngle=X.M8C.degToRad(i.maxAzimuthAngle)};t.maxDistance===1/0&&(t.maxDistance=X.M8C.clamp(t.maxDistance,0,1e5)),t.maxZoom===1/0&&(t.maxZoom=X.M8C.clamp(t.maxZoom,0,1e5)),t.maxTargetRadius===1/0&&(t.maxTargetRadius=X.M8C.clamp(t.maxTargetRadius,0,1e5)),t.minAzimuthAngle===-1/0&&(t.minAzimuthAngle=X.M8C.clamp(t.minAzimuthAngle,-1e5,1e5)),t.maxAzimuthAngle===1/0&&(t.maxAzimuthAngle=X.M8C.clamp(t.maxAzimuthAngle,-1e5,1e5)),e.addBinding(t,"enabled"),e.addBinding(t,"minDistance"),e.addBinding(t,"maxDistance"),e.addBinding(t,"minZoom"),e.addBinding(t,"maxZoom"),e.addBinding(t,"minTargetRadius"),e.addBinding(t,"maxTargetRadius"),e.addBinding(i,"minPolarAngle").on("change",a),e.addBinding(i,"maxPolarAngle").on("change",a),e.addBinding(t,"minAzimuthAngle").on("change",a),e.addBinding(t,"maxAzimuthAngle").on("change",a),e.addBinding(t,"enableDamping"),e.addBinding(t,"dampingFactor"),e.addBinding(t,"enableZoom"),e.addBinding(t,"enableRotate"),e.addBinding(t,"rotateSpeed"),e.addBinding(t,"enablePan"),e.addBinding(t,"panSpeed"),e.addBinding(t,"autoRotate"),e.addBinding(t,"autoRotateSpeed"),e.addBinding(t,"target")}(this.gui,this.target.controls),this.gui.addButton({title:"Save X",label:""}).on("click",this.save)}}class tq extends ee{constructor(e,t){super(e),this.target=t,this.api.name=this.target.constructor.name,this.gui=this.addFolder(e,{title:this.target.id}),this.gui.addBinding(this.target,"id",{readonly:!0}),this.target.getAllComponents().forEach(e=>{let t="".concat(e.type,"-").concat(e.id);switch(e.type){case tA.type:this.controllers[t]=new tF(this.gui,e);break;case tQ.type:this.controllers[t]=new tX(this.gui,e);break;case tH.type:this.controllers[t]=new tU(this.gui,e);break;case tV.type:this.controllers[t]=new tG(this.gui,e);break;case tD.type:this.controllers[t]=new tz(this.gui,e);break;case tZ.type:this.controllers[t]=new tN(this.gui,e)}})}}class tJ extends ee{constructor(e,t){super(e),this.target=t,this.updateList=()=>{ts(this.bindings),Object.values(this.controllers).forEach(e=>{e.dispose()}),this.target.entities.forEach(e=>{this.controllers[e.id]=new tq(this.gui,e)}),this.gui.refresh()},this.gui=e,this.api.entity="",t.addEventListener("entityAdded",this.updateList),t.addEventListener("entityRemoved",this.updateList),this.updateList()}}function tK(e,t,i,a){let s=Object.entries(e);class n extends X.jyz{constructor(e){for(let[e]of(super({uniforms:s.reduce((e,t)=>{let[i,a]=t,s=X.rDY.clone({[i]:{value:a}});return{...e,...s}},{}),vertexShader:t,fragmentShader:i}),s))Object.defineProperty(this,e,{get:()=>this.uniforms[e].value,set:t=>this.uniforms[e].value=t});Object.assign(this,e),null==a||a(this)}}return n.key=X.M8C.generateUUID(),n}let t$=tK({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }"),t0=tK({color:new X.Ilk(0),blend:2,alphaTest:.75,opacity:0,map:null},"varying vec2 vUv;\n   void main() {\n     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\n     vUv = uv;\n   }","varying vec2 vUv;\n   uniform sampler2D map;\n   uniform vec3 color;\n   uniform float opacity;\n   uniform float alphaTest;\n   uniform float blend;\n   void main() {\n    vec4 sampledDiffuseColor = texture2D(map, vUv);\n    gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);\n    #include <tonemapping_fragment>\n    #include <colorspace_fragment>\n   }");class t1{clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(e=>{e.geometry?this.meshes.push({object:e,material:e.material}):e.isLight&&this.lights.push({object:e,intensity:e.intensity})})}prepare(){this.lights.forEach(e=>e.object.intensity=0),this.meshes.forEach(e=>e.object.material=this.discardMat)}finish(){this.lights.forEach(e=>e.object.intensity=e.intensity),this.meshes.forEach(e=>e.object.material=e.material)}configure(e){this.object=e}update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(!this.object)return;this.averagingWindow.value=t,this.object.material=this.targetMat;let i=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,a=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,s=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(i),this.previousShadowMap.value=a.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=s}constructor(e,t,i=1024){this.renderer=e,this.res=i,this.scene=t,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new X.Ilk,this.clearAlpha=0,this.progressiveLightMap1=new X.dd2(this.res,this.res,{type:(0,w.h6)()}),this.progressiveLightMap2=new X.dd2(this.res,this.res,{type:(0,w.h6)()}),this.discardMat=new t$,this.targetMat=new X.YBo({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=e=>{e.vertexShader="varying vec2 vUv;\n"+e.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";let t=e.fragmentShader.indexOf("void main() {");e.fragmentShader="varying vec2 vUv;\n"+e.fragmentShader.slice(0,t)+"uniform sampler2D previousShadowMap;\n	uniform float averagingWindow;\n"+e.fragmentShader.slice(t-1,-1)+"\nvec3 texelOld = texture2D(previousShadowMap, vUv).rgb;\n        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);\n      }",e.uniforms.previousShadowMap=this.previousShadowMap,e.uniforms.averagingWindow=this.averagingWindow}}}class t2{addEntity(e){!this.entities.has(e)&&this.matchesRequiredComponents(e)&&(this.entities.add(e),this.onEnter(e),e.addEventListener("componentAdded",this.onComponentAdded.bind(this)),e.addEventListener("componentRemoved",this.onComponentRemoved.bind(this)))}removeEntity(e){this.entities.has(e)&&(this.entities.delete(e),this.onExit(e),e.removeEventListener("componentAdded",this.onComponentAdded.bind(this)),e.removeEventListener("componentRemoved",this.onComponentRemoved.bind(this)))}onComponentAdded(e){let t=e.target;this.matchesRequiredComponents(t)?this.addEntity(t):this.removeEntity(t)}onComponentRemoved(e){let t=e.target;this.matchesRequiredComponents(t)?this.addEntity(t):this.removeEntity(t)}matchesRequiredComponents(e){return this.requiredComponents.every(t=>e.hasComponent(t))}update(){}onEnter(e){}onExit(e){}onAdded(){}onRemoved(){}constructor(e){this.entities=new Set,this.requiredComponents=e}}class t3 extends t2{onBeforeEnvironmentRender(e){this.gPlane.visible=!e}onExit(e){}hide(){this.gPlane.visible=!1}show(){this.gPlane.visible=!0}update(){this.temporalUpdate()}randomiseLightPositions(){let e=this.lightParams.position.length();for(let t=0;t<this.gLights.children.length;t++){let i=this.gLights.children[t];if(Math.random()>this.lightParams.ambient)i.position.set(this.lightParams.position.x+X.M8C.randFloatSpread(this.lightParams.radius),this.lightParams.position.y+X.M8C.randFloatSpread(this.lightParams.radius),this.lightParams.position.z+X.M8C.randFloatSpread(this.lightParams.radius));else{let t=Math.acos(2*Math.random()-1)-Math.PI/2,a=2*Math.PI*Math.random();i.position.set(Math.cos(t)*Math.cos(a)*e,Math.abs(Math.cos(t)*Math.sin(a)*e),Math.sin(t)*e)}}}temporalUpdate(){(this.shadowParams.temporal||this.shadowParams.frames===1/0)&&this.api.count<this.shadowParams.frames&&this.api.count<this.shadowParams.limit&&(this.renderShadows(),this.api.count++),this.api.count>=this.shadowParams.frames&&!this.shadowReady&&(this.shadowReady=!0,to.dispatchEvent({type:"shadowsReady"}))}renderShadows(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.shadowParams.blend=Math.max(2,this.shadowParams.frames===1/0?this.shadowParams.blend:this.shadowParams.frames),this.shadowParams.temporal?(this.shadowMaterial.opacity=Math.min(this.shadowParams.opacity,this.shadowMaterial.opacity+this.shadowParams.opacity/this.shadowParams.blend),this.shadowMaterial.alphaTest=Math.min(this.shadowParams.alphaTest,this.shadowMaterial.alphaTest+this.shadowParams.alphaTest/this.shadowParams.blend)):(this.shadowMaterial.opacity=this.shadowParams.opacity,this.shadowMaterial.alphaTest=this.shadowParams.alphaTest),this.scene.add(this.gLights),this.plm.prepare();for(let t=0;t<e;t++)this.randomiseLightPositions(),this.plm.update(this.camera,this.shadowParams.blend);this.scene.remove(this.gLights),this.plm.finish()}constructor(e,t,i){super([]),this.scene=e,this.camera=t,this.renderer=i,this.settings={},this.shadowParams={temporal:!0,frames:100,limit:2e5,blend:40,scale:10,opacity:1,alphaTest:.9,colorBlend:2},this.lightParams={position:new X.Pa4(3,40,3),radius:10,amount:8,intensity:parseInt(X.UZH.replace(/\D+/g,""))>=155?Math.PI:1,ambient:2,bias:.001,mapSize:1024,size:8,near:.5,far:200},this.api={count:0},this.shadowReady=!1,this.updateMaterial=()=>{this.shadowMaterial.blend=this.shadowParams.colorBlend,this.shadowMaterial.alphaTest=this.shadowParams.alphaTest},this.recomputeShadows=()=>{this.plm.clear(),this.shadowMaterial.opacity=0,this.shadowMaterial.alphaTest=0,this.api.count=0,this.shadowReady=!1,this.shadowParams.temporal||this.shadowParams.frames===1/0||this.renderShadows(this.shadowParams.frames)},this.plm=new t1(i,e,1024),this.shadowMaterial=new t0({map:this.plm.progressiveLightMap2.texture,transparent:!0,depthWrite:!1,toneMapped:!0,blend:this.shadowParams.colorBlend,alphaTest:0}),this.gPlane=new X.Kj0(new X._12(1,1).rotateX(-Math.PI/2),this.shadowMaterial),this.gPlane.name="AccumulativeShadowsMesh",this.gPlane.scale.setScalar(this.shadowParams.scale),this.gPlane.receiveShadow=!0,this.gPlane.renderOrder=10,e.add(this.gPlane),this.plm.configure(this.gPlane),this.gLights=new X.ZAu;for(let e=0;e<this.lightParams.amount;e++){let t=new X.Ox3(16777215,this.lightParams.intensity/this.lightParams.amount);t.name="dir_light_"+e,t.castShadow=!0,t.shadow.bias=this.lightParams.bias,t.shadow.camera.near=this.lightParams.near,t.shadow.camera.far=this.lightParams.far,t.shadow.camera.right=this.lightParams.size/2,t.shadow.camera.left=-this.lightParams.size/2,t.shadow.camera.top=this.lightParams.size/2,t.shadow.camera.bottom=-this.lightParams.size/2,t.shadow.mapSize.width=this.lightParams.mapSize,t.shadow.mapSize.height=this.lightParams.mapSize,this.gLights.add(t)}this.plm.clear()}}class t5 extends ee{constructor(e,t){super(e),this.gui=this.addFolder(e,{title:"AccumulativeShadowsSystem"}),this.folders.api=this.addFolder(this.gui,{title:"API"}),this.folders.api.addBinding(t.api,"count",{readonly:!0}),this.folders.api.addButton({title:"Recompute Shadows"}).on("click",t.recomputeShadows),this.folders.shadowMaterial=this.addFolder(this.gui,{title:"Shadow Material"}),this.folders.shadowMaterial.addBinding(t.shadowParams,"temporal"),this.folders.shadowMaterial.addBinding(t.shadowParams,"frames").on("change",t.recomputeShadows),this.folders.shadowMaterial.addBinding(t.shadowParams,"limit",{min:0,max:1e5}),this.folders.shadowMaterial.addBinding(t.shadowParams,"blend",{min:0,max:3}),this.folders.shadowMaterial.addBinding(t.shadowParams,"scale"),this.folders.shadowMaterial.addBinding(t.shadowParams,"opacity").on("change",t.updateMaterial),this.folders.shadowMaterial.addBinding(t.shadowParams,"alphaTest").on("change",t.updateMaterial),this.folders.shadowMaterial.addBinding(t.shadowParams,"colorBlend"),this.folders.lightParams=this.addFolder(this.gui,{title:"Light Params"}),this.folders.lightParams.addBinding(t.lightParams,"position"),this.folders.lightParams.addBinding(t.lightParams,"radius").on("change",t.recomputeShadows),this.folders.lightParams.addBinding(t.lightParams,"amount"),this.folders.lightParams.addBinding(t.lightParams,"intensity"),this.folders.lightParams.addBinding(t.lightParams,"ambient").on("change",t.recomputeShadows),this.folders.lightParams.addBinding(t.lightParams,"bias"),this.folders.lightParams.addBinding(t.lightParams,"mapSize"),this.folders.lightParams.addBinding(t.lightParams,"size"),this.folders.lightParams.addBinding(t.lightParams,"near"),this.folders.lightParams.addBinding(t.lightParams,"far")}}function t7(e,t){let i=document.createElement("canvas");return i.width=e,i.height=t,{ctx:i.getContext("2d"),canvas:i}}i(8489),i(1646);class t4{resize(e,t){this.canvas.width=e,this.canvas.height=t,this.canvasFlipped.width=e,this.canvasFlipped.height=t,this.renderTarget.texture.type===X.cLu?this.pixelBuffer=new Uint16Array(e*t*4):this.pixelBuffer=new Uint8Array(e*t*4),this.ctxFlipped&&(this.imageData=this.ctxFlipped.createImageData(this.canvas.width,this.canvas.height))}update(e){e.readRenderTargetPixels(this.renderTarget,0,0,this.renderTarget.width,this.renderTarget.height,this.pixelBuffer),this.ctx&&this.ctxFlipped&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.imageData.data.set(this.pixelBuffer),this.ctxFlipped.putImageData(this.imageData,0,0),this.ctx.save(),this.ctx.scale(1,-1),this.ctx.drawImage(this.canvasFlipped,0,-this.canvas.height,this.canvas.width,this.canvas.height),this.ctx.restore())}reset(){this.ctx&&this.ctxFlipped&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctxFlipped.clearRect(0,0,this.canvasFlipped.width,this.canvasFlipped.height))}debug(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Object.assign(this.canvas.style,{position:"absolute",zIndex:1e3,border:"1px solid white",pointerEvents:"none",top:"".concat(e||0,"rem"),left:"".concat(t||0,"rem"),transform:"scale(".concat(i,")"),transformOrigin:"top left"}),document.body.append(this.canvas)}constructor(e){this.renderTarget=e;let{canvas:t,ctx:i}=t7(e.width,e.height),{canvas:a,ctx:s}=t7(e.width,e.height);this.canvas=t,this.ctx=i,this.canvasFlipped=a,this.ctxFlipped=s,this.pixelBuffer=new Uint8Array(e.width*e.height*4),this.ctxFlipped&&(this.imageData=this.ctxFlipped.createImageData(e.width,e.height))}}class t8{serialize(){return{type:this.type,id:this.id}}deserialize(e){}constructor(e){this.object=e,this.id="",this.type=t8.type,this.serializable=!0}}t8.type="ContactShadowsComponent";class t9 extends ee{constructor(e,t){super(e),this.gui=this.addFolder(e,{title:"ContactShadowsSystem"}),this.gui.addBinding(t.settings,"shadowBlur",{min:0,max:20}),this.gui.addBinding(t.settings,"shadowOpacity",{min:0,max:1}),this.gui.addBinding(t.settings,"shadowDarkness",{min:0,max:5}),this.gui.addBinding(t.settings,"helpers").on("change",t.onToggleHelpers)}}class t6 extends ee{constructor(e,t){super(e);let i=t.constructor.name;switch(this.api.name=i,i){case"ContactShadowsSystem":this.controllers[i]=new t9(e,t);break;case"AccumulativeShadowsSystem":this.controllers[i]=new t5(e,t)}}}class ie extends ee{constructor(e,t){super(e),this.target=t,this.updateList=()=>{ts(this.bindings),this.target.systems.forEach(e=>{this.controllers[e.constructor.name]=new t6(this.gui,e)}),this.gui.refresh()},this.gui=e,this.api.system="",t.addEventListener("systemAdded",this.updateList),t.addEventListener("systemRemoved",this.updateList),this.updateList()}}class it extends ee{constructor(e,t){super(e),this.target=t,this.gui=this.addFolder(e,{title:"ECS"}),this.gui.addButton({title:"Save",label:""}).on("click",t.save),this.gui.addButton({title:"Export",label:""}).on("click",t.export),this.folders.entities=this.addFolder(this.gui,{title:"Entities"}),this.folders.systems=this.addFolder(this.gui,{title:"Systems"}),this.controllers.entities=new tJ(this.folders.entities,this.target),this.controllers.systems=new ie(this.folders.systems,this.target)}}class ii extends t2{onEnter(e){let t=e.getComponent(tB.type);t&&(t.object.visible=iQ.helpers,this.group.add(t.object))}onExit(e){let t=e.getComponent(tB.type);t&&this.group.remove(t.object)}update(){this.entities.forEach(e=>{let t=e.getComponent(tB.type);t&&t.object.update&&t.object.update()})}constructor(e){super([tB.type]),this.group=new X.ZAu,this.onSettingsChange=e=>{this.entities.forEach(e=>{let t=e.getComponent(tB.type);t&&(t.object.visible=iQ.helpers)})},this.group.name="Helpers",e.add(this.group),iQ.addEventListener("change",this.onSettingsChange)}}class ia extends t2{onEnter(e){e.getComponent(tQ.type)}onExit(e){let t=e.getComponent(tQ.type);if(t){var i;null===(i=t.controls)||void 0===i||i.dispose()}}update(){this.entities.forEach(e=>{let t=e.getComponent(tQ.type);t&&t.controls&&t.controls.update()})}constructor(e){super([tQ.type]),this.domElement=e}}class is{serialize(){return{}}deserialize(){}constructor(e){this.object=e,this.id="",this.type=is.type,this.serializable=!1}}is.type="RafComponent";class io extends t2{update(){this.entities.forEach(e=>{"function"==typeof e.update&&e.update()})}constructor(){super([is.type])}}class ir{serialize(){return{}}deserialize(){}constructor(e){this.object=e,this.id="",this.type=ir.type,this.serializable=!1}}ir.type="ResizeComponent";class il extends t2{resize(){this.entities.forEach(e=>{"function"==typeof e.resize&&e.resize()})}constructor(){super([ir.type])}}class id extends t2{onEnter(e){e.getComponents(te.type).forEach(e=>{0>this.scene.children.indexOf(e.object)&&this.scene.add(e.object)})}onExit(e){e.getComponents(te.type).forEach(e=>{this.scene.remove(e.object)})}constructor(e){super([te.type]),this.scene=e}}function ih(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tE;e.position.set(i.x*t,i.y*t,i.z*t),e.lookAt(tj)}function ic(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new X.cPb(65,e,.1,1e3)}var ip=JSON.parse('[{"id":"AxisEntity-0","type":"AxisEntity","components":[{"type":"Object3DComponent","id":"Object3DComponent-0","matrix":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}]},{"id":"GridEntity-0","type":"GridEntity","components":[{"type":"Object3DComponent","id":"Object3DComponent-0","matrix":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}]},{"id":"FloorEntity-0","type":"FloorEntity","components":[{"type":"Object3DComponent","id":"Object3DComponent-0","matrix":[1,0,0,0,0,2.220446049250313e-16,-1,0,0,1,2.220446049250313e-16,0,0,0,0,1]}]},{"id":"CarEntity-0","type":"CarEntity","components":[{"type":"Object3DComponent","id":"Object3DComponent-0","matrix":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}]},{"id":"StudioEntity-0","type":"StudioEntity","components":[{"type":"Object3DComponent","id":"Object3DComponent-0","matrix":[7.5,0,0,0,0,3,0,0,0,0,3.5,0,0,0,0,1]}]},{"id":"VideoScreenEntity-0","type":"VideoScreenEntity","components":[{"type":"Object3DComponent","id":"Object3DComponent-0","matrix":[7,0,0,0,0,7,0,0,0,0,7,0,0,3.6,-30.6,1]}]},{"id":"VideoScreenEntity-1","type":"VideoScreenEntity","components":[{"type":"Object3DComponent","id":"Object3DComponent-0","matrix":[-7,0,-8.572527594031472e-16,0,0,7,0,0,8.572527594031472e-16,0,-7,0,0,3.6,30.6,1]}]}]');class im extends X.pBf{async createECS(){await new Promise((e,t)=>{try{this.entities.axis=new tT,this.entities.grid=new tR,this.systems.raf=new io,this.systems.resize=new il,this.systems.scene=new id(this.scene),this.systems.helpers=new ii(this.scene),this.systems.orbitControls=new ia(iU.renderer.domElement),e(null)}catch(e){t(e)}})}async initializeECS(){Object.values(this.systems).forEach(e=>{this.ecs.addSystem(e)}),Object.values(this.entities).forEach(e=>{this.ecs.addEntity(e)}),this.ecs.load(ip)}async setup(){this.isSetup||(await this.createECS(),await this.initializeECS(),this.isSetup=!0)}toggleCameras(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this.camera=e?this.cameras.dev:this.cameras.main}resize(e,t){this.cameras.dev.aspect=e/t,this.cameras.dev.updateProjectionMatrix(),this.cameras.main.aspect=e/t,this.cameras.main.updateProjectionMatrix()}async animateInit(){}async animateIn(){}async animateOut(){}update(){this.controls.update(),this.ecs.update()}dispose(){this.isDisposable&&eT(this.scene)}constructor(e,t){super(),this.renderer=t,this.scene=new X.xsS,this.clearColor=0,this.preloadGPU=!1,this.settings={},this.isSetup=!1,this.isDisposable=!0,this.ecs=new tO,this.systems={},this.entities={},this.id=e.id||X.M8C.generateUUID(),this.scene.name=this.id,this.clearColor=e.clearColor||0,this.preloadGPU=e.preloadGPU||!0,this.options=e,this.cameras={dev:ic(window.innerWidth/window.innerHeight),main:ic(window.innerWidth/window.innerHeight)},this.cameras.dev.name="dev",this.cameras.main.name="main",this.scene.add(this.cameras.dev),this.scene.add(this.cameras.main),this.camera=this.cameras.main,ih(this.cameras.dev,5),ih(this.cameras.main,5),this.controls=new tY.z(this.cameras.dev,t.domElement),this.controls.update()}}class iu extends ee{constructor(e,t){super(e),this.onEntityChanged=()=>{t_.dispatchEvent({type:h.SceneGraphChanged})},this.controllers.ecs=new it(e,t.ecs),t.ecs.addEventListener("entityAdded",this.onEntityChanged),t.ecs.addEventListener("entityRemoved",this.onEntityChanged)}}class ig extends im{constructor(e,t,i=0){super({id:t,clearColor:i,preloadGPU:!1},e),this.camera.position.set(0,0,10),this.camera.lookAt(tj)}}class iv extends iu{constructor(e,t){super(e,t)}}var i_=i(4155);"undefined"==typeof self&&void 0!==i_&&i_.hrtime?a=function(){let e=i_.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?a=self.performance.now.bind(self.performance):a=void 0!==Date.now?Date.now:function(){return new Date().getTime()};var iy=a;class ix{update(){return!this.enabled||!this.limit||(console.log("x"),this.now=iy(),this.interval=1e3/this.fps,this.elapsed=this.now-this.lastUpdate,!(this.elapsed<this.interval)&&(this.lastUpdate=this.now-this.elapsed%this.interval,!0))}constructor(e=60){this.lastUpdate=0,this.elapsed=0,this.interval=0,this.now=0,this.fps=60,this.enabled=!0,this.limit=!1,this.fps=e}}class ib extends ee{constructor(e,t){super(e),this.gui=this.addFolder(e,{title:"FrameRate"}),this.gui.addBinding(t,"enabled"),this.gui.addBinding(t,"limit"),this.gui.addBinding(t,"fps",{min:1,max:120,step:1})}}var iw=i(627);let iC=new eA,iM=new X.FM8;function iL(e){let t=e.getPixelRatio();return e.getSize(iM),{width:iM.x*t,height:iM.y*t}}(o=p||(p={})).WebGLRenderer="WebGLRenderer",o.EffectComposer="EffectComposer",(r=m||(m={})).Blob="Blob",r.DataUrl="DataUrl",(l=u||(u={})).Jpg="jpg",l.Png="png";class iS{capture(){eH.play("camera"),this.render().then(e=>{this.download(e,"screenshot",this.fileType)}).catch(e=>{console.log("error",e)})}drawCanvasFromWebGLRenderer(){if(!this.ctx)return;let{width:e,height:t}=iL(this.renderer);this.canvas.width=e,this.canvas.height=t,this.ctx.drawImage(this.renderer.domElement,0,0,this.canvas.width,this.canvas.height)}async drawCanvasFromEffectComposer(e,t){}async render(){return"WebGLRenderer"===this.captureMode?this.drawCanvasFromWebGLRenderer():await this.drawCanvasFromEffectComposer(this.scene,this.camera),new Promise((e,t)=>{if(!this.ctx){t("Canvas context is null");return}let i=iC.get(w.de.Global,"screenshot-overlay");if(i instanceof ei){let e=i.data,t=320/e.width,a=e.width*t,s=e.height*t,n=100+a/2,o=100+s/2;this.ctx.drawImage(e,n-a/2,o-s/2,a,s)}let a=iC.get(w.de.Global,"screenshot-disclaimer");if(a instanceof ei){let e=a.data,t=e.width*this.settings.disclaimerScale,i=e.height*this.settings.disclaimerScale,s=this.canvas.width-t,n=this.canvas.height-i;this.ctx.drawImage(e,s-this.settings.disclaimerOffset,n-this.settings.disclaimerOffset,t,i)}"Blob"===this.captureType?this.canvas.toBlob(i=>{i?e(i):t("Failed to create blob")},this.mineType,this.quality):e(this.canvas.toDataURL(this.mineType,this.quality))})}get mineType(){return"jpg"===this.fileType?"image/jpeg":"image/png"}set width(e){this._width=e}set height(e){this._height=e}set pixelRatio(e){this._pixelRatio=e}get width(){return this.useRendererSize?this.renderer.domElement.width/this.renderer.getPixelRatio():this._width}get height(){return this.useRendererSize?this.renderer.domElement.height/this.renderer.getPixelRatio():this._height}get pixelRatio(){return this.useRendererSize?this.renderer.getPixelRatio():this._pixelRatio}download(e,t,i){(0,eY.saveAs)(e,"ol-labs-virtual-car-showroom.".concat("jpg"===i?"jpg":"png"))}constructor(e,t=1920,i=1080,a=2,s,n){this.renderer=e,this.scene=s,this.camera=n,this.useRendererSize=!1,this._width=0,this._height=0,this._pixelRatio=0,this.captureMode="EffectComposer",this.captureType="Blob",this.fileType="jpg",this.quality=1,this.settings={logoOffset:100,logoScale:.5,disclaimerScale:.5,disclaimerOffset:100},this.width=t,this.height=i,this.pixelRatio=a;let{canvas:o,ctx:r}=t7(t*a,i*a);this.ctx=r,this.canvas=o,this.renderTarget=new X.dd2(this.width*this.pixelRatio,this.height*this.pixelRatio,{minFilter:X.wem,magFilter:X.TyD,format:X.wk1,type:X.ywz,stencilBuffer:!1}),this.renderTargetHelper=new t4(this.renderTarget)}}class ik extends ee{resize(){this.bindings.forEach(e=>e.refresh()),this.api.width=this.target.renderer.domElement.width,this.api.height=this.target.renderer.domElement.height}constructor(e,t){super(e),this.target=t,this.bindings=[],this.gui=this.addFolder(e,{title:"Screenshot"}),this.api.width=t.renderer.domElement.width,this.api.height=t.renderer.domElement.height,this.api.pixelRatio=t.renderer.getPixelRatio();let i=()=>{ts(this.bindings);let e=()=>{let e=t.width*t.pixelRatio,i=t.height*t.pixelRatio;t.renderTarget.setSize(e,i),t.renderTargetHelper.resize(e,i)};"EffectComposer"===t.captureMode?this.bindings.push(this.gui.addBinding(t,"width",{step:1}).on("change",e),this.gui.addBinding(t,"height",{step:1}).on("change",e),this.gui.addBinding(t,"pixelRatio",{min:1,max:4,step:1}).on("change",e),this.gui.addBinding(t,"useRendererSize")):this.bindings.push(this.gui.addBinding(this.api,"width",{readonly:!0}),this.gui.addBinding(this.api,"height",{readonly:!0}),this.gui.addBinding(this.api,"pixelRatio",{readonly:!0}))};this.gui.addBinding(t,"captureMode",{options:tn(Object.values(p))}).on("change",i),this.gui.addBinding(t,"captureType",{options:tn(Object.values(m))}),this.gui.addBinding(t,"fileType",{options:tn(Object.values(u))}),this.gui.addBinding(t,"quality",{min:0,max:1}),this.gui.addButton({title:"capture"}).on("click",()=>{t.capture()}),this.gui.addBinding(t.settings,"logoScale",{min:0,max:1}),this.gui.addBinding(t.settings,"logoOffset",{min:0}),i()}}class iP extends ee{constructor(e){super(e),this.gui=this.addFolder(e,{title:"Renderer"}),this.api.version=X.UZH,this.gui.addBinding(this.api,"version",{readonly:!0}),function(e,t){e.addBinding(t.shadowMap,"enabled",{label:"Shadow Map"})}(this.gui,ee.state.renderer),function(e,t){e.addBinding(t.shadowMap,"type",{label:"Shadow Map Type",options:{Basic:X._MY,Pcf:X._iA,"Pcf Soft":X.ntZ}})}(this.gui,ee.state.renderer),function(e,t){e.addBinding(t,"toneMapping",{label:"Tone Mapping",options:{None:X.uL9,Linear:X.EoG,Neutral:X.ORg,Reinhard:X.CdI,Cineon:X.YGz,ACESFilmic:X.LY2,AgX:X.Bgp,Custom:X.dZ3}})}(this.gui,ee.state.renderer),function(e,t){e.addBinding(t,"toneMappingExposure",{step:.01,label:"Tone Mapping Exposure"})}(this.gui,ee.state.renderer),console.log("webgl","Threejs revision: ".concat(X.UZH))}}let ij={name:"TintPass",uniforms:{tDiffuse:{value:null},transition:{value:1},color:{value:new X.Ilk(0)}},vertexShader:"\n		varying vec2 vUv;\n\n		void main() {\n			vUv = uv;\n			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n		}",fragmentShader:"\n\n		uniform float transition;\n		uniform vec3 color;\n		uniform sampler2D tDiffuse;\n		varying vec2 vUv;\n\n		void main() {\n\n			vec4 texel = texture2D( tDiffuse, vUv );\n			gl_FragColor.rgb = mix(color, texel.rgb, transition);\n			gl_FragColor.a = 1.0;\n\n		}"};class iE extends tC.T{setTransition(e){this.material.uniforms.transition.value=e}animate(e,t){return 0===t?(this.setTransition(e),Promise.resolve(null)):new Promise(i=>{b.ZP.killTweensOf(this.material.uniforms.transition),b.ZP.to(this.material.uniforms.transition,{value:e,duration:t,ease:w.UT,onComplete:()=>{i(null)}})})}constructor(){super(ij)}}var iO=i(2975);class iB{}iB.Low="Low",iB.Medium="Medium",iB.High="High";class iT{get(e){switch(e){case iB.High:return this.high;case iB.Medium:return this.medium;default:return this.low}}constructor(){this.high={pixelRatio:X.M8C.clamp(window.devicePixelRatio,1,2),resolution:new X.FM8(1920,1080),fps:60,fpsUnlocked:!1},this.medium={pixelRatio:X.M8C.clamp(window.devicePixelRatio,1,2),resolution:new X.FM8(1920,1080),fps:60,fpsUnlocked:!1},this.low={pixelRatio:X.M8C.clamp(window.devicePixelRatio,1,2),resolution:new X.FM8(1920,1080),fps:60,fpsUnlocked:!1}}}var iR=new iT;let iI=[iB.Low,iB.Medium,iB.High];class iA extends X.pBf{async run(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gpuTier=await (0,iO.M)(t),"string"==typeof e&&iI.includes(e)?this.quality=e:(this.detected=this.tiers[X.M8C.clamp(this.gpuTier.tier-1,0,2)],this.quality=this.detected)}equals(e){return e===this.quality}getQualitySettings(){return iR.get(this._quality)}set quality(e){this._quality=e,this.dispatchEvent({type:"onQualityChange"})}get quality(){return this._quality}constructor(...e){super(...e),this._quality=iB.Low,this.detected=iB.Low,this.gpuTier={type:"BENCHMARK",tier:0,gpu:""},this.tiers=[iB.Low,iB.Medium,iB.High]}}let iF=new iA;class iD extends ee{constructor(e){var t;super(e),this.gui=this.addFolder(e,{title:"Detect GPU"}),(t=this.gui).addBinding(iF,"detected",{readonly:!0}),t.addBinding(iF.gpuTier,"gpu",{readonly:!0}),t.addBinding(iF.gpuTier,"tier",{readonly:!0})}}var iz=i(8606);let iZ=new X.CP7({antialias:!1,powerPreference:"high-performance",stencil:!1,alpha:!1}),iN=new iz.x(iZ);class iH extends X.pBf{async drawCanvasFromEffectComposer(){return new Promise(e=>{let t=iQ.debugCamera?this.scene.cameras.dev:this.scene.cameras.main,{width:i,height:a}=iL(this.renderer),s=t.aspect,n=this.renderer.getPixelRatio();t.aspect=this.screenshot.width/this.screenshot.height,t.updateProjectionMatrix(),this.fxaaPass.material.uniforms.resolution.value.x=1/(this.screenshot.width*this.screenshot.pixelRatio),this.fxaaPass.material.uniforms.resolution.value.y=1/(this.screenshot.height*this.screenshot.pixelRatio),this.postProcessing.setSize(this.screenshot.width,this.screenshot.height),this.aoPass.setSize(this.screenshot.width,this.screenshot.height),this.bloomPass.setSize(this.screenshot.width,this.screenshot.height),this.postProcessing.setPixelRatio(this.screenshot.pixelRatio),this.postProcessing.addPass(this.copyPass),this.postProcessing.render(),this.renderPassAccumulationTimeout=setTimeout(()=>{this.copyPassToRenderTarget.render(this.renderer,this.screenshot.renderTarget,this.postProcessing.writeBuffer,0,!1),this.screenshot.renderTargetHelper.update(this.renderer),this.postProcessing.removePass(this.copyPass),t.aspect=s,t.updateProjectionMatrix(),this.fxaaPass.material.uniforms.resolution.value.x=1/i,this.fxaaPass.material.uniforms.resolution.value.y=1/a,this.postProcessing.setSize(this.windowSize.x,this.windowSize.y),this.aoPass.setSize(this.windowSize.x,this.windowSize.y),this.bloomPass.setSize(this.windowSize.x,this.windowSize.y),this.postProcessing.setPixelRatio(n),this.screenshot.ctx&&this.screenshot.ctx.drawImage(this.screenshot.renderTargetHelper.canvas,0,0,this.screenshot.canvas.width,this.screenshot.canvas.height),e()})})}resize(e,t){let i=iF.getQualitySettings(),{width:a,height:s}=function(e,t,i,a){let s=Math.sqrt(i*a),n=s*s,o=e,r=t;if(e*t>n){let e=r/o,t=Math.sqrt(n/((o=s)*(r=Math.floor(s*e))));o=Math.floor(o*t),r=Math.floor(r*t)}return{width:o,height:r}}(e,t,i.resolution.x,i.resolution.y);iQ.maxResolution&&(a=e,s=t),this.resolution.set(a,s),this.windowSize.set(e,t),this.viewport.debug.set(0,0,this.resolution.x*this.viewportPreviewScale,this.resolution.y*this.viewportPreviewScale),this.viewport.main.set(0,0,this.resolution.x,this.resolution.y);let n=iF.getQualitySettings().pixelRatio;this.postProcessing.setPixelRatio(n),this.renderer.setPixelRatio(n),this.aoPass.setSize(a,s),this.bloomPass.setSize(a,s),this.renderer.setSize(a,s),this.postProcessing.setSize(a,s);let{width:o,height:r}=iL(this.renderer);this.fxaaPass.material.uniforms.resolution.value.x=1/o,this.fxaaPass.material.uniforms.resolution.value.y=1/r,this.scene.resize(a,s),this.renderer.domElement.style.width="".concat(e,"px"),this.renderer.domElement.style.height="".concat(t,"px")}setScene(e){this.scene=e}render(e){this.frameRate.update()&&(this.settings.stats&&this.stats.begin(),this.scene.update(e),iZ.clear(),iQ.debugCamera?(this.fxaaPass.enabled=!0,this.renderScene(this.scene.scene,this.scene.cameras.dev,this.viewport.main,e)):(this.fxaaPass.enabled=!0,this.renderScene(this.scene.scene,this.scene.cameras.main,this.viewport.main,e)),this.renderPreloader&&this.preloaderScene&&(this.preloaderScene.update(e),this.renderScene(this.preloaderScene.scene,this.preloaderScene.cameras.main,this.viewport.main,e)),this.settings.stats&&(this.dispatchEvent({type:"update"}),this.stats.end(),this.stats.update(),this.renderer.info.reset()))}setPreloaderScene(e){this.preloaderScene=e}dispose(){iZ.dispose()}constructor(e,t){var i;super(),i=this,this.viewport={debug:new X.Ltg,main:new X.Ltg},this.windowSize=new X.FM8(window.innerWidth,window.innerHeight),this.resolution=new X.FM8(1024,1024),this.viewportPreviewScale=.25,this.frameRate=new ix,this.settings={stats:(0,iw.d)("stats",window)},this.renderPassAccumulationTimeout=null,this.preloaderScene=null,this.renderPreloader=!1,this.onStateChange=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(e.state.graphics!==e.prev.graphics||t)&&(i.aoPass.enabled=e.state.graphics===w.TC.Quality),i.frameRate.limit=e.state.limitFrameRate,i.frameRate.fps=e.state.frameRate},this.onViewportEditModeChange=e=>{iQ.debugCamera=e.edit},this.onQualityModeChange=()=>{this.resize(this.windowSize.x,this.windowSize.y)},this.renderScene=(e,t,i,a)=>{this.renderer.setViewport(i),this.renderer.setScissor(i),this.renderpass.scene=e,this.renderpass.camera=t,this.aoPass.enabled&&(this.aoPass.scene=e,this.aoPass.camera=t),this.postProcessing.render(a)},this.renderer=e,this.postProcessing=t,this.renderer.toneMapping=X.ORg,this.renderer.shadowMap.enabled=!0,this.renderer.info.autoReset=!1,this.renderer.shadowMap.enabled=!0,this.renderer.setClearColor(0,1),this.renderer.setScissorTest(!1),this.renderer.toneMappingExposure=1,this.scene=new ig(e,"empty"),this.renderpass=new tw.C(this.scene.scene,this.scene.cameras.main),this.fxaaPass=new tC.T(tS.C),this.bloomPass=new tM.m(this.resolution,.2,.65,2),this.vignettePass=new tC.T(tk.E),this.vignettePass.uniforms.offset.value=.8,this.vignettePass.uniforms.darkness.value=1.5,this.bloomPass.enabled=!0,this.tintPass=new iE,this.aoPass=new ty.e(this.scene.scene,this.scene.cameras.main,this.resolution.x,this.resolution.y),this.aoPass.configuration.gammaCorrection=!1,this.aoPass.enabled=!0,this.aoPass.setQualityMode("Medium"),this.aoPass.configuration.intensity=w.XC.Exterior,this.aoPass.configuration.accumulate=!0,this.outputPass=new tb.v,this.copyPass=new tC.T(tL.C),this.copyPassToRenderTarget=new tC.T(tL.C),this.postProcessing.addPass(this.renderpass),this.postProcessing.addPass(this.aoPass),this.postProcessing.addPass(this.bloomPass),this.postProcessing.addPass(this.fxaaPass),this.postProcessing.addPass(this.outputPass),this.postProcessing.addPass(this.vignettePass),this.postProcessing.addPass(this.tintPass),iF.addEventListener("onQualityChange",this.onQualityModeChange),this.settings.stats&&(this.stats=new tx.Z({trackGPU:!0,trackHz:!0,trackCPT:!1,logsPerSecond:4,graphsPerSecond:30,samplesLog:40,samplesGraph:10,precision:2,horizontal:!1,minimal:!1,mode:0}),this.stats.init(this.renderer.domElement)),this.screenshot=new iS(e,1920,1080,2,this.scene.scene,this.scene.cameras.main),this.screenshot.drawCanvasFromEffectComposer=()=>this.drawCanvasFromEffectComposer(),t_.addEventListener(h.ViewportEditModeChanged,this.onViewportEditModeChange),td.addEventListener("change",this.onStateChange),td.trigger(()=>{this.onStateChange({state:td.state,prev:td.prev},!0)}),to.addEventListener("screenshot",()=>{let e=document.getElementById("screenshot-flash");e&&(e.style.opacity="1",b.ZP.killTweensOf(e),b.ZP.to(e,{opacity:0,ease:w.UT,duration:w.Zo,onStart:()=>{this.screenshot.capture()}}))})}}var iU=new iH(iZ,iN);class iV extends ee{constructor(e,t){var i,a,s,n,o,r;super(e),this.gui=this.addFolder(e,{title:"Render Manager"}),this.controllers.renderer=new iP(this.gui),this.controllers.detectGPU=new iD(this.gui),this.controllers.screenshot=new ik(this.gui,t.screenshot),this.controllers.frameRate=new ib(this.gui,t.frameRate),this.folders.passes=this.addFolder(this.gui,{title:"Passes"}),this.folders.fxaa=this.addFolder(this.folders.passes,{title:"FXAA"}),function(e,t){e.addBinding(t,"enabled")}(this.folders.fxaa,t.fxaaPass),this.folders.bloom=this.addFolder(this.folders.passes,{title:"Bloom"}),i=this.folders.bloom,a=t.bloomPass,i.addBinding(a,"enabled"),i.addBinding(a,"strength",{min:0,max:5}),i.addBinding(a,"threshold",{min:0,max:5}),i.addBinding(a,"radius",{min:0,max:1}),this.folders.vignette=this.addFolder(this.folders.passes,{title:"Vignette"}),s=this.folders.vignette,n=t.vignettePass,s.addBinding(n,"enabled"),s.addBinding(n.uniforms.offset,"value",{min:0,max:5}),s.addBinding(n.uniforms.darkness,"value",{min:0,max:5}),this.folders.ao=this.addFolder(this.folders.passes,{title:"Ambient Occlusion"}),o=this.folders.ao,r=t.aoPass,o.addBinding(r,"enabled"),o.addBinding(r.configuration,"aoRadius",{min:1,max:10}),o.addBinding(r.configuration,"distanceFalloff",{min:0,max:10}),o.addBinding(r.configuration,"intensity",{min:0,max:10}),o.addBinding(r.configuration,"aoSamples",{min:1,max:64,step:1}),o.addBinding(r.configuration,"denoiseRadius",{min:0,max:24}),o.addBinding(r.configuration,"denoiseSamples",{min:1,max:64,step:1}),o.addBinding(r.configuration,"color",{color:{type:"float"}}),this.folders.tint=this.addFolder(this.folders.passes,{title:"Tint"}),function(e,t){e.addBinding(t.material.uniforms.transition,"value",{min:0,max:1,label:"transition"})}(this.folders.tint,t.tintPass)}}let{publicRuntimeConfig:iG}=tv()(),iY=iG.assetPrefix;class iW extends X.pBf{serialize(){return{maxResolution:this.maxResolution,gui:this.gui,renderPreview:this.renderPreview,debugCamera:this.debugCamera,helpers:this.helpers,isDevelopment:this.isDevelopment,skipTransitions:this.skipTransitions}}save(){K.set("settings",this.serialize())}load(){let e=K.get("settings");e&&Object.assign(this,e),this.skipTransitions=!1,this.debugCamera=!1}constructor(){super(),this.baseUrl=iY,this.maxResolution=!1,this.gui=!0,this.renderPreview=!1,this.debugCamera=!1,this.helpers=!1,this.isDevelopment=!1,this.skipTransitions=!1,this.prodGUI=!0,this.sounds=!0,this.onChange=()=>{this.save(),this.dispatchEvent({type:"change"})},this.load()}}var iQ=new iW;class iX extends ee{constructor(e,t){super(e),this.gui=this.addFolder(e,{title:"Settings"}),this.gui.addBinding(t,"maxResolution").on("change",()=>{t.onChange(),iU.resize(window.innerWidth,window.innerHeight),(0,iw._)("maxResolution",t.maxResolution.toString(),window)}),this.gui.addBinding(t,"debugCamera").on("change",t.onChange),this.gui.addBinding(t,"renderPreview").on("change",t.onChange),this.gui.addBinding(t,"helpers").on("change",t.onChange),this.gui.addBinding(t,"skipTransitions").on("change",t.onChange)}}var iq=i(2003),iJ=i(512),iK=i(8388);let i$=(0,iq.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"text-white",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"px-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i0=v.forwardRef((e,t)=>{let{className:i,variant:a,size:s,...n}=e;return(0,f.jsx)("button",{className:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,iK.m6)((0,iJ.W)(t))}(i$({variant:a,size:s,className:i})),ref:t,...n})});i0.displayName="Button",(d=g||(g={})).Car="Car Model",d.CarDoors="Open Doors",d.PaintColor="Paint Color",d.BrakeColor="Brake Color",d.Iridescence="Paint Iridescence",d.HeadLights="Lights",d.Livery="Livery",d.Camera="Car Interior",d.FloorGrid="Floor Grid",d.BackgroundTheme="Background",d.Graphics="Graphics Quality",d.Sound="Sound",d.Settings="Settings",d.Screenshot="Take Picture";var i1=()=>{let{carModel:e,headLights:t,tailLights:i,grid:a,paintColor:s,livery:n,brakeColor:o,cameraMode:r,graphics:l,backgroundTheme:d,setHeadLights:h,setTailLights:c,setGrid:p,setPaintColor:m,setBrakeColor:u,setCameraMode:_,setGraphics:y,setBackgroundTheme:A,setLivery:D,settings:z,setSettings:Z,setCarModel:N,sceneState:H,iridescence:U,setIridescence:V,sound:G,setSound:Y,setLeftDoor:W,setRightDoor:q,leftDoor:J,rightDoor:K}=(0,x.b)(),$=v.useRef(null),[ee,et]=(0,v.useState)(null),[ei,ea]=(0,v.useState)(null),es={"Car Model":R,"Paint Color":X.Ilk,"Brake Color":M,"Paint Iridescence":B,Lights:L,"Car Interior":T,"Floor Grid":S,Background:k,"Graphics Quality":j,"Take Picture":P,Livery:F,Sound:E,"Open Doors":O,Settings:I},en=Object.values(g);Q.device.mobile&&(en.splice(en.indexOf("Settings"),1),en.splice(en.indexOf("Take Picture"),1),en.splice(en.indexOf("Brake Color"),1),en.splice(en.indexOf("Floor Grid"),1));let eo=w.Wl[e],er=w.Wn[e],el=()=>V(!U),ed=()=>Z(!z),eh=()=>{h(!t),c(!i)},ec=()=>p(!a),ep=()=>y(l===w.TC.Performance?w.TC.Quality:w.TC.Performance),em=()=>_(r===w.VC.Interior?w.VC.Exterior:w.VC.Interior),eu=()=>{W(!J),q(!K)},eg=()=>{Y(!G)};return(0,v.useEffect)(()=>{b.ZP.to($.current,{delay:0,duration:w.Zo,autoAlpha:H===w.ou.Interaction?1:0,ease:w.UT})},[H]),(0,v.useEffect)(()=>{let e=e=>{$.current&&!$.current.contains(e.target)&&et(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,f.jsx)("div",{className:"glass control-panel p-2 fixed z-10 bottom-6 left-1/2 transform -translate-x-1/2 flex flex-wrap justify-center",ref:$,style:{opacity:"0"},children:en.map((i,h)=>{let c=!1;switch(i){case"Lights":c=t;break;case"Floor Grid":c=a;break;case"Settings":c=z;break;case"Car Interior":c=r===w.VC.Interior;break;case"Livery":c=ee===i&&"Livery"===i;break;case"Paint Iridescence":c=U;break;case"Graphics Quality":c=l===w.TC.Quality;break;case"Open Doors":c=J&&K;break;case"Sound":c=G;break;case"Car Model":c=ee===i&&"Car Model"===i;break;case"Paint Color":c=ee===i&&"Paint Color"===i;break;case"Brake Color":c=ee===i&&"Brake Color"===i}let p=Object.values(w.Oi);return(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)(i0,{variant:c?"secondary":"default",size:"default",disabled:e===w.Oi.Ferrari&&"Brake Color"===i||e===w.Oi.Ferrari&&"Open Doors"===i,className:"flex flex-col justify-center group",onMouseEnter:()=>{ea(i)},onMouseLeave:()=>{ea(null)},onClick:()=>{et(ee===i?null:i),ea(null),"Lights"===i?eh():"Sound"===i?eg():"Open Doors"===i?eu():"Paint Iridescence"===i?el():"Floor Grid"===i?ec():"Settings"===i?ed():"Graphics Quality"===i?ep():"Take Picture"===i?to.dispatchEvent({type:"screenshot"}):"Car Interior"===i&&em()},children:(0,f.jsx)("div",{className:"relative flex flex-col items-center",children:(0,f.jsxs)("span",{className:"icon icon-".concat(i.split(" ").join("-").toLowerCase()),children:[(0,f.jsx)("span",{className:"dot transition-all duration-500 ".concat(c?"opacity-1":"opacity-0")}),"Graphics Quality"===i?(0,f.jsx)(j,{active:l}):"Paint Color"===i?(0,f.jsx)(C,{activeColor:s,carModel:e}):"Brake Color"===i?(0,f.jsx)(M,{activeColor:o,carModel:e}):"Lights"===i?(0,f.jsx)(L,{active:t}):"Livery"===i?(0,f.jsx)(F,{className:"w-[50px] h-[50px]"}):"Floor Grid"===i?(0,f.jsx)(S,{active:a}):es[i]({className:""})]})})}),ei===i&&(0,f.jsxs)(tu.E.div,{className:"absolute left-1/2 transform -translate-x-1/2 bottom-full mb-0 p-2 bg-black text-white text-xs rounded shadow-lg text-center whitespace-nowrap border border-[#484848]",initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},children:[i,(0,f.jsxs)("div",{className:"absolute left-1/2 transform -translate-x-1/2 top-full flex justify-center",children:[(0,f.jsx)("div",{className:"w-0 h-0 border-l-4 border-l-transparent border-r-4 border-r-transparent border-t-4 border-t-black absolute"}),(0,f.jsx)("div",{className:"w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px] border-t-[#484848]"})," "]})]}),(0,f.jsxs)(tg.M,{children:[ee===i&&"Car Model"===i&&(0,f.jsx)(tu.E.div,{className:"glass bg-[#2D2D2D] fixed bottom-[130px] md:bottom-[140px] md:bottom-20 inset-x-2/4 transform -translate-x-1/2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:(0,f.jsx)("div",{className:"w-full flex justify-center",children:Object.keys(w.Oi).map((t,i)=>(0,f.jsx)(tu.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2,delay:.05*i},className:"relative flex flex-col items-center mx-1",children:(0,f.jsx)("div",{className:"flex justify-center items-center w-[80px] h-[80px] sm:w-[90px] sm:h-[90px] border-[1px] rounded-[8px] hover:border-white ".concat(e===p[i]?"border-white":"border-transparent"),children:(0,f.jsx)("button",{className:"w-[100%] h-[100%] flex items-center justify-center rounded-[8px] car-thumbnail",style:{backgroundImage:"url(".concat(iQ.baseUrl,"/assets/images/").concat(t.toLowerCase(),".jpg)"),backgroundSize:"100%",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",transform:"scale(1)"},onClick:()=>{N(p[i],n),et(null)}})})},i))})}),ee===i&&"Paint Color"===i&&(0,f.jsx)(tu.E.div,{className:"fixed bottom-[130px] md:bottom-[130px] inset-x-2/4 transform -translate-x-1/2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:(0,f.jsx)("div",{className:"w-full flex justify-center",children:eo.map((e,t)=>(0,f.jsx)(tu.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2,delay:.05*t},className:"",children:(0,f.jsx)("div",{className:"mx-0.5 flex justify-center items-center w-[32px] h-[32px] hover:border-white border-[1px] rounded-full ".concat(s===e?"border-white":"border-transparent"),children:(0,f.jsx)("button",{className:"w-[25px] h-[25px] md:w-[25px] rounded-full flex items-center justify-center",style:{background:"linear-gradient(\n                                120deg,\n                                ".concat(new X.Ilk(er[e]).lerp(new X.Ilk("white"),0).getStyle()," 0%, \n                                ").concat(new X.Ilk(er[e]).lerp(new X.Ilk("white"),.3).getStyle()," 50%, \n                                ").concat(new X.Ilk(er[e]).lerp(new X.Ilk("white"),0).getStyle()," 0%, \n                                ").concat(er[e]," 0%\n                              ), ").concat(er[e])},onClick:()=>{m(e)}})})},t))})}),ee===i&&"Brake Color"===i&&(0,f.jsx)(tu.E.div,{className:"fixed bottom-[130px] inset-x-2/4 transform -translate-x-1/2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:(0,f.jsx)("div",{className:"w-full flex justify-center",children:eo.map((e,t)=>(0,f.jsx)(tu.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2,delay:.05*t},className:"",children:(0,f.jsx)("div",{className:"mx-0.5 flex justify-center items-center w-[32px] h-[32px] hover:border-white border-[1px] rounded-full ".concat(o===e?"border-white":"border-transparent"),children:(0,f.jsx)("button",{className:"w-[25px] h-[25px] md:w-[25px] rounded-full flex items-center justify-center",style:{background:"linear-gradient(\n                                120deg,\n                                ".concat(new X.Ilk(er[e]).lerp(new X.Ilk("white"),0).getStyle()," 0%, \n                                ").concat(new X.Ilk(er[e]).lerp(new X.Ilk("white"),.3).getStyle()," 50%, \n                                ").concat(new X.Ilk(er[e]).lerp(new X.Ilk("white"),0).getStyle()," 0%, \n                                ").concat(er[e]," 0%\n                              ), ").concat(er[e])},onClick:()=>{u(e)}})})},e))})}),ee===i&&"Background"===i&&(0,f.jsx)(tu.E.div,{className:"fixed bottom-[130px] md:bottom-[130px] inset-x-2/4 transform -translate-x-1/2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:(0,f.jsx)("div",{className:"w-full flex justify-center",children:Object.keys(w.d9).map((e,t)=>{var i,a;let s=w.d9[e];return(0,f.jsx)(tu.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2,delay:.1*t},className:"relative flex flex-col items-center",children:(0,f.jsx)("div",{className:"mx-0.5 flex justify-center items-center w-[32px] h-[32px] hover:border-white border-[1px] rounded-full ".concat(d===e?"border-white":"border-transparent"),children:s===w.Eo.Gradient?(0,f.jsx)("button",{className:"w-[25px] h-[25px] md:w-[25px] rounded-full flex items-center justify-center",style:{background:"linear-gradient(to bottom, ".concat(null===(i=tc[e])||void 0===i?void 0:i.color0,", ").concat(null===(a=tc[e])||void 0===a?void 0:a.color1,")")},onClick:()=>{A(e)}}):s===w.Eo.Skybox?(0,f.jsx)("button",{className:"w-[25px] h-[25px] md:w-[25px] rounded-full flex items-center justify-center hdr-button",style:{background:"linear-gradient(to bottom, #ffffff, #b8b8b8)"},onClick:()=>{A(e)},children:"HDR"}):null})},e)})})}),ee===i&&"Livery"===i&&(0,f.jsx)(tu.E.div,{className:"fixed bottom-[130px] md:bottom-[130px] inset-x-2/4 transform -translate-x-1/2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:(0,f.jsx)("div",{className:"w-full flex justify-center",children:Object.values(w.QL).map((t,i)=>(0,f.jsx)(tu.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2,delay:.1*i},className:"hi relative flex flex-col items-center",children:(0,f.jsx)("div",{className:"mx-0.5 flex justify-center items-center w-[32px] h-[32px] hover:border-white border-[1px] rounded-full ".concat(t===n?"border-white":"border-transparent"),children:(0,f.jsx)("button",{className:"w-[25px] h-[25px] md:w-[25px] rounded-full flex items-center justify-center hdr-button",style:{backgroundImage:"url(".concat(iQ.baseUrl,"/assets/images/").concat(t.toLowerCase(),"-livery.png)"),backgroundSize:"100%"},onClick:()=>{D(t,e)}})})},t))})})]})]},h)})})},i2=()=>{let{setCameraMode:e,setSceneState:t,setCarTransition:i,setCarModel:a,setBackgroundTheme:s,setHeadLights:n,setLeftDoor:o,setRightDoor:r,setPaintColor:l,setBrakeColor:d,setGraphics:h,setGrid:c,setIridescence:p,setLivery:m,setHeadLightColor:u,setTailLights:g,setSettings:f,setRotateBackground:_,setFrameRate:y,setLimitFrameRate:b,setRotateCar:w,setSound:C,livery:M}=(0,x.b)();(0,v.useEffect)(()=>{let v=e=>{a(e.value,M)},x=e=>s(e.value),L=e=>i(e.value),S=e=>n(e.value),k=e=>g(e.value),P=e=>o(e.value),j=e=>r(e.value),E=e=>l(e.value),O=e=>d(e.value),B=t=>e(t.value),T=e=>h(e.value),R=e=>c(e.value),I=e=>p(e.value),A=e=>{m(e.value,e.carModel)},F=e=>t(e.value),D=e=>u(e.value),z=e=>f(e.value),Z=e=>_(e.value),N=e=>y(e.value),H=e=>b(e.value),U=e=>w(e.value),V=e=>C(e.value);return to.addEventListener("carModel",v),to.addEventListener("backgroundTheme",x),to.addEventListener("carTransition",L),to.addEventListener("headLights",S),to.addEventListener("tailLights",k),to.addEventListener("leftDoor",P),to.addEventListener("rightDoor",j),to.addEventListener("paintColor",E),to.addEventListener("brakeColor",O),to.addEventListener("cameraMode",B),to.addEventListener("graphics",T),to.addEventListener("grid",R),to.addEventListener("iridescence",I),to.addEventListener("livery",A),to.addEventListener("sceneState",F),to.addEventListener("headLightColor",D),to.addEventListener("settings",z),to.addEventListener("rotateBackground",Z),to.addEventListener("frameRate",N),to.addEventListener("limitFrameRate",H),to.addEventListener("rotateCar",U),to.addEventListener("sound",V),()=>{to.removeEventListener("carModel",v),to.removeEventListener("backgroundTheme",x),to.removeEventListener("carTransition",L),to.removeEventListener("headLights",S),to.removeEventListener("tailLights",k),to.removeEventListener("leftDoor",P),to.removeEventListener("rightDoor",j),to.removeEventListener("paintColor",E),to.removeEventListener("brakeColor",O),to.removeEventListener("cameraMode",B),to.removeEventListener("graphics",T),to.removeEventListener("grid",R),to.removeEventListener("iridescence",I),to.removeEventListener("livery",A),to.removeEventListener("sceneState",F),to.removeEventListener("headLightColor",D),to.removeEventListener("settings",z),to.removeEventListener("rotateBackground",Z),to.removeEventListener("frameRate",N),to.removeEventListener("limitFrameRate",H),to.removeEventListener("rotateCar",U),to.removeEventListener("sound",V)}},[M])},i3=e=>{let{carModel:t,headLights:i,tailLights:a,paintColor:s,cameraMode:n,grid:o,graphics:r,brakeColor:l,backgroundTheme:d,livery:h,iridescence:c,sceneState:p,headLightColor:m,carTransition:u,leftDoor:g,rightDoor:f,settings:_,introSeen:y,rotateBackground:b,frameRate:w,limitFrameRate:C,rotateCar:M,sound:L}=(0,x.b)();(0,v.useEffect)(()=>{if(!e.current)return;let v={};void 0!==t&&(v.carModel=t),void 0!==p&&(v.sceneState=p),void 0!==n&&(v.cameraMode=n),void 0!==i&&(v.headLights=i),void 0!==a&&(v.tailLights=a),void 0!==g&&(v.leftDoor=g),void 0!==f&&(v.rightDoor=f),void 0!==o&&(v.grid=o),void 0!==s&&(v.paintColor=s),void 0!==l&&(v.brakeColor=l),void 0!==r&&(v.graphics=r),void 0!==d&&(v.backgroundTheme=d),void 0!==h&&(v.livery=h),void 0!==c&&(v.iridescence=c),void 0!==m&&(v.headLightColor=m),void 0!==u&&(v.carTransition=u),void 0!==_&&(v.settings=_),void 0!==y&&(v.introSeen=y),void 0!==b&&(v.rotateBackground=b),void 0!==w&&(v.frameRate=w),void 0!==C&&(v.limitFrameRate=C),void 0!==M&&(v.rotateCar=M),void 0!==L&&(v.sound=L),e.current.onValuesChange(v)},[t,i,s,l,n,a,d,o,r,h,c,p,m,u,g,f,_,y,b,w,C,M,L])};class i5{update(){this._delta=this.clock.getDelta(),this._time=this.clock.elapsedTime,this._time>60*this.maxTime&&(this._time=0,this.clock.start())}updateManual(e){this._delta=e,this._time+=e}get delta(){return this._delta}get elapsedTime(){return this._time}constructor(){this._delta=0,this._time=0,this.clock=new X.SUY(!0),this.maxTime=20}}let i7=new i5;var i4=i(2264);class i8 extends ee{getMaxMemory(){return Math.round(window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0)}getCurrentMemory(){return Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0)}dispose(){super.dispose()}constructor(e,t,i){super(e),this.renderer=t,this.stats=i,this.lastTime=Date.now(),this.info={fps:"",ms:"",gpu:"",programs:"",geometries:"",textures:"",calls:"",triangles:"",lines:"",points:"",memory:""},this.update=()=>{var e;!(Date.now()-this.lastTime<1e3/30)&&this.renderer&&(this.lastTime=Date.now(),this.info.programs="".concat(null===(e=this.renderer.info.programs)||void 0===e?void 0:e.length),this.info.geometries="".concat(this.renderer.info.memory.geometries),this.info.textures="".concat(this.renderer.info.memory.textures),this.info.calls="".concat(this.renderer.info.render.calls),this.info.triangles="".concat(this.renderer.info.render.triangles),this.info.lines="".concat(this.renderer.info.render.lines),this.info.points="".concat(this.renderer.info.render.points),this.info.memory="".concat(this.getCurrentMemory(),"mb/").concat(this.getMaxMemory(),"mb"))},this.gui=this.addFolder(e,{title:"Performance Monitor"}),this.folders.stats=this.addFolder(this.gui,{title:"Stats"}),this.folders.info=this.addFolder(this.gui,{title:"Content"}),this.folders.info.expanded=!1,this.folders.info.addBinding(this.info,"programs",{readonly:!0}),this.folders.info.addBinding(this.info,"geometries",{readonly:!0}),this.folders.info.addBinding(this.info,"textures",{readonly:!0}),this.folders.info.addBinding(this.info,"calls",{readonly:!0}),this.folders.info.addBinding(this.info,"triangles",{readonly:!0}),this.folders.info.addBinding(this.info,"lines",{readonly:!0}),this.folders.info.addBinding(this.info,"points",{readonly:!0}),window.performance.memory&&this.folders.info.addBinding(this.info,"memory",{readonly:!0});let a=this.folders.stats.addBinding(this.info,"fps",{readonly:!0}),s=this.folders.stats.addBinding(this.info,"ms",{readonly:!0});a.controller.view.valueElement.children[0].querySelectorAll("input")[0].replaceWith(i.fpsPanel.canvas),s.controller.view.valueElement.children[0].querySelectorAll("input")[0].replaceWith(i.msPanel.canvas),i.gpuPanel&&this.folders.stats.addBinding(this.info,"gpu",{readonly:!0}).controller.view.valueElement.children[0].querySelectorAll("input")[0].replaceWith(i.gpuPanel.canvas)}}let i9=[new ei({id:"floor-roughness",src:"".concat(iQ.baseUrl,"/assets/webgl/textures/floor-roughness-").concat(Q.device.desktop?"2048":"1024",".ktx2"),type:et.Ktx2Texture}),new ei({id:"otherlife-logo",src:"".concat(iQ.baseUrl,"/assets/webgl/textures/ol-logo-").concat(Q.device.desktop?"512":"256",".png"),type:et.Texture}),new ei({id:"moonpay-logo",src:"".concat(iQ.baseUrl,"/assets/webgl/textures/moonpay-logo-").concat((Q.device.desktop,"512"),".png"),type:et.Texture}),new ei({id:"okaydev-logo",src:"".concat(iQ.baseUrl,"/assets/webgl/textures/okay-dev-logo-").concat((Q.device.desktop,"512"),".png"),type:et.Texture}),new ei({id:"helio-logo",src:"".concat(iQ.baseUrl,"/assets/webgl/textures/helio-logo-").concat((Q.device.desktop,"512"),".png"),type:et.Texture}),new ei({id:"moonpay-decal-0",src:"".concat(iQ.baseUrl,"/assets/webgl/textures/moonpay-decal-0-").concat(Q.device.desktop?"512":"256",".png"),type:et.Texture}),new ei({id:"moonpay-decal-1",src:"".concat(iQ.baseUrl,"/assets/webgl/textures/moonpay-decal-1-").concat(Q.device.desktop?"512":"256",".png"),type:et.Texture}),new ei({id:"moonpay-decal-2",src:"".concat(iQ.baseUrl,"/assets/webgl/textures/moonpay-decal-2-").concat(Q.device.desktop?"512":"256",".png"),type:et.Texture}),new ei({id:"okaydev-decal-0",src:"".concat(iQ.baseUrl,"/assets/webgl/textures/okay-dev-decal-0-").concat(Q.device.desktop?"512":"256",".png"),type:et.Texture}),new ei({id:"okaydev-decal-1",src:"".concat(iQ.baseUrl,"/assets/webgl/textures/okay-dev-decal-1-").concat(Q.device.desktop?"512":"256",".png"),type:et.Texture}),new ei({id:"helio-decal-0",src:"".concat(iQ.baseUrl,"/assets/webgl/textures/helio-decal-0-").concat(Q.device.desktop?"512":"256",".png"),type:et.Texture}),new ei({id:"helio-decal-1",src:"".concat(iQ.baseUrl,"/assets/webgl/textures/helio-decal-1-").concat(Q.device.desktop?"512":"256",".png"),type:et.Texture}),new ei({id:"helio-decal-2",src:"".concat(iQ.baseUrl,"/assets/webgl/textures/helio-decal-2-").concat(Q.device.desktop?"512":"256",".png"),type:et.Texture}),new ei({id:"screenshot-overlay",src:"".concat(iQ.baseUrl,"/assets/webgl/textures/screenshot-overlay.png"),type:et.Image}),new ei({id:"screenshot-disclaimer",src:"".concat(iQ.baseUrl,"/assets/webgl/textures/screenshot-disclaimer.png"),type:et.Image}),new ei({id:"hdr-environment",src:"".concat(iQ.baseUrl,"/assets/webgl/textures/warehouse-").concat(Q.device.desktop?"4k":"2k",".hdr.jpg"),type:et.UltraHDRTexture})];iQ.sounds&&i9.push(new ei({id:"ambient",src:"".concat(iQ.baseUrl,"/assets/sounds/ambient.mp3"),type:et.Sound}),new ei({id:"camera",src:"".concat(iQ.baseUrl,"/assets/sounds/camera.wav"),type:et.Sound}),new ei({id:"car-door-open",src:"".concat(iQ.baseUrl,"/assets/sounds/car-door-open.mp3"),type:et.Sound}),new ei({id:"car-door-close",src:"".concat(iQ.baseUrl,"/assets/sounds/car-door-close.mp3"),type:et.Sound}));let i6={id:w.de.Global,assets:i9};class ae extends tt{constructor(e){super(),this.group=new X.Tme,this.addComponent(new te(e)),this.addComponent(new tB(new X.Rki(e)))}}class at extends t2{toggleHeadLights(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.35,s=e.getComponent(tZ.type);s&&s.toggleHeadLights(t,i,a)}toggleTailLights(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.35,s=e.getComponent(tZ.type);s&&s.toggleTailLights(t,i,a)}onEnter(e){}constructor(){var e;super([tZ.type]),e=this,this.onCarHeadLights=e=>{this.entities.forEach(t=>{this.toggleHeadLights(t,e.lights,e.animate)})},this.onCarTailLights=e=>{this.entities.forEach(t=>{this.toggleTailLights(t,e.lights,e.animate)})},this.onStateChange=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.state.carModel===t.prev.carModel&&((t.state.headLights!==t.prev.headLights||t.state.headLightColor!==t.prev.headLightColor||i)&&e.entities.forEach(i=>{e.toggleHeadLights(i,t.state.headLights,!0)}),(t.state.tailLights!==t.prev.tailLights||i)&&e.entities.forEach(i=>{e.toggleTailLights(i,t.state.tailLights,!0)}))},td.addEventListener("change",this.onStateChange),to.addEventListener("carHeadLights",this.onCarHeadLights),to.addEventListener("carTailLights",this.onCarTailLights),td.trigger(()=>{this.onStateChange({state:td.state,prev:td.prev},!0)})}}class ai extends t2{updateColor(e,t,i){let a=e.getComponent(tH.type);a&&a.updateColor(w.Wn[t][i])}onEnter(e){this.updateColor(e,td.state.carModel,td.state.paintColor)}constructor(){var e;super([tH.type]),e=this,this.onStateChange=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!t.state.carTransition&&(t.state.paintColor!==t.prev.paintColor||i)&&e.entities.forEach(i=>{e.updateColor(i,t.state.carModel,t.state.paintColor)})},td.addEventListener("change",this.onStateChange)}}class aa extends t2{updateColor(e,t,i){let a=e.getComponent(tV.type);a&&a.updateColor(w.Wn[t][i])}onEnter(e){this.updateColor(e,td.state.carModel,td.state.paintColor)}constructor(){var e;super([tV.type]),e=this,this.onStateChange=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!t.state.carTransition&&(t.state.paintColor!==t.prev.paintColor||i)&&e.entities.forEach(i=>{e.updateColor(i,t.state.carModel,t.state.paintColor)})},td.addEventListener("change",this.onStateChange)}}var as=JSON.parse('{"position":[0,0.625,-2.09],"scale":[0.4,0.4,0.4],"rotation":[0,0,0,"XYZ"]}'),an=JSON.parse('{"position":[0,1.145,2.25],"scale":[1,1,1],"rotation":[-1.2793263417118437,0,0,"XYZ"]}'),ao=JSON.parse('{"position":[0,1.145,2.25],"scale":[1,1,1],"rotation":[-1.2793263417118437,0,0,"XYZ"]}'),ar=JSON.parse('{"position":[-3.980000000000001,0.2932905404401064,-1.61],"scale":[1,1,1],"rotation":[0,-1.5079644737231008,0,"XYZ"]}'),al=JSON.parse('{"position":[-2.86,0.296,-1.72],"scale":[1,1,1],"rotation":[0.09599310885968812,-1.5079644737231008,0,"XYZ"]}');let ad={position:[0,0,0],licensePlate:{transform:as},decals:{right:{asset:{[w.QL.MoonPay]:"decal-1",[w.QL.OkayDev]:"decal-1",[w.QL.Helio]:"decal-0"},parent:"",parts:["Object_10"],transform:{[w.QL.MoonPay]:ar,[w.QL.OkayDev]:al,[w.QL.Helio]:al},fov:6.17,useDotProductDiscard:!0},front:{asset:{[w.QL.MoonPay]:"decal-2",[w.QL.Helio]:"decal-1"},parent:"",parts:["Object_9"],transform:{[w.QL.MoonPay]:ao,[w.QL.Helio]:an},fov:45,useDotProductDiscard:!1}},materials:{paint:["Object_9","Object_10"],paintRoughness:.5,paintMetalness:.8,trim:[],headLights:{Object_42:{emissive:new X.Ilk(16777215),emissiveIntensity:50}},tailLights:{Object_7:{emissive:new X.Ilk(15681280),emissiveIntensity:35}},brakes:["3_Wheel001_amdb11_caliper002_0","3_Wheel003_amdb11_caliper002_0","3_Wheel007_amdb11_caliper002_0","3_Wheel005_amdb11_caliper002_0"],removeMaps:[],overrides:{chasis:{parts:["Object_27"],color:0,roughness:1,metalness:0},rearLightsOuterOrange:{parts:["Object_43"],roughness:.35,metalness:.5},rearLightsOuterRed:{parts:["Object_7"],roughness:.35,metalness:.5},rearLightsInner:{parts:["Object_8002","Object_8001"],color:16738304,roughness:0,metalness:.05},rearLightsInner2:{parts:["Object_8003"],roughness:.26,metalness:.28},rims:{parts:["Object_30","Object_31"],color:13619151,roughness:.28,metalness:1},rearBottomLightsInner:{parts:["Object_35"],color:16738304,roughness:0,metalness:.05},seatBelt:{parts:["Object_18"],color:2039583,roughness:.78,metalness:.41},wheel:{parts:["Object_20","Object_5"],color:12566463,roughness:.28,metalness:1},dashBack:{parts:["Object_41"],color:12763842},dashStickers:{parts:["Object_35"],roughness:1,metalness:.76},cockPit:{parts:["Object_15"],roughness:.48},rearUnderneath:{parts:["Object_26"],roughness:.5},plasticChasis:{parts:["Object_12"],roughness:.25},logos:{parts:["Object_25"],color:3092271},engine:{parts:["Object_28"],color:9211020,roughness:0,metalness:1}}},doors:{left:{parts:[],closed:{transform:{position:[0,0,0],scale:[1,1,1],rotation:[0,0,0,"XYZ"]}},open:{transform:{position:[0,0,0],scale:[1,1,1],rotation:[0,0,0,"XYZ"]}}},right:{parts:[],closed:{transform:{position:[0,0,0],scale:[1,1,1],rotation:[0,0,0,"XYZ"]}},open:{transform:{position:[0,0,0],scale:[1,1,1],rotation:[0,0,0,"XYZ"]}}}},lights:{front:{color:16777215,intensity:3,distance:0,angle:.98,penumbra:.35,decay:0,position:[-.6,.47,2.2],target:[0,-4.1,22]},back0:{color:16726329,intensity:1,distance:0,angle:1.5,penumbra:1,decay:0,position:[-.56,.63,-2.15],target:[0,-4.1,-22]}}};var ah=JSON.parse('{"position":[0,0.3610162513699981,-1.9783433071534349],"scale":[0.37,0.37,0.37],"rotation":[-0.08190040811340395,0,0,"XYZ"]}'),ac=JSON.parse('{"position":[0.02999999999999975,1.2,2.325],"scale":[1,1,1],"rotation":[-1.1778003921987998,0,0,"XYZ"]}'),ap=JSON.parse('{"position":[1.43,0.4621707778719507,0.25914545657837884],"scale":[1,1,1],"rotation":[0,1.5707963267948966,0,"XYZ"]}'),am=JSON.parse('{"position":[-1.5221477187632821,0.45382044751163875,0.23005058471600381],"scale":[1,1,1],"rotation":[0,-1.5707963267948966,0,"XYZ"]}'),au=JSON.parse('{"position":[0.02999999999999975,1.2,2.325],"scale":[1,1,1],"rotation":[-1.1778003921987998,0,0,"XYZ"]}'),ag=JSON.parse('{"position":[1.43,0.4621707778719507,0.25914545657837884],"scale":[1,1,1],"rotation":[0,1.5707963267948966,0,"XYZ"]}'),af=JSON.parse('{"position":[-1.6221477187632822,0.47382044751163876,0.1600505847160038],"scale":[1,1,1],"rotation":[0,-1.5707963267948966,0,"XYZ"]}'),av=JSON.parse('{"position":[1.43,0.4621707778719507,0.24914545657837886],"scale":[1,1,1],"rotation":[-0.024434609527920616,1.5707963267948966,0,"XYZ"]}'),a_=JSON.parse('{"position":[-1.3221477187632822,0.4238204475116388,0.1600505847160038],"scale":[1,1,1],"rotation":[0.07155849933176751,-1.5707963267948966,0,"XYZ"]}');let ay={position:[0,0,0],licensePlate:{transform:ah},decals:{left:{asset:{[w.QL.MoonPay]:"decal-0",[w.QL.OkayDev]:"decal-0",[w.QL.Helio]:"decal-0"},parent:"gallardo_door_L_gallardo_paint_0",parts:["gallardo_door_L_gallardo_paint_0","gallardo_doorlivery_L_sl_gallardo_flag_it_0","gallardo_doorlivery_L_sl_gallardo_badge_sl_0"],transform:{[w.QL.MoonPay]:ag,[w.QL.OkayDev]:av,[w.QL.Helio]:ap},fov:45,useDotProductDiscard:!1},right:{asset:{[w.QL.MoonPay]:"decal-1",[w.QL.OkayDev]:"decal-1",[w.QL.Helio]:"decal-1"},parent:"gallardo_door_R_gallardo_paint_0",parts:["gallardo_door_R_gallardo_paint_0","gallardo_doorlivery_R_sl_gallardo_flag_it_0","gallardo_doorlivery_R_sl_gallardo_badge_sl_0"],transform:{[w.QL.MoonPay]:af,[w.QL.OkayDev]:a_,[w.QL.Helio]:am},fov:45,useDotProductDiscard:!1},front:{asset:{[w.QL.MoonPay]:"decal-2",[w.QL.Helio]:"decal-1"},parent:"",parts:["gallardo_hood_b_gallardo_paint_0"],transform:{[w.QL.MoonPay]:au,[w.QL.Helio]:ac},fov:45,useDotProductDiscard:!1}},materials:{paint:["gallardo_body_gallardo_paint_0","gallardo_hood_b_gallardo_paint_0","gallardo_bumper_F_LW_gallardo_cf_0","gallardo_bumper_F_LW_gallardo_paint_0","gallardo_fenderflare_FL_gallardo_paint_0","gallardo_fender_L_gallardo_paint_0","gallardo_door_L_gallardo_paint_0","gallardo_fenderflare_RL_gallardo_paint_0","gallardo_bumper_R_LW_gallardo_paint_0","gallardo_spoiler_LW2_gallardo_paint_0","gallardo_spoiler_LW2_gallardo_cf_0","gallardo_spoiler_gallardo_paint_0","gallardo_tailgate_gallardo_paint_0","gallardo_fenderflare_RR_gallardo_paint_0","gallardo_door_R_gallardo_paint_0","gallardo_fenderflare_FR_gallardo_paint_0","gallardo_fender_R_gallardo_paint_0"],paintRoughness:.35,paintMetalness:.3,trim:[],headLights:{gallardo_headlight_L_gallardo_signal_L_0:{emissive:new X.Ilk(9408399),emissiveIntensity:50},gallardo_headlight_R_gallardo_headlight_0:{emissive:new X.Ilk(9408399),emissiveIntensity:50},gallardo_headlight_R_gallardo_runninglight_0:{emissive:new X.Ilk(9408399),emissiveIntensity:50},gallardo_headlight_R_gallardo_signal_R_0:{emissive:new X.Ilk(9408399),emissiveIntensity:50}},tailLights:{gallardo_taillight_R_gallardo_taillight_L001_0:{emissive:new X.Ilk(12921344),emissiveIntensity:150},gallardo_taillight_L_gallardo_taillight_L001_0:{emissive:new X.Ilk(12921344),emissiveIntensity:150},gallardo_spoiler_gallardo_chmsl_0:{emissive:new X.Ilk(12921344),emissiveIntensity:50}},removeMaps:[],brakes:["3_Wheel_amdb11_caliper001_0","3_Wheel001_amdb11_caliper001_0","3_Wheel003_amdb11_caliper001_0","3_Wheel002_amdb11_caliper001_0"],overrides:{bumper:{parts:["gallardo_bumper_F_LW_valance_gallardo_cf_0"],color:0,roughness:.14,metalness:.68},backBumper:{parts:["gallardo_bumper_R_LW_diffuser_gallardo_cf_0"],color:0,roughness:.23,metalness:.5},backGrill:{parts:["gallardo_bumper_R_LW_mesh_gallardo_turbo_matblack_0"],color:0,roughness:1,metalness:.13,clearcoat:.12},exhaust:{parts:["gallardo_exhaust_quad_gallardo_misc_0"],color:15724527},wheel:{parts:["gallardo_steer_gallardo_steeringwheel_0"],color:8158332,roughness:.77,metalness:1},wheel2:{parts:["gallardo_steer_gallardo_cf_0"],color:12961221},seats:{parts:["gallardo_seat_FL_sl_gallardo_alcantara_0","gallardo_seat_FR_sl_gallardo_alcantara_0"],color:789516,roughness:.93,metalness:.27},dash:{parts:["gallardo_dash_gallardo_cf_0"],color:3092271,roughness:.67,metalness:.9},dashboardScreens:{parts:["gallardo_dash_gallardo_cockpit_on_0"],color:0,roughness:1,metalness:0},cockpit:{parts:["gallardo_dash_gallardo_cockpit_0"],color:2894892},dashboardGlass:{parts:["gallardo_gaugeglass_gallardo_glass_0"],color:3750201,roughness:.9,metalness:1},gaugesGlass:{parts:["gallardo_gauges_gallardo_gauges_0"],color:4144959},gaugesGlass2:{parts:["gallardo_gauges_gallardo_gauges_0002"],color:6447714,metalness:.89},gauges:{parts:["gallardo_gauges_gallardo_gauges_0001"],color:11416624,roughness:1,metalness:.76},alcantara:{parts:["gallardo_body_gallardo_alcantara_0"],color:0,roughness:.88,metalness:.66},wheels:{parts:["gallardo_wheel_02a_19x11_gallardo_wheel_01a_0","gallardo_wheel_02a_19x11001_gallardo_wheel_01a_0","gallardo_wheel_02a_19x11002_gallardo_wheel_01a_0","gallardo_wheel_02a_19x11003_gallardo_wheel_01a_0"],color:9408399,roughness:.24,metalness:1},plasticFrame:{parts:["gallardo_body_gallardo_misc_0"],roughness:.7,metalness:1}}},doors:{left:{parts:["gallardo_door_L_gallardo_paint_0","gallardo_mirror_L_cf_gallardo_cf_0","gallardo_doorpanel_L_gallardo_leather_quilted_0","gallardo_doorglass_L_tinted_gallardo_glass_tinted_0","gallardo_door_L_gallardo_misc_0","gallardo_doorpanel_L_gallardo_leather_0","gallardo_mirror_L_cf_mirror_0","gallardo_doorpanel_L_gallardo_cf_0","gallardo_doorpanel_L_gallardo_mesh_0"],closed:{transform:{position:[.8079970000000001,.600264,.727491],scale:[1,1,1],rotation:[0,0,0,"XYZ"]}},open:{transform:{position:[.8079970000000001,.600264,.727491],scale:[1,1,1],rotation:[0,-X.M8C.degToRad(60),0,"XYZ"]}}},right:{parts:["gallardo_door_R_gallardo_paint_0","gallardo_mirror_R_cf_gallardo_cf_0","gallardo_doorpanel_R_gallardo_leather_quilted_0","gallardo_doorglass_R_tinted_gallardo_glass_tinted_0","gallardo_door_R_gallardo_misc_0","gallardo_doorpanel_R_gallardo_leather_0","gallardo_mirror_R_cf_mirror_0","gallardo_doorpanel_R_gallardo_cf_0","gallardo_doorpanel_R_gallardo_mesh_0"],closed:{transform:{position:[-.8079970000000001,.600264,.727491],scale:[1,1,1],rotation:[0,0,0,"XYZ"]}},open:{transform:{position:[-.8079970000000001,.600264,.727491],scale:[1,1,1],rotation:[0,-X.M8C.degToRad(-60),0,"XYZ"]}}}},lights:{front:{color:9408399,intensity:3,distance:0,angle:.98,penumbra:.35,decay:0,position:[.69,.54,2.1],target:[0,-4.1,22]},back:{color:12921344,intensity:2,distance:0,angle:1.5,penumbra:1,decay:0,position:[.54,.74,-1.9],target:[0,-4.1,-22]}}};var ax=JSON.parse('{"position":[0,0.34,-2.010155418966891],"scale":[0.4,0.4,0.4],"rotation":[0.24037692049037632,0,0,"XYZ"]}'),ab=JSON.parse('{"position":[0.02999999999999975,0.85,2.35],"scale":[1,1,1],"rotation":[-1.1778003921987998,0,0,"XYZ"]}'),aw=JSON.parse('{"position":[1.0754383623375612,0.5725833330325473,-0.22286605029951784],"scale":[1,1,1],"rotation":[-1.5707963267948934,1.5067801164910224,1.5707963267948934,"XYZ"]}'),aC=JSON.parse('{"position":[0.02999999999999975,1.1333349061781446,2.468859957966228],"scale":[1,1,1],"rotation":[-1.1778003921987998,0,0,"XYZ"]}'),aM=JSON.parse('{"position":[1.0754383623375612,0.5725833330325473,-0.22286605029951784],"scale":[1,1,1],"rotation":[-1.5707963267948934,1.5067801164910224,1.5707963267948934,"XYZ"]}'),aL=JSON.parse('{"position":[-1.6169229086425854,0.41762425773738276,-0.7309381143377853],"scale":[1,1,1],"rotation":[0,-1.5707963267948966,0,"XYZ"]}'),aS=JSON.parse('{"position":[1.0754383623375612,0.5725833330325473,-0.22286605029951784],"scale":[1,1,1],"rotation":[-1.5707963267948934,1.5067801164910224,1.5707963267948934,"XYZ"]}'),ak=JSON.parse('{"position":[-1.25,0.5876242577373828,-0.7009381143377853],"scale":[1,1,1],"rotation":[-0.38571776469074687,-1.4660765716752369,-0.07278022980816354,"XYZ"]}');let aP={position:[0,.025,0],licensePlate:{transform:ax},decals:{left:{asset:{[w.QL.MoonPay]:"decal-0",[w.QL.OkayDev]:"decal-0",[w.QL.Helio]:"decal-0"},parent:"euansenna_door_L_sennapaintmain_0",parts:["euansenna_door_L_sennapaintmain_0","euansenna_doorpanel_L_a_grille_0"],transform:{[w.QL.MoonPay]:aM,[w.QL.OkayDev]:aS,[w.QL.Helio]:aw},fov:45,useDotProductDiscard:!1},left2:{asset:{[w.QL.MoonPay]:"decal-0",[w.QL.OkayDev]:"decal-0",[w.QL.Helio]:"decal-0"},parent:"euansenna_flank_L_sennapaintmain_0",parts:["euansenna_flank_L_sennapaintmain_0"],transform:{[w.QL.MoonPay]:aM,[w.QL.OkayDev]:aS,[w.QL.Helio]:aw},fov:45,useDotProductDiscard:!1},right:{asset:{[w.QL.MoonPay]:"decal-1",[w.QL.OkayDev]:"decal-1"},parent:"",parts:["euansenna_flank_R_sennapaintmain_0","euansenna_sideskirt_R_GTR_sennapaintmain_0"],transform:{[w.QL.MoonPay]:aL,[w.QL.OkayDev]:ak},fov:45,useDotProductDiscard:!0},front:{asset:{[w.QL.MoonPay]:"decal-2",[w.QL.Helio]:"decal-1"},parent:"",parts:["euansenna_hood_sennapaintmain_0"],transform:{[w.QL.MoonPay]:aC,[w.QL.Helio]:ab},fov:45,useDotProductDiscard:!1}},materials:{paint:["euansenna_hood_sennapaintmain_0","euansenna_fender_L_sennapaintmain_0","euansenna_bumper_F_sennapaintmain_0","euansenna_bumper_F_sennapaint_0","euansenna_door_L_sennapaintmain_0","euansenna_flank_L_sennapaintmain_0","euansenna_sideskirt_L_GTR_sennapaintmain_0","euansenna_wheel1paint_sennapaintmain_0","euansenna_sideskirt_L_GTR_sennapaintmain_0","euansenna_wheel1paint001_sennapaintmain_0","euansenna_flank_hardtop_sennapaintmain_0","euansenna_flank_R_sennapaintmain_0","euansenna_sideskirt_R_GTR_sennapaintmain_0","euansenna_wheel1paint003_sennapaintmain_0","euansenna_door_R_sennapaintmain_0","euansenna_fender_R_sennapaintmain_0","euansenna_wheel1paint002_sennapaintmain_0"],paintRoughness:.39,paintMetalness:1,trim:["euansenna_seat_FL_stig_stitching_0","euansenna_seat_FL_stig_dot3_0","euansenna_body_cuciture_0","euansenna_seat_FL_stitching_0","euansenna_seat_FL_dot3_0","euansenna_steer_stitching_0","euansenna_steer_steeringbadge_0","euansenna_seat_FR_dot3_0","euansenna_seat_FR_stitching_0"],removeMaps:[],headLights:{euansenna_headlight_L_euansenna_headlight_0:{emissive:new X.Ilk(4358379),emissiveIntensity:100},euansenna_headlight_R_euansenna_headlight_0:{emissive:new X.Ilk(4358379),emissiveIntensity:100},euansenna_bumper_F_euansenna_signal_L_5_0:{emissive:new X.Ilk(4358379),emissiveIntensity:100},euansenna_fender_L_euansenna_signal_L_2_0:{emissive:new X.Ilk(4358379),emissiveIntensity:100},euansenna_fender_R_euansenna_signal_R_2_0:{emissive:new X.Ilk(4358379),emissiveIntensity:100}},tailLights:{euansenna_flank_hardtop_euansenna_taillight_0:{emissive:new X.Ilk(14745604),emissiveIntensity:25},euansenna_flank_hardtop_senna_glass_0:{emissive:new X.Ilk(14745604),emissiveIntensity:25}},brakes:["amdb11_brakedisc_FR003_amdb11_caliper002_0","amdb11_brakedisc_FR001_amdb11_caliper002_0","amdb11_brakedisc_FR004_amdb11_caliper002_0","amdb11_brakedisc_FR002_amdb11_caliper002_0"],hide:["euansenna_seat_FL_stig_a_carbon_0","euansenna_seat_FL_stig_alcantara_0","euansenna_seat_FL_stig_stitching_0","euansenna_seat_FL_wheel_0","euansenna_seat_FL_stig_dot3_0","euansenna_seat_FL_stig_cinture_0","euansenna_seat_FL_stig_senna_raceparts_0","euansenna_seat_FL_stig_senna_chrome_0","euansenna_seat_FL_stig_blacksenna_0","euansenna_seat_FL_stig_Intbuttons_0","euansenna_dash_intbadges_0","euansenna_body_euansenna_taillight_0","euansenna_body_kou_0","euansenna_roof_hardtop_heiquan_0"],overrides:{bumper:{parts:["euansenna_bumper_F_senna_raceparts_0","euansenna_rear_spoiler_GTR_a_carbon_0","euansenna_bumper_F_a_carbon_0","euansenna_flank_hardtop_a_carbon_0","euansenna_door_L_a_carbon_0","euansenna_door_R_a_carbon_0"],color:394758,roughness:.15,metalness:.22},roof:{parts:["euansenna_roof_hardtop_a_carbon_0","euansenna_door_L_senna_raceparts_0","euansenna_door_R_senna_raceparts_0","euansenna_roof_hardtop_senna_raceparts_0","euansenna_trunklid_stock_senna_raceparts_0","euansenna_sideskirt_R_a_carbon_0","euansenna_sideskirt_L_a_carbon_0"],color:0,roughness:.05,metalness:.34},mattePlastic:{parts:["euansenna_hood_a_carbon_0","euansenna_mirror_L_a_carbon_0","euansenna_mirror_R_a_carbon_0","euansenna_rear_wheelhouse_stock_L_senna_raceparts_0","euansenna_frunk_senna_raceparts_0","euansenna_rear_wheelhouse_stock_R_senna_raceparts_0","euansenna_bumper_R_senna_raceparts_0","euansenna_flank_hardtop_senna_raceparts_0","euansenna_bumper_R_a_carbon_0","euansenna_rear_heat_shield_senna_raceparts_0","euansenna_engine_v8_a_carbon_0","euansenna_dash_a_carbon_0","euansenna_doorpanel_L_a_carbon_0","euansenna_doorpanel_R_a_carbon_0","euansenna_body_b20_0","euansenna_doorpanel_R_senna_raceparts_0","euansenna_doorpanel_L_senna_raceparts_0","euansenna_dash_blacksenna_0","euansenna_body_a_carbon_0","euansenna_seat_FR_senna_raceparts_0","euansenna_seat_FL_senna_raceparts_0","euansenna_seat_FL_stig_senna_raceparts_0","euansenna_body_senna_raceparts_0"],color:0,roughness:.45,metalness:0},dash:{parts:["euansenna_dash_b20_0","euansenna_roof_hardtop_b20_0"],color:0,roughness:.48,metalness:0},dashScreen:{parts:["euansenna_dash_a_int_screen_0"],color:0,emissive:0,roughness:0,metalness:1},dashMetallic:{parts:["euansenna_dash_senna_chrome_0"],color:7960953,roughness:.16,metalness:.68},trim:{parts:["euansenna_seat_FL_stig_stitching_0","euansenna_seat_FL_stig_dot3_0","euansenna_body_cuciture_0","euansenna_seat_FL_stitching_0","euansenna_seat_FL_dot3_0","euansenna_steer_stitching_0","euansenna_steer_steeringbadge_0","euansenna_seat_FR_dot3_0","euansenna_seat_FR_stitching_0"],roughness:1,metalness:.5},wheelCarbon:{parts:["euansenna_steer_a_carbon_0","euansenna_seat_FL_a_carbon_0","euansenna_seat_FR_a_carbon_0","euansenna_body_intbadges_0"],color:2039583,roughness:1,metalness:.6},wheels:{parts:["euansenna_wheel1paint001_senna_raceparts_0","euansenna_wheel1paint_senna_raceparts_0","euansenna_wheel1paint002_senna_raceparts_0","euansenna_wheel1paint003_senna_raceparts_0"],color:1447446,roughness:.1,metalness:0},engine:{parts:["euansenna_transaxle_senna_chrome_0"],color:2697513,roughness:0,metalness:1},glass:{parts:["euansenna_windshield_senna_glass_0","euansenna_doorglass_L_senna_glass_0","euansenna_doorglass_R_senna_glass_0","euansenna_trunklid_glass_senna_glass_0","euansenna_doorglass_R_senna_raceparts_0","euansenna_doorglass_L_senna_raceparts_0","euansenna_bumper_F_senna_glass_0","euansenna_headlightglass_L_senna_glass_0","euansenna_headlightglass_R_senna_glass_0"],roughness:0,metalness:1},logoMclaren:{parts:["euansenna_flank_hardtop_senna_chrome_0"],roughness:0,metalness:.4},logoSenna:{parts:["euansenna_bumper_R_senna_chrome_0"],roughness:0,metalness:.4},exhaust:{parts:["euansenna_exhaust_tip_a_senna_chrome_0"],color:16777215,roughness:0,metalness:1},tailLights:{parts:["euansenna_flank_hardtop_euansenna_taillight_0"],color:14745604,roughness:0,metalness:1},underneath:{parts:["euansenna_front_shield_R_scintilla_main_0","euansenna_front_shield_L_scintilla_main_0","euansenna_central_shield_scintilla_main_0","euansenna_body_senna_raceparts_0","euansenna_skidplate_skidplate_0"],color:0,roughness:1,metalness:0}}},doors:{left:{parts:["euansenna_mirror_L_a_carbon_0","euansenna_door_L_sennapaintmain_0","euansenna_door_L_senna_raceparts_0","euansenna_doorglass_L_senna_raceparts_0","euansenna_doorpanel_L_a_carbon_0","euansenna_doorpanel_L_senna_raceparts_0","euansenna_mirror_L_mirror004_0","euansenna_doorglass_L_senna_glass_0","euansenna_doorpanel_L_a_grille_0"],closed:{transform:{position:[.7479972979204863,.6002643311470182,.7974914491469491],scale:[1,1,1],rotation:[0,0,0,"XYZ"]}},open:{transform:{position:[.8780025669565388,.8798411681805798,.9468150408408396],scale:[1,1,1],rotation:[.769888,-.137009,.839411,"XYZ"]}}},right:{parts:["euansenna_mirror_R_a_carbon_0","euansenna_door_R_sennapaintmain_0","euansenna_door_R_senna_raceparts_0","euansenna_doorglass_R_senna_raceparts_0","euansenna_doorpanel_R_a_carbon_0","euansenna_doorpanel_R_senna_raceparts_0","euansenna_mirror_R_mirror004_0","euansenna_doorglass_R_senna_glass_0","euansenna_doorpanel_R_a_grille_0"],closed:{transform:{position:[-.7479972979204863,.6002643311470182,.7974914491469491],scale:[1,1,1],rotation:[0,0,0,"XYZ"]}},open:{transform:{position:[-.8780025669565388,.8798411681805798,.9468150408408396],scale:[1,1,1],rotation:[.769888,.137009,-.839411,"XYZ"]}}}},lights:{front:{color:4358379,intensity:3,distance:0,angle:.98,penumbra:.35,decay:0,position:[-.78,.5,2.1],target:[0,-4.1,22]},back:{color:14745604,intensity:1.5,distance:0,angle:1.5,penumbra:1,decay:0,position:[-.54,.5,-2],target:[0,-4.1,-22]}}};var aj=JSON.parse('{"position":[0,0.568,-2.34],"scale":[0.4,0.4,0.4],"rotation":[0.26703537555513246,0,0,"XYZ"]}'),aE=JSON.parse('{"position":[0.02999999999999975,0.438,2.75],"scale":[1,1,1],"rotation":[0,0,0,"XYZ"]}'),aO=JSON.parse('{"position":[1.43,0.565,0],"scale":[1,1,1],"rotation":[0,1.5707963267948966,0,"XYZ"]}'),aB=JSON.parse('{"position":[-1.88,0.565,0.05],"scale":[1,1,1],"rotation":[0,-1.5707963267948966,0,"XYZ"]}'),aT=JSON.parse('{"position":[0.02999999999999975,0.435,2.75],"scale":[1,1,1],"rotation":[0,0,0,"XYZ"]}'),aR=JSON.parse('{"position":[1.43,0.57,0],"scale":[1,1,1],"rotation":[0,1.5707963267948966,0,"XYZ"]}'),aI=JSON.parse('{"position":[-1.98,0.5349999999999999,0],"scale":[1,1,1],"rotation":[0,-1.5707963267948966,0,"XYZ"]}'),aA=JSON.parse('{"position":[1.43,0.57,0],"scale":[1,1,1],"rotation":[0,1.5707963267948966,0,"XYZ"]}'),aF=JSON.parse('{"position":[-1.38,0.565,0],"scale":[1,1,1],"rotation":[-0.0890117918517108,-1.5707963267948966,0,"XYZ"]}');let aD={position:[0,0,0],licensePlate:{transform:aj},decals:{left:{asset:{[w.QL.MoonPay]:"decal-0",[w.QL.OkayDev]:"decal-0",[w.QL.Helio]:"decal-0"},parts:["r35_door_R001_r35_paint_0"],parent:"r35_door_R001_r35_paint_0",transform:{[w.QL.MoonPay]:aR,[w.QL.OkayDev]:aA,[w.QL.Helio]:aO},fov:45,useDotProductDiscard:!1},right:{asset:{[w.QL.MoonPay]:"decal-1",[w.QL.OkayDev]:"decal-1",[w.QL.Helio]:"decal-1"},parent:"r35_door_R_r35_paint_0",parts:["r35_door_R_r35_paint_0"],transform:{[w.QL.MoonPay]:aI,[w.QL.OkayDev]:aF,[w.QL.Helio]:aB},fov:45,useDotProductDiscard:!1},right2:{asset:{[w.QL.MoonPay]:"decal-1",[w.QL.OkayDev]:"decal-1",[w.QL.Helio]:"decal-1"},parent:"",parts:["r35_sideskirts_cf_r35_paint_0007"],transform:{[w.QL.MoonPay]:aI,[w.QL.OkayDev]:aF,[w.QL.Helio]:aB},fov:45,useDotProductDiscard:!1},front:{asset:{[w.QL.MoonPay]:"decal-2",[w.QL.Helio]:"decal-2"},parent:"",parts:["r35_bumper_F_specv_r35_misc_0"],transform:{[w.QL.MoonPay]:aT,[w.QL.Helio]:aE},fov:45,useDotProductDiscard:!1}},materials:{paint:["r35_hood_race_r35_paint_0","r35_bumper_F_specv_r35_paint_0","r35_fender_L_cf_r35_paint_0","r35_fenderflare_FL_r35_paint_0","r35_door_R001_r35_paint_0","r35_sideskirts_cf_r35_paint_0","r35_body_r35_paint_0","r35_mirror_L_cf_r35_paint_0","r35_roof_cf_r35_paint_0","r35_trunk_cf_r35_paint_0","r35_door_R_r35_paint_0","r35_mirror_R_cf_r35_paint_0","r35_fender_R_cf_r35_paint_0","r35_fenderflare_RL_r35_paint_0","r35_bumper_R_2017_r35_paint_0","r35_fenderflare_RR_r35_paint_0","r35_fenderflare_FR_r35_paint_0","r35_sideskirts_cf_r35_paint_0007"],paintRoughness:.39,paintMetalness:1,trim:[],headLights:{r35_headlight_L_2012_r35_highbeam_0:{emissive:new X.Ilk(16777215),emissiveIntensity:50},r35_headlight_R_2012_r35_highbeam_0:{emissive:new X.Ilk(16777215),emissiveIntensity:50}},tailLights:{r35_taillight_L_2017_r35_taillight_2017_0:{emissive:new X.Ilk(16777215),emissiveIntensity:100},r35_taillight_R_2017_r35_taillight_2017_0:{emissive:new X.Ilk(16777215),emissiveIntensity:100}},brakes:["3_Wheel001_amdb11_caliper002_0","3_Wheel003_amdb11_caliper002_0","3_Wheel007_amdb11_caliper002_0","3_Wheel005_amdb11_caliper002_0"],removeMaps:[],overrides:{badges:{parts:["r35_logo_R_r35_badges_0","r35_lettering_gtr_r35_badges_0","r35_lettering_specv_r35_badges_0","r35_bumper_F_specv_r35_badges_0"],color:16777215,roughness:.55,metalness:1},bumper:{parts:["r35_bumper_R_2017_r35_signal_R_2017001_0"],color:197379,roughness:.47,metalness:.3},bumper2:{parts:["r35_bumper_F_specv_r35_misc_0"],color:197379,roughness:.42,metalness:0},bumperReflective:{parts:["r35_bumper_F_specv_r35_cf_0"],color:0,roughness:.4,metalness:0},innerDoor:{parts:["r35_doorpanel_L_be_r35_carpet_0","r35_doorpanel_R_be_r35_carpet_0","r35_body_r35_carpet_0"],color:5855577},innerPlastic:{parts:["r35_doorpanel_L_be_r35_plastic_0","r35_doorpanel_R_be_r35_plastic_0","r35_doorpanel_L_be_r35_mesh_0","r35_doorpanel_R_be_r35_mesh_0","r35_steer_2017_r35_plastic_0"],color:0,roughness:.65,metalness:1,normalMap:!1},innerPlastic2:{parts:["r35_dash_2017_r35_plastic_0"],roughness:.58,metalness:.63},innerPlastic3:{parts:["r35_doorpanel_L_be_r35_interior_0","r35_doorpanel_R_be_r35_interior_0"],roughness:.63,metalness:.86},dash:{parts:["r35_dash_2017_r35_interior_0"],color:6250335,roughness:.11,metalness:.14},dashDialsChrome:{parts:["r35_gauges_r35_interior_0"],roughness:.28,metalness:.55},leather:{parts:["r35_dash_2017_r35_leather_0"],roughness:.79,metalness:0},dashMesh:{parts:["r35_dash_2017_r35_mesh_0"],roughness:.37},dash2:{parts:["r35_dash_2017_r35_cf_0"],roughness:1,metalness:.65,clearcoat:.12},wheel:{parts:["r35_steer_2017_r35_steeringwheel_0"],color:10263708,roughness:.46,metalness:1},exhaust:{parts:["r35_exhaust_LW_Meo_turbo_black_0"],color:14869218,roughness:0,metalness:.6},door2:{parts:["r35_body_r35_interior_0"],color:5000268,roughness:1,metalness:0},rollcage:{parts:["r35_rollcage_r35_misc_0"],roughness:.1},backSeatsPlastic:{parts:["r35_body_r35_plastic_0"],color:2039583,roughness:.78,metalness:.41}}},doors:{left:{parts:["r35_door_R001_r35_paint_0","r35_doorpanel_L_be_r35_carpet_0","r35_doorpanel_L_be_r35_mesh_0","r35_doorpanel_L_be_r35_leather_0","r35_doorpanel_L_be_r35_interior_0","r35_mirror_L_cf_r35_paint_0","r35_mirror_L_cf_mirror_0","r35_mirror_L_cf_r35_misc_0","r35_doorpanel_L_be_r35_plastic_0","r35_door_R001_r35_misc_0","r35_doorpanel_L_be_r35_leather_perf_0","r35_doorpanel_L_be_r35_leather_stitching_0","r35_doorglass_L_r35_glass_0"],closed:{transform:{position:[.8572065863903822,.5712766820157332,.5852687607251877],scale:[1,1,1],rotation:[0,0,0,"XYZ"]}},open:{transform:{position:[.8572065863903822,.5712766820157332,.5852687607251877],scale:[1,1,1],rotation:[0,-X.M8C.degToRad(60),0,"XYZ"]}}},right:{parts:["r35_door_R_r35_paint_0","r35_doorpanel_R_be_r35_carpet_0","r35_doorpanel_R_be_r35_leather_0","r35_door_R_r35_misc_0","r35_doorpanel_R_be_r35_plastic_0","r35_mirror_R_cf_mirror_0","r35_mirror_R_cf_r35_paint_0","r35_mirror_R_cf_r35_misc_0","r35_doorpanel_R_be_r35_mesh_0","r35_doorpanel_R_be_r35_leather_perf_0","r35_doorpanel_R_be_r35_interior_0","r35_doorglass_R_r35_glass_0","r35_doorpanel_R_be_r35_leather_stitching_0"],closed:{transform:{position:[-.8572065863903822,.5712766820157332,.5852687607251877],scale:[1,1,1],rotation:[0,0,0,"XYZ"]}},open:{transform:{position:[-.8572065863903822,.5712766820157332,.5852687607251877],scale:[1,1,1],rotation:[0,X.M8C.degToRad(60),0,"XYZ"]}}}},lights:{front:{color:16777215,intensity:3,distance:0,angle:.98,penumbra:.35,decay:0,position:[.71,.72,2.1],target:[0,-4.1,22]},back0:{color:16726329,intensity:1,distance:0,angle:1.5,penumbra:1,decay:0,position:[.68,.84,-2.2],target:[0,-4.1,-22]},back1:{color:16726329,intensity:1,distance:0,angle:1.5,penumbra:1,decay:0,position:[.48,.8,-2.2],target:[0,-4.1,-22]}}},az={[w.Oi.Nissan]:aD,[w.Oi.McLaren]:aP,[w.Oi.Lamborghini]:ay,[w.Oi.Ferrari]:ad};class aZ extends tt{openLeftDoor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e?az[this.carModel].doors.left.open.transform:az[this.carModel].doors.left.closed.transform;td.state.carModel===w.Oi.Ferrari||t||(e?eH.play("car-door-open"):b.ZP.delayedCall(.1,()=>{eH.play("car-door-close")})),b.ZP.to(this.doors.left.pivot.position,{x:i.position[0],y:i.position[1],z:i.position[2],duration:w.Zo,ease:w.UT}),b.ZP.to(this.doors.left.pivot.rotation,{x:i.rotation[0],y:i.rotation[1],z:i.rotation[2],duration:w.Zo,ease:w.UT})}openRightDoor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e?az[this.carModel].doors.right.open.transform:az[this.carModel].doors.right.closed.transform;td.state.carModel===w.Oi.Ferrari||t||(e?eH.play("car-door-open"):b.ZP.delayedCall(.1,()=>{eH.play("car-door-close")})),b.ZP.to(this.doors.right.pivot.position,{x:i.position[0],y:i.position[1],z:i.position[2],duration:w.Zo,ease:w.UT,onComplete:()=>{}}),b.ZP.to(this.doors.right.pivot.rotation,{x:i.rotation[0],y:i.rotation[1],z:i.rotation[2],duration:w.Zo,ease:w.UT})}toggleEditMode(e){let t=this.doors[e];t.editMode=!t.editMode,t.editMode?this.group.add(t.doorGroup):this.updateDoorGroupTransform(e)}onBeforeEnvironmentRender(e){this.group.visible=!e}updateDoorGroupTransform(e){let t=this.doors[e];t.editMode||(t.relativePosition.subVectors(t.doorGroupWorldPosition,t.pivot.getWorldPosition(new X.Pa4)),this.doors[e].pivot.add(this.doors[e].doorGroup),t.doorGroup.position.copy(t.relativePosition),t.doorGroup.quaternion.copy(t.doorGroupWorldQuaternion),t.doorGroup.scale.copy(t.doorGroupWorldScale))}onRemoved(){td.removeEventListener("change",this.onStateChange)}constructor(e){var t;super(),t=this,this.carModel=e,this.group=new X.ZAu,this.doors={left:{pivot:new X.ZAu,doorGroup:new X.ZAu,doorGroupWorldPosition:new X.Pa4,doorGroupWorldQuaternion:new X._fP,doorGroupWorldScale:new X.Pa4,relativePosition:new X.Pa4,editMode:!1},right:{pivot:new X.ZAu,doorGroup:new X.ZAu,doorGroupWorldPosition:new X.Pa4,doorGroupWorldQuaternion:new X._fP,doorGroupWorldScale:new X.Pa4,relativePosition:new X.Pa4,editMode:!1}},this.onStateChange=function(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.state.leftDoor!==e.prev.leftDoor&&t.openLeftDoor(e.state.leftDoor,i),e.state.rightDoor!==e.prev.rightDoor&&t.openRightDoor(e.state.rightDoor,i)},this.group.name="CarDoors";let i=iC.get(w.de.Global,e);if(i instanceof ei){let e=i.data.scene;eX(this.doors.left.pivot,az[this.carModel].doors.left.closed.transform),eX(this.doors.right.pivot,az[this.carModel].doors.right.closed.transform);let t=[];Object.keys(this.doors).forEach(i=>{this.doors[i].pivot.name="".concat(i,"Pivot"),this.doors[i].doorGroup.name="".concat(i,"DoorGroup");let a=[];e.traverse(e=>{az[this.carModel].doors[i].parts.includes(e.name)&&(a.push(e),t.push(e))}),a.forEach(e=>{let t=new X.Pa4,a=new X._fP,s=new X.Pa4;e.getWorldPosition(t),e.getWorldQuaternion(a),e.getWorldScale(s),this.doors[i].doorGroup.add(e),e.position.copy(t),e.quaternion.copy(a),e.scale.copy(s)}),this.doors[i].doorGroup.getWorldPosition(this.doors[i].doorGroupWorldPosition),this.doors[i].doorGroup.getWorldQuaternion(this.doors[i].doorGroupWorldQuaternion),this.doors[i].doorGroup.getWorldScale(this.doors[i].doorGroupWorldScale),this.updateDoorGroupTransform(i),this.doors[i].pivot.add(this.doors[i].doorGroup),this.group.add(this.doors[i].pivot)}),e.traverse(e=>{t.includes(e)||(e.matrixAutoUpdate=!1,e.updateMatrix())}),this.addComponent(new te(this.group))}td.addEventListener("change",this.onStateChange),td.trigger(()=>{this.onStateChange({state:td.state,prev:td.prev},!0)})}}let aN={projectVertex:"after:#include <project_vertex>\n"},aH={colorFragment:"after:#include <color_fragment>\n",opaqueFragment:"after:#include <opaque_fragment>\n",logdepthbufFragment:"after:#include <logdepthbuf_fragment>\n",transmissionFragment:"replace:#include <transmission_fragment>\n",lights_fragment_maps:"replace:#include <lights_fragment_maps>",roughnessmap_fragment:"replace:#include <roughnessmap_fragment>",metalnessmap_fragment:"replace:#include <metalnessmap_fragment>",color_fragment:"replace:#include <color_fragment>"};function aU(e,t,i){return Object.keys(t).forEach(a=>{if(null!=i[a]){let s=t[a].split(":"),n=s[1];switch(s[0]){case"after":e=e.replace(n,"".concat(n,"\n            ").concat(i[a]));break;case"replace":e=e.replace(n,i[a]);break;default:e=e.replace(n,"".concat(i[a],"\n            ").concat(n))}}}),e}function aV(e,t){var i,a;"object"==typeof t.uniforms&&(e.uniforms=X.rDY.merge([e.uniforms,t.uniforms])),e.vertexShader="\n    ".concat(t.vertexShader.uniforms||"","\n    ").concat(t.vertexShader.functions||"","\n    ").concat(e.vertexShader,"\n  "),e.fragmentShader="\n    ".concat(t.fragmentShader.uniforms||"","\n    ").concat(t.fragmentShader.functions||"","\n    ").concat(e.fragmentShader,"\n  ");let s={...aN,...null===(i=t.hooks)||void 0===i?void 0:i.vertex},n={...aH,...null===(a=t.hooks)||void 0===a?void 0:a.fragment};return e.vertexShader=aU(e.vertexShader,s,t.vertexShader),e.fragmentShader=aU(e.fragmentShader,n,t.fragmentShader),e}var aG={uniforms:{noiseScale:{value:350},roughnessNoiseOffset:{value:.035},normalNoiseOffset:{value:.05},viewAngleThreshold:{value:.45},useNoise:{value:1},debugViewAngle:{value:0}},vertexShader:{uniforms:"\n      varying vec3 vPosition;\n    ",functions:"",preTransform:"",projectVertex:"\n      vPosition = (modelMatrix * vec4(position, 1.0)).xyz;\n    "},fragmentShader:{uniforms:"\n      uniform float noiseScale;\n      uniform float useNoise;\n      uniform float roughnessNoiseOffset;\n      uniform float normalNoiseOffset;\n      uniform float viewAngleThreshold;\n      uniform float debugViewAngle;\n      varying vec3 vPosition;\n    ",functions:"\n      ".concat("\n  //\n  // Description : Array and textureless GLSL 2D/3D/4D simplex\n  //               noise functions.\n  //      Author : Ian McEwan, Ashima Arts.\n  //  Maintainer : ijm\n  //     Lastmod : 20110822 (ijm)\n  //     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n  //               Distributed under the MIT License. See LICENSE file.\n  //               https://github.com/ashima/webgl-noise\n  //\n\n  vec3 mod289(vec3 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n  }\n\n  vec4 mod289(vec4 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n  }\n\n  vec4 permute(vec4 x) {\n    return mod289(((x*34.0)+1.0)*x);\n  }\n\n  vec4 taylorInvSqrt(vec4 r) {\n    return 1.79284291400159 - 0.85373472095314 * r;\n  }\n\n  float simplexNoise3D(vec3 v) {\n    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n    // First corner\n    vec3 i  = floor(v + dot(v, C.yyy) );\n    vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n      // Other corners\n    vec3 g = step(x0.yzx, x0.xyz);\n    vec3 l = 1.0 - g;\n    vec3 i1 = min( g.xyz, l.zxy );\n    vec3 i2 = max( g.xyz, l.zxy );\n\n    //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n    //   x1 = x0 - i1  + 1.0 * C.xxx;\n    //   x2 = x0 - i2  + 2.0 * C.xxx;\n    //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n    vec3 x1 = x0 - i1 + C.xxx;\n    vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n    vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n    // Permutations\n    i = mod289(i);\n    vec4 p = permute( permute( permute(\n              i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n            + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n            + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n    // Gradients: 7x7 points over a square, mapped onto an octahedron.\n    // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n    float n_ = 0.142857142857; // 1.0/7.0\n    vec3  ns = n_ * D.wyz - D.xzx;\n\n    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n    vec4 x_ = floor(j * ns.z);\n    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n    vec4 x = x_ *ns.x + ns.yyyy;\n    vec4 y = y_ *ns.x + ns.yyyy;\n    vec4 h = 1.0 - abs(x) - abs(y);\n\n    vec4 b0 = vec4( x.xy, y.xy );\n    vec4 b1 = vec4( x.zw, y.zw );\n\n    //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n    //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n    vec4 s0 = floor(b0)*2.0 + 1.0;\n    vec4 s1 = floor(b1)*2.0 + 1.0;\n    vec4 sh = -step(h, vec4(0.0));\n\n    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n    vec3 p0 = vec3(a0.xy,h.x);\n    vec3 p1 = vec3(a0.zw,h.y);\n    vec3 p2 = vec3(a1.xy,h.z);\n    vec3 p3 = vec3(a1.zw,h.w);\n\n    //Normalise gradients\n    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n    p0 *= norm.x;\n    p1 *= norm.y;\n    p2 *= norm.z;\n    p3 *= norm.w;\n\n    // Mix final noise value\n    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n    m = m * m;\n    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                  dot(p2,x2), dot(p3,x3) ) );\n  }\n","\n      ").concat(ti,"\n    "),color_fragment:"\n      #if defined( USE_COLOR_ALPHA )\n\n        diffuseColor *= vColor;\n\n      #elif defined( USE_COLOR )\n\n        diffuseColor.rgb *= vColor;\n\n      #endif\n      float n = clamp(simplexNoise3D(vPosition * noiseScale) * 0.5 + 0.5, 0.0, 1.0) * useNoise;\n      // float n = 1.0;\n    ",lights_fragment_maps:"\n\n    float viewAngle = smoothstep(0.0, 1.0, clamp(mapLinear(dot(normalize(vViewPosition), normal), viewAngleThreshold, 1.0, 0.0, 1.0), 0.0, 1.0));\n    vec3 normalOffset = vec3(\n      mix(-normalNoiseOffset, normalNoiseOffset, n),\n      mix(-normalNoiseOffset, normalNoiseOffset, n),\n      mix(-normalNoiseOffset, normalNoiseOffset, n)\n    );\n    geometryNormal = mix(geometryNormal, geometryNormal + normalOffset, viewAngle);\n\n    #if defined( RE_IndirectDiffuse )\n\n      #ifdef USE_LIGHTMAP\n    \n        vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n        vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n    \n        irradiance += lightMapIrradiance;\n    \n      #endif\n    \n      #if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n    \n        iblIrradiance += getIBLIrradiance( geometryNormal );\n    \n      #endif\n    \n    #endif\n    \n    #if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n    \n      #ifdef USE_ANISOTROPY\n    \n        radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n    \n      #else\n    \n        radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n    \n      #endif\n    \n      #ifdef USE_CLEARCOAT    \n        clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );    \n      #endif\n    \n    #endif\n    // float n = clamp(simplexNoise3D(vPosition * noiseScale) * 0.5 + 0.5, 0.0, 1.0);\n\n    // vec4 base = texture2DProj(tDiffuse, vUv2 + vec4(mapN, 0.0));\n  ",roughnessmap_fragment:"\n\n      float roughnessFactor = roughness;\n\n      #ifdef USE_ROUGHNESSMAP\n\n        vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\n        // reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n        roughnessFactor *= texelRoughness.g;\n\n      #endif\n\n      roughnessFactor += mix(-roughnessNoiseOffset, roughnessNoiseOffset, n);\n    ",opaqueFragment:"\n      if(debugViewAngle == 1.0) {\n        gl_FragColor.rgb = vec3(viewAngle);\n      }\n\n      // gl_FragColor = vec4( vec3(useNoise), 1.0);\n    "}},aY={uniforms:X.rDY.merge([aG.uniforms,{projectionTexture:{value:null},viewMatrixCamera:{value:new X.yGw},projectionMatrixCamera:{value:new X.yGw},modelMatrixCamera:{value:new X.yGw},projPosition:{value:new X.Pa4},projectionTextureOpacity:{value:0},useDotProductDiscard:{value:0}}]),vertexShader:{uniforms:"\n      ".concat(aG.vertexShader.uniforms,"\n      // texture projection uniforms\n      uniform mat4 viewMatrixCamera;\n      uniform mat4 projectionMatrixCamera;\n      uniform mat4 modelMatrixCamera;\n      varying vec4 vTextProjWorldPosition;\n      varying vec3 vTextProjNormal;\n      varying vec4 vTextProjTexCoords;\n    "),functions:"\n      ".concat(aG.vertexShader.functions,"\n    "),preTransform:"\n    ".concat(aG.vertexShader.preTransform,"\n    "),projectVertex:"\n      ".concat(aG.vertexShader.projectVertex,"\n\n      vTextProjNormal = mat3(modelMatrix) * normal;\n      \n      vTextProjWorldPosition = modelMatrix * vec4(position, 1.0);\n      vec4 vWorldPosition = modelMatrix * vec4(position, 1.0);\n      vTextProjTexCoords = projectionMatrixCamera * viewMatrixCamera * vWorldPosition;\n    ")},fragmentShader:{uniforms:"\n      ".concat(aG.fragmentShader.uniforms,"\n      // texture projection uniforms\n      uniform sampler2D projectionTexture;\n      uniform float projectionTextureOpacity;\n      uniform float useDotProductDiscard;\n      uniform vec3 projPosition;\n      varying vec3 vTextProjNormal;\n      varying vec4 vTextProjWorldPosition;\n      varying vec4 vTextProjTexCoords;\n    "),functions:"\n      ".concat(aG.fragmentShader.functions,"\n    "),color_fragment:"\n      ".concat(aG.fragmentShader.color_fragment,"\n\n        #if defined( USE_COLOR_ALPHA )\n\n        diffuseColor *= vColor;\n\n      #elif defined( USE_COLOR )\n\n        diffuseColor.rgb *= vColor;\n\n      #endif\n\n      vec2 texProjUV = (vTextProjTexCoords.xy / vTextProjTexCoords.w) * 0.5 + 0.5;\n\n      vec4 projectionTextureColor = texture(projectionTexture, texProjUV);\n      projectionTextureColor.rgb /= projectionTextureColor.a + 0.00001; // Avoid division by zero\n      \n      // Ensure the texture coordinates are within [0, 1] range\n      float textureProjectionAlpha = 1.0;\n      if (texProjUV.x < 0.0 || texProjUV.x > 1.0 || texProjUV.y < 0.0 || texProjUV.y > 1.0) {\n        textureProjectionAlpha = 0.0;\n      }\n      \n      // Make sure the texture doesn't render on the back of the object\n      vec3 projectorDirection = normalize(projPosition - vTextProjWorldPosition.xyz);\n      float dotProduct = dot(vTextProjNormal, projectorDirection);\n      if (useDotProductDiscard == 1.0 && dotProduct < 0.0) {\n        textureProjectionAlpha = 0.0;\n      }\n      \n      // Blend the projected texture with the diffuse color\n      diffuseColor.rgb = mix(diffuseColor.rgb, projectionTextureColor.rgb, projectionTextureColor.a * textureProjectionAlpha * projectionTextureOpacity);\n    "),lights_fragment_maps:"\n      ".concat(aG.fragmentShader.lights_fragment_maps,"\n    "),roughnessmap_fragment:"\n      ".concat(aG.fragmentShader.roughnessmap_fragment,"\n    "),opaqueFragment:"\n      ".concat(aG.fragmentShader.opaqueFragment,"\n\n      // gl_FragColor = outColor;\n    ")}},aW={uniforms:{uvRange:{value:new X.FM8(.5,.8)},reverse:{value:0}},vertexShader:{uniforms:"\n      varying vec2 vUv;\n    ",functions:"",preTransform:"",projectVertex:"\n      vUv = uv;\n    "},fragmentShader:{uniforms:"\n      uniform vec2 uvRange;\n      uniform float reverse;\n      varying vec2 vUv;\n    ",functions:"\n      ".concat(ti,"\n    "),opaqueFragment:"\n      float x = clamp(mapLinear(vUv.x, uvRange.x, uvRange.y, 0.0, 1.0), 0.0, 1.0);\n      // gl_FragColor.rgb = vec3(x, 0.0, 0.0);\n      gl_FragColor.rgb *= x;\n    "}},aQ={uniforms:{range:{value:new X.FM8(.85,1.05)},reverse:{value:0}},vertexShader:{uniforms:"\n      varying vec3 vPosition;\n    ",functions:"",preTransform:"",projectVertex:"\n      vPosition = position;\n    "},fragmentShader:{uniforms:"\n      uniform vec2 range;\n      varying vec3 vPosition;\n    ",functions:"\n      ".concat(ti,"\n    "),opaqueFragment:"\n      float x = clamp(mapLinear(abs(vPosition.y), range.x, range.y, 0.0, 1.0), 0.0, 1.0);\n      float shadow = mix(0.05, 1.0, x);\n      // gl_FragColor.rgb = vec3(shadow, 0.0, 0.0);\n      gl_FragColor.rgb *= shadow;\n\n      // gl_FragColor.rgb = vec3(1.0, 0.0, 0.0);\n    "}},aX={uniforms:{range:{value:new X.FM8(.85,1.05)},direction:{value:new X.FM8(0,1)}},vertexShader:{uniforms:"\n      varying vec3 vPosition;\n    ",functions:"",preTransform:"",projectVertex:"\n      vPosition = position;\n    "},fragmentShader:{uniforms:"\n      uniform vec2 range;\n      uniform vec2 direction;\n      varying vec3 vPosition;\n    ",functions:"\n      ".concat(ti,"\n    "),opaqueFragment:"\n      float x = clamp(mapLinear(abs(vPosition.y), range.x, range.y, direction.x, direction.y), 0.0, 1.0);\n      float shadow = mix(0.05, 1.0, x);\n      // gl_FragColor.rgb = vec3(shadow, 0.0, 0.0);\n      gl_FragColor.rgb *= shadow;\n    "}},aq={uniforms:{range:{value:new X.FM8(.85,1.05)},reverse:{value:0}},vertexShader:{uniforms:"\n      varying vec3 vPosition;\n    ",functions:"",preTransform:"",projectVertex:"\n      vPosition = position;\n    "},fragmentShader:{uniforms:"\n      uniform vec2 range;\n      varying vec3 vPosition;\n    ",functions:"\n      ".concat(ti,"\n    "),opaqueFragment:"\n      float x = clamp(mapLinear(abs(vPosition.x), range.x, range.y, 0.0, 1.0), 0.0, 1.0);\n      float shadow = mix(0.05, 1.0, x);\n      // gl_FragColor.rgb = vec3(shadow, 0.0, 0.0);\n      gl_FragColor.rgb *= shadow;\n      // gl_FragColor.rgb = vec3(0.0, 1.0, 0.0);\n    "}};let aJ={position:[0,0,0],scale:[1,1,1],rotation:[0,0,0,"XYZ"]};class aK extends tt{onBeforeEnvironmentRender(e){this.group.visible=!e}ferrariShaders(e){let t=e.getObjectByName("Object_25");t&&setTimeout(()=>{ee.state.activeObject=t,t_.dispatchEvent({type:h.ObjectSelected,object:t})},1e3)}nissanShaders(e){let t=e.getObjectByName("r35_logo_R_r35_badges_0");t&&setTimeout(()=>{ee.state.activeObject=t,t_.dispatchEvent({type:h.ObjectSelected,object:t})},1e3);let i=e.getObjectByName("r35_wheel_05a_20x11_r35_wheel_05a_0");i&&(i.material.onBeforeCompile=e=>{this.wheelShader=aV(e,aq)});let a=e.getObjectByName("r35_exhaust_LW_Meo_turbo_chrome_0");a&&(a.material.onBeforeCompile=e=>{this.exhaustShader=aV(e,aW),this.exhaustShader.uniforms.uvRange.value.set(.664,.69)});let s=e.getObjectByName("r35_exhaust_LW_Meo_turbo_black_0");s&&(s.material.onBeforeCompile=e=>{this.exhaustShader2=aV(e,aW),this.exhaustShader2.uniforms.uvRange.value.set(.47,.75)})}mclarenShaders(e){let t=e.getObjectByName("euansenna_bumper_R_a_red_0");t&&setTimeout(()=>{ee.state.activeObject=t,t_.dispatchEvent({type:h.ObjectSelected,object:t})},1e3);let i=e.getObjectByName("euansenna_wheel1paint_senna_raceparts_0");i&&(i.material.onBeforeCompile=e=>{this.wheelShader=aV(e,aq),this.wheelShader.uniforms.range.value.set(.04,.14),this.dispatchEvent({type:"wheelShaderCompiled"})});let a=e.getObjectByName("euansenna_exhaust_tip_a_senna_chrome_0");a&&(a.material.onBeforeCompile=e=>{this.exhaustShader=aV(e,aX),this.exhaustShader.uniforms.range.value.set(2.6,1.7),this.exhaustShader.uniforms.direction.value.set(1,0),this.dispatchEvent({type:"exhaustShaderCompiled"})})}lamborghiniShaders(e){let t=e.getObjectByName("gallardo_body_gallardo_misc_0");t&&setTimeout(()=>{ee.state.activeObject=t,t_.dispatchEvent({type:h.ObjectSelected,object:t})},1e3);let i=e.getObjectByName("gallardo_wheel_02a_19x11_gallardo_wheel_01a_0");i&&(i.material.onBeforeCompile=e=>{this.wheelShader=aV(e,aq),this.wheelShader.uniforms.range.value.set(.09,.11),this.dispatchEvent({type:"wheelShaderCompiled"})});let a=e.getObjectByName("gallardo_exhaust_quad_gallardo_misc_0");a&&(a.material.onBeforeCompile=e=>{this.exhaustShader=aV(e,aX),this.exhaustShader.uniforms.range.value.set(2.3,1.83),this.exhaustShader.uniforms.direction.value.set(1,0),this.dispatchEvent({type:"exhaustShaderCompiled"})})}updateBrakeColor(e){if(0===this.brakeMaterials.length)return;b.ZP.killTweensOf(this.animation);let t=this.brakeMaterials[0].color.clone(),i=new X.Ilk(e);this.animation.brake.time=0,b.ZP.to(this.animation.brake,{time:1,duration:w.Zo,ease:w.UT,onUpdate:()=>{this.brakeMaterials.forEach(e=>{e.color.lerpColors(t,i,this.animation.brake.time)})}})}async hideDecals(){return new Promise(e=>{this.decalShaders.forEach(t=>{t&&b.ZP.to(t.uniforms.projectionTextureOpacity,{value:0,duration:w.Zo,ease:w.UT,onComplete:()=>{t.uniforms.projectionTexture.value=null,e(null)}})})})}updateDecalMaterials(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];b.ZP.killTweensOf(this.animation.paint),this.debugDecals||Object.keys(az[this.carModel].decals).forEach((e,t)=>{this.group.add(this.projectionCameras[e]),eX(this.projectionCameras[e],az[this.carModel].decals[e].transform[td.state.livery]||aJ),this.decalParents[az[this.carModel].decals[e].parent]&&e3(this.projectionCameras[e],this.decalParents[az[this.carModel].decals[e].parent])}),Object.keys(this.decalMaterials).forEach(e=>{this.decalMaterials[e]&&this.decalMaterials[e].forEach(t=>{let i="".concat(td.state.livery.toLowerCase(),"-").concat(az[this.carModel].decals[e].asset[td.state.livery]),a=iC.get(w.de.Global,i);if(a instanceof ei&&t.shader){let e=a.data;e.colorSpace=X.KI_,e.wrapS=e.wrapT=X.uWy,t.shader.uniforms.projectionTexture.value=e}})});let t=w.Cy[td.state.carModel][td.state.livery].decals?1:0;if(!e){this.decalShaders.forEach(e=>{e&&(e.uniforms.projectionTextureOpacity.value=t)});return}this.decalShaders.forEach(e=>{e&&b.ZP.to(e.uniforms.projectionTextureOpacity,{value:t,duration:w.Zo,ease:w.UT})})}onRemoved(){td.removeEventListener("change",this.onStateChange),to.removeEventListener("shadowsReady",this.onShadowsReady)}constructor(e,t,i){var a;super(),a=this,this.carModel=e,this.livery=t,this.sceneTransition=i,this.group=new X.ZAu,this.exhaustShader=null,this.exhaustShader2=null,this.wheelShader=null,this.carPaintShader=null,this.paintMaterials=[],this.trimMaterials=[],this.carPaintShaders=[],this.brakeMaterials=[],this.brakeShader=null,this.frontBrakeShader=null,this.bumperShader=null,this.decalShaders=[],this.animation={brake:{time:0},paint:{time:0}},this.settings={metalness:0,roughess:0},this.projectionCameras={},this.projectionCameraHelpers={},this.spotLights=[],this.spotLightHelpers=[],this.decalMaterials={},this.decalParents={},this.debugDecals=!1,this.onShadowsReady=()=>{this.carLightsComponent.toggleHeadLights(td.state.headLights,!0),this.carLightsComponent.toggleTailLights(td.state.tailLights,!0)},this.onStateChange=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.state.carModel===a.carModel&&((e.state.iridescence!==e.prev.iridescence||t)&&a.paintMaterials.forEach(t=>{b.ZP.killTweensOf(t),void 0!==t.iridescence&&b.ZP.to(t,{iridescence:e.state.iridescence?.5:0,ease:w.UT,duration:w.Zo})}),(e.state.brakeColor!==e.prev.brakeColor||t)&&a.updateBrakeColor(w.Wn[e.state.carModel][e.state.brakeColor]),(e.state.livery!==e.prev.livery||e.state.paintColor!==e.prev.paintColor||t)&&a.hideDecals().then(()=>{a.updateDecalMaterials()}))},this.updateCarPaint=()=>{this.carPaintShaders.forEach(e=>{this.carPaintShader&&(e.uniforms.roughnessNoiseOffset.value=this.carPaintShader.uniforms.roughnessNoiseOffset.value,e.uniforms.normalNoiseOffset.value=this.carPaintShader.uniforms.normalNoiseOffset.value,e.uniforms.noiseScale.value=this.carPaintShader.uniforms.noiseScale.value,e.uniforms.viewAngleThreshold.value=this.carPaintShader.uniforms.viewAngleThreshold.value,e.uniforms.debugViewAngle.value=this.carPaintShader.uniforms.debugViewAngle.value)})},this.update=()=>{Object.values(this.projectionCameraHelpers).forEach(e=>{e.update()}),this.spotLightHelpers.forEach(e=>{e.update()})},this.group.name="CarEntity";let s=[],n=[],o=iC.get(w.de.Global,e);this.group.position.fromArray(az[e].position),Object.keys(az[e].decals).forEach((i,a)=>{this.projectionCameras[i]=new X.cPb(az[e].decals[i].fov,1,.01,1e3),this.projectionCameras[i].name="projectionCamera ".concat(i),this.projectionCameraHelpers[i]=new X.Rki(this.projectionCameras[i]),this.group.add(this.projectionCameras[i]),eX(this.projectionCameras[i],az[e].decals[i].transform[t]||aJ)}),Object.keys(az[e].lights).forEach((t,i)=>{let a=new X.ZAu;a.name="lightGroup ".concat(t);let o=az[e].lights[t],r=new X.PMe(az[e].lights[t].color,0,o.distance,o.angle,o.penumbra,o.decay),l=new X.FvO(r);l.name="lightHelper left ".concat(t),r.position.fromArray(az[e].lights[t].position),r.target.position.fromArray(az[e].lights[t].target),r.name="light",r.target.name="lightTarget",r.target.position.x=r.position.x,a.add(r,r.target),this.spotLightHelpers.push(l),this.group.add(a);let d=r.clone(),h=new X.FvO(d);h.name="lightHelper right ".concat(t),d.position.x*=-1,d.target.position.x*=-1,this.group.add(d,d.target),this.spotLightHelpers.push(h),t.includes("front")&&s.push({light:r,intensity:o.intensity},{light:d,intensity:o.intensity}),t.includes("back")&&n.push({light:r,intensity:o.intensity},{light:d,intensity:o.intensity})});let r=Object.keys(az[e].decals),l={};if(o instanceof ei){let i=o.data.scene;i.position.y=-.0417088555;let a=[],d=[],h=i.getObjectByName("gallardo_bumper_R_LW_diffuser_gallardo_cf_0");switch(h&&(h.material=new X.EJi),i.traverse(t=>{var i;if("Mesh"!==t.type)return;let s=t.material;if(s.side=X.ehD,s.map&&(s.map.colorSpace=X.KI_),s.aoMap&&(s.aoMap=null),t.castShadow=!0,t.receiveShadow=!0,null===(i=az[e].materials.hide)||void 0===i?void 0:i.includes(t.name)){t.visible=!1;return}if(Object.keys(az[e].materials.overrides).forEach(i=>{if(az[e].materials.overrides[i].parts.includes(t.name)){void 0===l[i]&&(l[i]=t.material.clone()),t.material=l[i];let a=az[e].materials.overrides[i].parts.indexOf(t.name);-1!==a&&az[e].materials.overrides[i].parts[a]===t.name&&("number"==typeof az[e].materials.overrides[i].color&&t.material.color.setHex(az[e].materials.overrides[i].color),"number"==typeof az[e].materials.overrides[i].metalness&&(t.material.metalness=az[e].materials.overrides[i].metalness),"number"==typeof az[e].materials.overrides[i].roughness&&(t.material.roughness=az[e].materials.overrides[i].roughness),"number"==typeof az[e].materials.overrides[i].emissive&&t.material.emissive.setHex(az[e].materials.overrides[i].emissive),"number"==typeof az[e].materials.overrides[i].clearcoat&&(t.material.clearcoat=az[e].materials.overrides[i].clearcoat),"boolean"==typeof az[e].materials.overrides[i].normalMap&&(t.material.normalMap=az[e].materials.overrides[i].normalMap))}}),r.forEach(i=>{if(az[e].decals[i].parts.includes(t.name)){void 0===this.decalMaterials[i]&&(this.decalMaterials[i]=[]);let a=t.material.clone();t.material=a,this.decalMaterials[i].push(t.material),Object.keys(az[e].decals).forEach(i=>{let a=az[e].decals[i];t.name===a.parent&&(this.decalParents[a.parent]=t)})}}),az[e].materials.paint.includes(t.name)&&this.paintMaterials.push(t.material),az[e].materials.trim.includes(t.name)&&this.trimMaterials.push(t.material),az[e].materials.brakes.includes(t.name)){let e=t.material.clone();t.material=e,t.material.roughness=.1,t.material.metalness=.34,this.brakeMaterials.push(t.material)}if(az[e].materials.headLights[t.name]){let i=az[e].materials.headLights[t.name],s=t.material.clone();t.material=s,a.push({material:t.material,emissive:i.emissive,emissiveIntensity:i.emissiveIntensity})}if(az[e].materials.tailLights[t.name]){let i=az[e].materials.tailLights[t.name],a=t.material.clone();t.material=a,t.material.emissive.setHex(0),d.push({material:t.material,emissive:i.emissive,emissiveIntensity:i.emissiveIntensity})}}),Object.values(az[e].materials.removeMaps).forEach(e=>{e.parts.forEach(t=>{let a=i.getObjectByName(t);a&&("boolean"==typeof e.normalMap&&(a.material.normalMap=null),"boolean"==typeof e.map&&(a.material.map=null))})}),this.paintMaterials=this.paintMaterials.filter((e,t,i)=>i.indexOf(e)===t),this.trimMaterials=this.trimMaterials.filter((e,t,i)=>i.indexOf(e)===t),this.paintMaterials.forEach(e=>{e.onBeforeCompile=e=>{this.carPaintShader=aV(e,aG),this.carPaintShaders.push(this.carPaintShader)}}),this.brakeMaterials.forEach((t,i)=>{t.onBeforeCompile=t=>{switch(e){case w.Oi.Nissan:this.brakeShader=aV(t,aq),this.brakeShader.uniforms.range.value.set(.91,1.05);break;case w.Oi.McLaren:this.brakeShader=aV(t,aq),this.brakeShader.uniforms.range.value.set(.04,.06);break;case w.Oi.Lamborghini:this.brakeShader=aV(t,aQ),this.brakeShader.uniforms.range.value.set(.04,.09)}}}),this.frontBakeMaterial&&(this.frontBakeMaterial.onBeforeCompile=e=>{this.frontBrakeShader=aV(e,aq),this.frontBrakeShader.uniforms.range.value.set(.95,1.05)}),Object.keys(this.decalMaterials).forEach(i=>{this.decalMaterials[i]&&this.decalMaterials[i].forEach(a=>{a.onBeforeCompile=s=>{let n=aV(s,aY);a.shader=n;let o="".concat(this.livery.toLowerCase(),"-").concat(az[e].decals[i].asset[t]),r=iC.get(w.de.Global,o);if(r instanceof ei){let e=r.data;e.colorSpace=X.KI_,e.wrapS=e.wrapT=X.uWy,e.anisotropy=iZ.capabilities.getMaxAnisotropy(),e.generateMipmaps=!1,n.uniforms.projectionTexture.value=e}let l=this.projectionCameras[i];!this.debugDecals&&this.decalParents[az[e].decals[i].parent]&&e3(l,this.decalParents[az[e].decals[i].parent]),n.uniforms.viewMatrixCamera.value=l.matrixWorldInverse,n.uniforms.projectionMatrixCamera.value=l.projectionMatrix,n.uniforms.modelMatrixCamera.value=l.matrixWorld,n.uniforms.projPosition.value=l.position,n.uniforms.useDotProductDiscard.value=az[e].decals[i].useDotProductDiscard?1:0,n.decal=az[e].decals[i].asset,this.decalShaders.push(n),this.updateDecalMaterials()}})}),e){case w.Oi.Nissan:this.nissanShaders(i);break;case w.Oi.McLaren:this.mclarenShaders(i);break;case w.Oi.Lamborghini:this.lamborghiniShaders(i);break;case w.Oi.Ferrari:this.ferrariShaders(i)}this.group.add(i),this.carLightsComponent=new tZ(a,d,s,n),this.paintMaterials.forEach(t=>{t.roughness=az[e].materials.paintRoughness,t.metalness=az[e].materials.paintMetalness}),this.addComponent(new te(this.group)),this.addComponent(new tH(this.paintMaterials)),this.addComponent(new tV(this.trimMaterials)),this.addComponent(this.carLightsComponent),this.addComponent(new is(this)),td.addEventListener("change",this.onStateChange),td.trigger(()=>{this.onStateChange({state:td.state,prev:td.prev},!0)})}to.addEventListener("shadowsReady",this.onShadowsReady)}}class a$ extends ee{constructor(e,t){super(e),this.target=t,this.onWheelShaderCompiled=()=>{this.folders.shader=this.addFolder(this.gui,{title:"Wheel Shader"}),this.folders.shader.addBinding(this.target.wheelShader.uniforms.range,"value")},this.onExhastShaderCompiled=()=>{this.folders.shader=this.addFolder(this.gui,{title:"Exhaust Shader"}),this.folders.shader.addBinding(this.target.exhaustShader.uniforms.range,"value")},this.onBrakeShaderCompiled=()=>{this.folders.shader=this.addFolder(this.gui,{title:"Brake Shader"}),this.folders.shader.addBinding(this.target.brakeShader.uniforms.range,"value")},this.onShaderCompiled=()=>{this.target.exhaustShader&&this.target.exhaustShader2&&this.target.wheelShader&&this.target.carPaintShader&&this.target.brakeShader&&this.target.frontBrakeShader&&(this.folders.shader&&this.folders.shader.dispose(),this.folders.shader=this.addFolder(this.gui,{title:"Shader"}),this.folders.shader.addBinding(this.target.carPaintShader.uniforms.noiseScale,"value",{label:"noiseScale"}).on("change",this.target.updateCarPaint),this.folders.shader.addBinding(this.target.carPaintShader.uniforms.viewAngleThreshold,"value",{label:"viewAngleThreshold",min:-1,max:1}).on("change",this.target.updateCarPaint),this.folders.shader.addBinding(this.target.carPaintShader.uniforms.debugViewAngle,"value",{label:"debugViewAngle"}).on("change",this.target.updateCarPaint))},this.gui=this.addFolder(e,{title:"Car"}),t.addEventListener("brakeShaderCompiled",this.onBrakeShaderCompiled)}}let a0={[w.QL.Otherlife]:"otherlife-logo",[w.QL.MoonPay]:"moonpay-logo",[w.QL.OkayDev]:"okaydev-logo",[w.QL.Helio]:"helio-logo"},a1={[w.QL.Otherlife]:8355711,[w.QL.MoonPay]:9013641,[w.QL.OkayDev]:9013641,[w.QL.Helio]:11053224},a2={[w.QL.Otherlife]:16777215,[w.QL.MoonPay]:16777215,[w.QL.OkayDev]:13619151,[w.QL.Helio]:13619151};class a3 extends tt{hide(){this.group.visible=!1}show(){this.group.visible=!0}updateLicense(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];let i=iC.get(w.de.Global,a0[e.livery]||a0.otherlife);if(this.licensePlateMaterial.color.set(a1[e.livery]||a1.otherlife),i instanceof ei){let t=i.data;t.colorSpace=X.KI_,this.logoMesh.material.map=t,this.logoMesh.material.color.set(a2[e.livery]||a2.otherlife)}eX(this.licensePlateMesh,az[e.carModel].licensePlate.transform)}createLicensePlate(e,t,i,a){let s=new X.bnF;s.moveTo(-e/2+i,t/2),s.lineTo(e/2-i,t/2),s.quadraticCurveTo(e/2,t/2,e/2,t/2-i),s.lineTo(e/2,-t/2+i),s.quadraticCurveTo(e/2,-t/2,e/2-i,-t/2),s.lineTo(-e/2+i,-t/2),s.quadraticCurveTo(-e/2,-t/2,-e/2,-t/2+i),s.lineTo(-e/2,t/2-i),s.quadraticCurveTo(-e/2,t/2,-e/2+i,t/2);let n=new X.O7d(s,{depth:a,bevelEnabled:!1}),o=new X.Kj0(n,this.licensePlateMaterial);return o.receiveShadow=!0,o.castShadow=!0,o}onBeforeEnvironmentRender(e){this.group.visible=!e}onRemoved(){td.removeEventListener("change",this.onStateChange)}constructor(e){var t;super(),t=this,this.carModel=e,this.group=new X.ZAu,this.params={width:1,height:.35,radius:.05,depth:.005},this.licensePlateMaterial=new X.Wid({metalness:0,roughness:1,color:a1[w.QL.Otherlife]}),this.onStateChange=function(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.state.carModel===e.prev.carModel&&((t.carModel===e.state.carModel||i)&&t.updateLicense(e.state,e.prev,i),(e.state.paintColor!==e.prev.paintColor||e.state.livery!==e.prev.livery)&&t.updateLicense(e.state,e.prev,i),t.carModel=e.state.carModel)},this.updateLicensePlate=()=>{this.group.remove(this.licensePlateMesh),this.licensePlateMesh.geometry.dispose(),this.licensePlateMesh=this.createLicensePlate(this.params.width,this.params.height,this.params.radius,this.params.depth),this.licensePlateMesh.position.y=2,this.group.add(this.licensePlateMesh)},this.group.name="LicensePlateEntity",this.licensePlateMesh=this.createLicensePlate(this.params.width,this.params.height,this.params.radius,this.params.depth),this.logoMesh=new X.Kj0(new X._12(1024/226,1),new X.vBJ({side:X.ehD,transparent:!0,alphaTest:.5})),this.logoMesh.rotation.y=Math.PI,this.logoMesh.scale.setScalar(.15),this.logoMesh.position.set(0,0,-.01),this.licensePlateMesh.add(this.logoMesh),this.group.add(this.licensePlateMesh),this.addComponent(new te(this.group)),td.addEventListener("change",this.onStateChange),td.trigger(()=>{this.onStateChange({state:td.state,prev:td.prev},!0)})}}var a5=JSON.parse('{"position":[0,4,0],"scale":[3,10,3],"rotation":[1.5707963267948966,0,0,"XYZ"]}'),a7=JSON.parse('{"position":[-2.750025151415369,2.322845103468221,2.926612700915345],"scale":[2,2,2],"rotation":[-1.0564528750465658,-0.5253665375470203,-1.9236235751920843,"XYZ"]}'),a4=JSON.parse('{"position":[-5.414935554674624,5.794870695886719,-6.865947502542554],"scale":[2,2,2],"rotation":[-2.10566630686093,-0.7970961127297872,3.0967556847615665,"XYZ"]}'),a8=JSON.parse('{"position":[1.8193588107480339,2.1470959938665986,-1.6198049597518471],"scale":[2,2,2],"rotation":[1.1019548021334615,-0.6759099199388001,-0.06667665288558382,"XYZ"]}'),a9=JSON.parse('{"position":[1.540675618961795,0.42181523973376533,0.6854787475299797],"scale":[1,1,1],"rotation":[1.2604976141262214,-0.8431054020354061,0.046249364262279366,"XYZ"]}'),a6=JSON.parse('{"position":[1.540675618961795,0.37181523973376535,-2.34477972877752],"scale":[1,1,1],"rotation":[1.2604976141262214,-0.8431054020354061,0.046249364262279366,"XYZ"]}'),se=JSON.parse('{"position":[-1.7933968716363824,0.0667990615430315,1.2083118193893236],"scale":[1,1,2],"rotation":[3.141592653589793,-1.0175261273828022,3.141592653589793,"XYZ"]}'),st=JSON.parse('{"position":[-2.0871173511131227,0.03130839919085199,0.04237034314623639],"scale":[1,1,2],"rotation":[3.141592653589793,-0.6749326029487516,3.141592653589793,"XYZ"]}');let si={[w.wi.Dark]:{envIntensity:.7,backgroundIntensity:1},[w.wi.Light]:{envIntensity:.7,backgroundIntensity:1},[w.wi.HDR]:{envIntensity:1.75,backgroundIntensity:1.5}};class sa extends tt{setupRenderTarget(){this.fbo=new X.oAp(512),this.fbo.texture.type=(0,w.h6)(),this.camera.renderTarget=this.fbo,this.scene.environment=this.fbo.texture}render(){this.visible&&this.camera&&(!(this.count>100)||td.state.rotateBackground)&&(td.state.rotateBackground&&(this.group.rotation.y+=.15*i7.delta),this.group.visible=!0,this.camera.update(this.renderer,this.scene),this.group.visible=!1,td.state.rotateBackground||(this.count+=1))}show(){this.visible=!0,this.group.visible=!0}hide(){this.visible=!1,this.group.visible=!1}constructor(e,t){var i;super(),i=this,this.scene=e,this.renderer=t,this.group=new X.ZAu,this.debug=!0,this.count=0,this.visible=!0,this.animation={time:0},this.onStateChange=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];w.d9[e.prev.backgroundTheme]===w.Eo.Skybox&&w.d9[e.state.backgroundTheme]===w.Eo.Gradient&&(i.scene.environment=null,i.scene.background=null,i.fbo&&(i.fbo.dispose(),i.fbo=void 0),i.setupRenderTarget()),(e.state.backgroundTheme!==e.prev.backgroundTheme||t)&&i.onThemeSettingsChange(),(e.state.backgroundTheme!==e.prev.backgroundTheme||e.state.carModel!==e.prev.carModel||t)&&(i.count=0),e.state.rotateBackground!==e.prev.rotateBackground&&eQ(i.group,!0,td.state.rotateBackground)},this.onThemeSettingsChange=()=>{let e=si[td.state.backgroundTheme],t={envIntensity:this.scene.environmentIntensity,backgroundIntensity:this.scene.backgroundIntensity},i={envIntensity:e.envIntensity,backgroundIntensity:e.backgroundIntensity};this.animation.time=0,b.ZP.to(this.animation,{time:1,duration:w.Zo,ease:w.UT,onUpdate:()=>{this.scene.environmentIntensity=X.M8C.lerp(t.envIntensity,i.envIntensity,this.animation.time),this.scene.backgroundIntensity=X.M8C.lerp(t.backgroundIntensity,i.backgroundIntensity,this.animation.time)}})},this.resetBackgroundRotation=()=>{this.group.rotation.y=0,this.count=0,eQ(this.group,!0,!0),this.group.updateMatrix(),eQ(this.group,!0,td.state.rotateBackground)},this.group.name="EnvironmentEntity",this.camera=new X._am(.1,50),this.setupRenderTarget(),this.material=new X.jyz({uniforms:{color:{value:new X.Ilk(16777215)},strength:{value:3}},vertexShader:"\n        void main() {\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        uniform vec3 color;\n        uniform float strength;\n        void main() {\n          gl_FragColor = vec4(color * strength, 1.0);\n        }\n      ",side:X.ehD});let a=new X._12(1,1),s=new X.o8S(.5,1,64),n=new X.o8S(0,1,64),o=new X.Kj0(a,this.material),r=new X.Kj0(a,this.material),l=new X.Kj0(s,this.material),d=new X.Kj0(s,this.material),h=new X.Kj0(n,this.material),c=new X.Kj0(n,this.material),p=new X.Kj0(n,this.material),m=new X.Kj0(n,this.material);o.name="mesh0",r.name="mesh1",l.name="mesh2",d.name="mesh3",h.name="mesh4",c.name="mesh5",p.name="mesh6",p.name="mesh7",this.group.add(o,r,l,d,h,c,p,m),eX(o,a5),eX(r,a7),eX(l,a4),eX(d,a8),eX(h,a9),eX(c,a6),eX(p,se),eX(m,st),eQ(this.group,!0,!1),e.add(this.group),e.backgroundBlurriness=1,e.backgroundIntensity=1,td.addEventListener("change",this.onStateChange),td.trigger(()=>{this.onStateChange({state:td.state,prev:td.prev},!0)}),to.addEventListener("resetBackgroundRotation",this.resetBackgroundRotation),this.resetBackgroundRotation()}}class ss extends ee{constructor(e,t){super(e),this.gui=e,this.gui.addBinding(t.material.uniforms.strength,"value",{min:0,label:"Strength"})}}let sn={[w.wi.Dark]:{opacity:.1,color:16777215},[w.wi.Light]:{opacity:.45,color:0},[w.wi.HDR]:{opacity:.45,color:0}};class so extends tt{onThemeSettingsChange(e){let t=sn[td.state.backgroundTheme];if(!t)return;b.ZP.to(this.mesh.material.uniforms.opacity,{value:e?t.opacity:0,duration:w.Zo,ease:w.UT});let i={color:this.mesh.material.uniforms.cellColor.value.getHex()},a={color:t.color};this.animation.time=0,b.ZP.to(this.animation,{time:1,duration:w.Zo,ease:w.UT,onUpdate:()=>{this.mesh.material.uniforms.cellColor.value.copy(e0(i.color,a.color,this.animation.time)),this.mesh.material.uniforms.sectionColor.value.copy(this.mesh.material.uniforms.cellColor.value)}})}constructor(){var e;super(),e=this,this.name="Grid",this.group=new X.ZAu,this.animation={time:0},this.onStateChange=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(t.state.grid!==t.prev.grid||t.state.backgroundTheme!==t.prev.backgroundTheme||i)&&e.onThemeSettingsChange(t.state.grid)},this.group.name=this.name;let t=new X.jyz({uniforms:{cellSize:{value:.5},sectionSize:{value:1},fadeDistance:{value:14},fadeStrength:{value:1},cellThickness:{value:.5},sectionThickness:{value:1},cellColor:{value:new X.Ilk(16777215)},sectionColor:{value:new X.Ilk(16777215)},infiniteGrid:{value:1},followCamera:{value:0},opacity:{value:0}},vertexShader:"\n        varying vec3 worldPosition;\n        uniform float fadeDistance;\n        uniform float infiniteGrid;\n        uniform float followCamera;\n        void main() {\n          vec3 pos = position.xzy * (1. + fadeDistance * infiniteGrid);\n          pos.xz += (cameraPosition.xz * followCamera);\n          worldPosition = pos;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n        }\n      ",fragmentShader:"\n      varying vec3 worldPosition;\n      uniform float cellSize;\n      uniform float sectionSize;\n      uniform vec3 cellColor;\n      uniform vec3 sectionColor;\n      uniform float fadeDistance;\n      uniform float fadeStrength;\n      uniform float cellThickness;\n      uniform float sectionThickness;\n      uniform float infiniteGrid;\n      uniform float opacity;\n      float getGrid(float size, float thickness) {\n        vec2 r = worldPosition.xz / size;\n        vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);\n        float line = min(grid.x, grid.y) + 1. - thickness;\n        return 1.0 - min(line, 1.);\n      }\n      void main() {\n        float g1 = getGrid(cellSize, cellThickness);\n        float g2 = getGrid(sectionSize, sectionThickness);\n        float d = 1.0 - min(distance(cameraPosition.xz, worldPosition.xz) / fadeDistance, 1.);\n        vec3 color = mix(cellColor, sectionColor, min(1.,sectionThickness * g2));\n        gl_FragColor = vec4(color, (g1 + g2) * pow(d,fadeStrength));\n        gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);\n        gl_FragColor.a *= opacity;\n        if (gl_FragColor.a <= 0.0) discard;\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      }",transparent:!0,side:X.ehD});this.mesh=new X.Kj0(new X._12(300,50,300),t),this.mesh.renderOrder=2,this.group.position.y=-.009,this.group.add(this.mesh),this.addComponent(new te(this.group)),td.addEventListener("change",this.onStateChange),td.trigger(()=>{this.onStateChange({state:td.state,prev:td.prev},!0)}),to.addEventListener("grid",e=>{this.onThemeSettingsChange(e.value)})}}class sr extends ee{constructor(e,t){super(e),this.gui=this.addFolder(e,{title:"Grid"}),this.gui.addBinding(t.mesh.material.uniforms.cellSize,"value",{label:"Cell Size",min:.1,max:10}),this.gui.addBinding(t.mesh.material.uniforms.sectionSize,"value",{label:"Section Size",min:.1,max:10}),this.gui.addBinding(t.mesh.material.uniforms.fadeDistance,"value",{label:"Fade Distance",min:10,max:100}),this.gui.addBinding(t.mesh.material.uniforms.fadeStrength,"value",{label:"Fade Strength",min:.1,max:5}),this.gui.addBinding(t.mesh.material.uniforms.cellThickness,"value",{label:"Cell Thickness",min:.01,max:2}),this.gui.addBinding(t.mesh.material.uniforms.sectionThickness,"value",{label:"Section Thickness",min:.01,max:2}),this.gui.addBinding(t.mesh.material.uniforms.cellColor,"value",{label:"Cell Color",min:0,max:1,color:{type:"float"}}),this.gui.addBinding(t.mesh.material.uniforms.sectionColor,"value",{label:"Section Color",color:{type:"float"}}),this.gui.addBinding(t.mesh.material.uniforms.infiniteGrid,"value",{label:"Infinite Grid",min:0,max:1,step:1}),this.gui.addBinding(t.mesh.material.uniforms.followCamera,"value",{label:"Follow Camera",min:0,max:1,step:1}),this.gui.addBinding(t.mesh.material.uniforms.opacity,"value",{label:"opacity",min:0,max:1})}}class sl extends tt{constructor(){super(),this.group=new X.ZAu,this.group.name="Spotlight",this.light=new X.PMe(16777215,2.5),this.light.castShadow=!1,this.light.decay=.22,this.light.angle=.38,this.light.penumbra=.57,this.light.position.set(0,35,0),this.light.target.position.set(0,0,0),this.light.shadow.mapSize.width=1024,this.light.shadow.mapSize.height=1024,this.light.shadow.camera.near=.5,this.light.shadow.camera.far=50,this.light.shadow.focus=1,this.light.shadow.bias=-.0001,new X.Rki(this.light.shadow.camera),this.group.add(this.light,this.light.target),this.addComponent(new te(this.group))}}class sd extends tt{show(){this.visible=!0,this.scene.add(this.group)}hide(){this.visible=!1,this.scene.remove(this.group)}update(){this.visible&&td.state.rotateBackground&&(this.scene.environmentRotation.y+=.15*i7.delta)}constructor(e){var t;super(),t=this,this.scene=e,this.settings={scale:10,height:1.68,radius:4.9},this.group=new X.ZAu,this.geometry=new X.xo$(1,64,64),this.events=new X.pBf,this.visible=!1,this.onStateChange=function(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(e.state.backgroundTheme!==e.prev.backgroundTheme||i)&&w.d9[e.state.backgroundTheme]===w.Eo.Skybox&&t.onSkyboxChange()},this.onSkyboxChange=()=>{this.skybox&&eT(this.skybox);let e=iC.get(w.de.Global,"hdr-environment");if(e instanceof ei){let t=e.data;t.mapping=X.dSO,this.scene.environment=t,this.scene.background=t}},this.onScaleChange=()=>{this.skybox&&this.skybox.scale.setScalar(this.settings.scale)},this.group.name="SkyboxEnvironment",this.geometry.scale(-1,1,1),this.material=new X.jyz({vertexShader:"\n        varying vec2 vUv;\n        void main() {\n          vUv = uv;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n      ",fragmentShader:"\n        uniform sampler2D map;\n        varying vec2 vUv;\n        void main() {\n          gl_FragColor = texture2D(map,  vUv);\n        }\n      ",uniforms:{map:{value:null}}}),this.addComponent(new te(this.group)),td.addEventListener("change",this.onStateChange),td.trigger(()=>{this.onStateChange({state:td.state,prev:td.prev},!0)}),this.addComponent(new is(this)),this.onScaleChange()}}class sh extends ee{constructor(e,t){super(e),this.target=t,this.gui=this.addFolder(e,{title:"Skybox Environment"}),this.gui.addBinding(t.settings,"scale",{min:.1}).on("change",t.onScaleChange)}}var sc={uniforms:{tDiffuse:{value:null},textureMatrix:{value:null},circleParams:{value:new X.FM8(.5,.4)}},vertexShader:{uniforms:"\n      uniform mat4 textureMatrix;\n      varying vec4 vUv2;\n      varying vec2 vUv;\n      #include <logdepthbuf_pars_vertex>\n    ",functions:"",preTransform:"",projectVertex:"\n  		vUv2 = textureMatrix * vec4( position, 1.0 );\n      vUv = uv;\n			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n			#include <logdepthbuf_vertex>\n    "},fragmentShader:{uniforms:"\n      uniform vec3 color;\n      uniform vec2 circleParams;\n      uniform sampler2D tDiffuse;\n      varying vec4 vUv2;\n      varying vec2 vUv;\n\n      #include <logdepthbuf_pars_fragment>\n\n      float blendOverlay( float base, float blend ) {\n        return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n      }\n\n      vec3 blendOverlay( vec3 base, vec3 blend ) {\n        return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );\n      }\n    ",functions:"\n    \n      ".concat(ta,"\n    "),outgoingLightColor:"",lights_fragment_maps:"\n      #if defined( RE_IndirectDiffuse )\n\n        #ifdef USE_LIGHTMAP\n      \n          vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n          vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n      \n          irradiance += lightMapIrradiance;\n      \n        #endif\n      \n        #if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n      \n          iblIrradiance += getIBLIrradiance( geometryNormal );\n      \n        #endif\n      \n      #endif\n      \n      #if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n      \n        #ifdef USE_ANISOTROPY\n      \n          radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n      \n        #else\n      \n          radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n      \n        #endif\n      \n        #ifdef USE_CLEARCOAT\n      \n          clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n      \n        #endif\n      \n      #endif\n\n      // vec4 base = texture2DProj(tDiffuse, vUv2 + vec4(mapN, 0.0));\n      vec4 base = texture2DProj(tDiffuse, vUv2);\n      radiance = base.rgb * 0.45;//mix(radiance, base.rgb, 1.0 - roughnessFactor);\n    ",opaqueFragment:"\n      //  base = texture2DProj(tDiffuse, vUv2 + vec4(mapN, 0.0));\n\n      // gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\n      // gl_FragColor.rgb = radiance;\n\n      float c = smoothCircle(vUv.xy, vec2(0.5), circleParams.x, circleParams.y);\n      gl_FragColor.a = c;\n    "}};let sp={[w.wi.Dark]:{color:"#464646",circleRadius:.5,circleBorder:.4,metalness:.33},[w.wi.Light]:{color:"#999999",circleRadius:.5,circleBorder:.4,metalness:.33},[w.wi.HDR]:{color:"#4f4f4f",circleRadius:.27,circleBorder:.23,metalness:0}};class sm extends X.Kj0{getRenderTarget(){return this.renderTarget}dispose(){this.renderTarget.dispose(),this.material instanceof X.jyz&&this.material.dispose()}constructor(e,t={},i){var a;super(e),a=this,this.isReflector=!0,this.type="Reflector",this.camera=new X.cPb,this.animation={time:0},this.bloomPassStrength=1,this.bloomPassThreshold=2.5,this.onStateChange=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(e.state.backgroundTheme!==e.prev.backgroundTheme||t)&&a.onThemeSettingsChange(e.state.backgroundTheme,e.prev.backgroundTheme)},this.onThemeSettingsChange=(e,t)=>{let i=sp[e],a=this.material,s={color:a.color.getHex(),circleRadius:sp[t].circleRadius,circleBorder:sp[t].circleBorder,metalness:sp[t].metalness},n={color:e$(i.color),circleRadius:i.circleRadius,circleBorder:i.circleBorder,metalness:i.metalness};this.animation.time=0,b.ZP.to(this.animation,{time:1,duration:w.Zo,ease:w.UT,onUpdate:()=>{var e;a.color.copy(e0(s.color,n.color,this.animation.time)),this.material.metalness=X.M8C.lerp(s.metalness,n.metalness,this.animation.time),null===(e=this.shader)||void 0===e||e.uniforms.circleParams.value.set(X.M8C.lerp(s.circleRadius,n.circleRadius,this.animation.time),X.M8C.lerp(s.circleBorder,n.circleBorder,this.animation.time))}})};let s=this;this.renderOrder=2;let n=t.textureWidth||512,o=t.textureHeight||512,r=t.clipBias||0,l=t.shader||su,d=void 0!==t.multisample?t.multisample:4;this.copyPassToRenderTarget=new tC.T(tL.C);let h=new X.JOQ,c=new X.Pa4,p=new X.Pa4,m=new X.Pa4,u=new X.yGw,g=new X.Pa4(0,0,-1),f=new X.Ltg,v=new X.Pa4,_=new X.Pa4,y=new X.Ltg,x=new X.yGw,C=this.camera;this.renderTarget=new X.dd2(n,o,{samples:d,type:(0,w.h6)()}),this.copyRenderTarget=new X.dd2(n,o,{type:X.cLu,minFilter:X.wem,magFilter:X.wem,format:X.wk1});let M=new X.Wid({name:void 0!==l.name?l.name:"unspecified",color:1842204,roughness:1,metalness:.33,transparent:!0,side:X.ehD}),L=iC.get(w.de.Global,"floor-roughness");L instanceof ei&&(M.roughnessMap=L.data,M.roughnessMap.colorSpace=X.GUF);let S=iZ.capabilities.getMaxAnisotropy();M.roughnessMap&&(M.roughnessMap.repeat.set(10,10),M.roughnessMap.wrapS=M.roughnessMap.wrapT=X.rpg,M.roughnessMap.anisotropy=S),M.onBeforeCompile=e=>{this.shader=aV(e,sc),this.shader.uniforms.tDiffuse.value=this.renderTarget.texture,this.shader.uniforms.textureMatrix.value=x,this.onThemeSettingsChange(td.state.backgroundTheme,td.prev.backgroundTheme),this.dispatchEvent({type:"material-compiled",shader:e})},this.material=M,td.addEventListener("change",this.onStateChange),td.trigger(()=>{this.onStateChange({state:td.state,prev:td.prev},!0)}),this.onBeforeRender=function(e,t,a){if(p.setFromMatrixPosition(s.matrixWorld),m.setFromMatrixPosition(a.matrixWorld),u.extractRotation(s.matrixWorld),c.set(0,0,1),c.applyMatrix4(u),v.subVectors(p,m),v.dot(c)>0)return;v.reflect(c).negate(),v.add(p),u.extractRotation(a.matrixWorld),g.set(0,0,-1),g.applyMatrix4(u),g.add(m),_.subVectors(p,g),_.reflect(c).negate(),_.add(p),C.position.copy(v),C.up.set(0,1,0),C.up.applyMatrix4(u),C.up.reflect(c),C.lookAt(_),C.far=a.far,C.updateMatrixWorld(),C.projectionMatrix.copy(a.projectionMatrix),x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(C.projectionMatrix),x.multiply(C.matrixWorldInverse),x.multiply(s.matrixWorld),h.setFromNormalAndCoplanarPoint(c,p),h.applyMatrix4(C.matrixWorldInverse),f.set(h.normal.x,h.normal.y,h.normal.z,h.constant);let n=C.projectionMatrix;y.x=(Math.sign(f.x)+n.elements[8])/n.elements[0],y.y=(Math.sign(f.y)+n.elements[9])/n.elements[5],y.z=-1,y.w=(1+n.elements[10])/n.elements[14],f.multiplyScalar(2/f.dot(y)),n.elements[2]=f.x,n.elements[6]=f.y,n.elements[10]=f.z+1-r,n.elements[14]=f.w,s.visible=!1;let o=e.getRenderTarget(),l=e.xr.enabled,d=e.shadowMap.autoUpdate;if(e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,i.visible=!1,e.setRenderTarget(this.renderTarget),e.state.buffers.depth.setMask(!0),!1===e.autoClear&&e.clear(),e.render(t,C),td.state.headLights||td.state.tailLights){let t=iU.bloomPass.strength,i=iU.bloomPass.threshold;iU.bloomPass.strength=this.bloomPassStrength,iU.bloomPass.threshold=this.bloomPassThreshold,(!Q.device.desktop&&td.state.graphics===w.TC.Quality||Q.device.desktop)&&iU.bloomPass.render(e,this.copyRenderTarget,this.renderTarget,1,!1),iU.bloomPass.strength=t,iU.bloomPass.threshold=i}e.xr.enabled=l,e.shadowMap.autoUpdate=d,e.setRenderTarget(o);let b=a.viewport;void 0!==b&&e.state.viewport(b),s.visible=!0,i.visible=!0}}}let su={name:"ReflectorShader",uniforms:{tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:"\n		uniform mat4 textureMatrix;\n		varying vec4 vUv;\n\n		#include <common>\n		#include <logdepthbuf_pars_vertex>\n\n		void main() {\n\n			vUv = textureMatrix * vec4( position, 1.0 );\n\n			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n			#include <logdepthbuf_vertex>\n\n		}",fragmentShader:"\n		uniform vec3 color;\n		uniform sampler2D tDiffuse;\n		varying vec4 vUv;\n\n		#include <logdepthbuf_pars_fragment>\n\n		float blendOverlay( float base, float blend ) {\n\n			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n\n		}\n\n		vec3 blendOverlay( vec3 base, vec3 blend ) {\n\n			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );\n\n		}\n\n    ".concat(ta,"\n\n		void main() {\n\n			#include <logdepthbuf_fragment>\n\n			vec4 base = texture2DProj( tDiffuse, vUv );\n			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\n\n			#include <tonemapping_fragment>\n			#include <colorspace_fragment>\n		}")};class sg extends tt{show(){this.mesh.visible=!0}hide(){this.mesh.visible=!1}onBeforeEnvironmentRender(e){this.mesh.visible=!e}constructor(e){super();let t=new X._12(25,25);this.mesh=new sm(t,{clipBias:.003,textureWidth:Q.device.desktop?1024:512,textureHeight:Q.device.desktop?1024:512},e),this.mesh.rotateX(-Math.PI/2),this.mesh.name="Floor",this.mesh.receiveShadow=!0,this.mesh.position.y=-.01,this.mesh.updateMatrix(),this.mesh.matrixAutoUpdate=!1,this.addComponent(new te(this.mesh))}}class sf extends ee{constructor(e,t){super(e),this.onMaterialCompiled=e=>{this.folders.material&&this.folders.material.dispose(),this.folders.material=this.addFolder(this.gui,{title:"Floor Shader"}),this.folders.material.addBinding(e.shader.uniforms.circleParams,"value",{x:{min:0,max:1,label:"Circle Radius"},y:{min:0,max:1,label:"Circle Border"}})},this.gui=this.addFolder(e,{title:"FloorEntity"}),this.api.color="#".concat(t.mesh.material.color.getHexString()),this.gui.addBinding(this.api,"color",{label:"Floor Color"}).on("change",()=>{t.mesh.material.color.setStyle(this.api.color)}),this.gui.addBinding(t.mesh,"bloomPassThreshold",{min:0,label:"Bloom Pass Thresold"}),this.gui.addBinding(t.mesh,"bloomPassStrength",{min:0,label:"Bloom Pass Strength"}),t.mesh.addEventListener("material-compiled",this.onMaterialCompiled)}}class sv{addKeyListener(){window.addEventListener("keydown",e=>{e.key>="0"&&e.key<="9"&&this.animateToBookmark(e.key)})}get storeId(){return"bookmarks-".concat(this.id)}get totalBookmarks(){return Object.keys(this.bookmarks).length}loadBookmarks(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(e)for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.bookmarks[t]=e[t]);if(t){let e=q.get(this.storeId);if(e){let t=JSON.parse(e);for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(this.bookmarks[e]=t[e])}}}goToBookmark(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.animate;if(t){this.animateToBookmark(e);return}this.camera.position.fromArray(this.bookmarks[e].position),this.camera.rotation.fromArray(this.bookmarks[e].rotation),this.camera.updateMatrixWorld(),Array.isArray(this.bookmarks[e].target)&&this.controls.target.fromArray(this.bookmarks[e].target)}killTweens(){b.ZP.killTweensOf(this.camera.position),b.ZP.killTweensOf(this.camera.rotation),b.ZP.killTweensOf(this.controls.target)}animateToBookmark(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"power2.inOut",s=arguments.length>4?arguments[4]:void 0;return new Promise(n=>{let o=this.bookmarks[e],r=b.ZP.to(this.camera.position,{x:o.position[0],y:o.position[1],z:o.position[2],duration:t,ease:a,delay:i,onUpdate:()=>{this.camera.updateMatrixWorld(),this.controls.update(),s&&s(r.progress())}});b.ZP.to(this.camera.rotation,{x:o.rotation[0],y:o.rotation[1],z:o.rotation[2],duration:t,ease:a,delay:i,onUpdate:()=>{this.camera.updateMatrixWorld(),this.controls.update()},onComplete:()=>{n()}}),Array.isArray(o.target)&&b.ZP.to(this.controls.target,{x:o.target[0],y:o.target[1],z:o.target[2],duration:t,ease:a,delay:i,onUpdate:()=>{this.controls.update()}})})}constructor(e,t,i){this.id=e,this.camera=t,this.controls=i,this.bookmark="1",this.bookmarks={},this.animate=!0;for(let e=0;e<9;e++)this.bookmarks[e.toString()]={position:[0,1,5],rotation:[0,0,0,X.USm.DEFAULT_ORDER],target:[0,0,0]}}}class s_ extends ee{constructor(e,t){super(e),this.gui=this.addFolder(e,{title:"BookmarkManager"});let i=Object.keys(t.bookmarks);this.gui.addBinding(t,"bookmark",{options:tn(i)}).on("change",e=>{t.goToBookmark(e.value)}),this.gui.addButton({title:"Reset Camera",label:""}).on("click",()=>{t.goToBookmark(t.bookmark.toString())}),this.gui.addButton({title:"Save",label:""}).on("click",()=>{let e={position:t.camera.position.toArray(),rotation:t.camera.rotation.toArray(),target:t.controls.target.toArray()};t.bookmarks[t.bookmark.toString()]=e,q.set(t.storeId,JSON.stringify(t.bookmarks))}),this.gui.addButton({title:"Export",label:""}).on("click",()=>{eW(JSON.stringify(t.bookmarks,null,2),"bookmarks")})}}tn(["power1.in","power1.out","power1.inOut","power2.in","power2.out","power2.inOut","power3.in","power3.out","power3.inOut","power4.in","power4.out","power4.inOut","linear","easeInOut","easeIn","easeOut","rough","slow","circ.in","circ.out","circ.inOut","bounce.in","bounce.out","bounce.inOut","elastic.in","elastic.out","elastic.inOut","back.in","back.out","back.inOut"]);var sy=JSON.parse('{"minDistance":5,"maxDistance":9,"minZoom":0,"maxZoom":100000,"minTargetRadius":0,"maxTargetRadius":100000,"minAzimuthAngle":-100000,"maxAzimuthAngle":100000,"enableDamping":false,"dampingFactor":0.05,"enableZoom":true,"enableRotate":true,"rotateSpeed":1,"enablePan":false,"panSpeed":1,"autoRotate":false,"autoRotateSpeed":2,"_position":[7.8278387708037895,3.3507273530710835,9.951212376353428],"_rotation":[-0.13507452852058643,0.7330851622566805,0.09069149190475746,"XYZ"],"_target":[-0.716956679476387,0.75,0.5485832204861153]}'),sx=JSON.parse('{"0":{"position":[0.026555811727579967,1.0330336516045269,6.457705435893244],"rotation":[-0.08730766094456971,-0.030682688088087627,-0.002685233303745541,"XYZ"],"target":[0.1954667694554935,0.75,0.020569673174033683]},"1":{"position":[3.1328651598949038,1.2066546738948403,4.789343576192479],"rotation":[-0.1440411168029949,0.6157342009149114,0.08357712861191668,"XYZ"],"target":[0.08399757525398373,0.5880648308744922,0.5245489646497511]},"2":{"position":[3.3242722259626905,0.883454561390734,-4.333621373379141],"rotation":[-3.015910211982355,0.8019744029728948,3.0510306203073947,"XYZ"],"target":[-0.433587,0.508386,-0.498371]},"3":{"position":[-2.8852721311960656,0.9272414949635093,-5.181136873860629],"rotation":[-3.03322397831415,-0.6337223765774276,-3.077258827058733,"XYZ"],"target":[0.897525,0.4554020000000002,0.192054]},"4":{"position":[-3.025056855254575,3.4906153905897113,-3.2777168609603957],"rotation":[-2.2791340031297374,-0.6094079981846445,-2.5525504838982,"XYZ"],"target":[-0.069043,-0.11988699999999997,-0.173443]},"5":{"position":[-2.9610783599696346,2.5378430900389004,3.2090458990461004],"rotation":[-0.7228441421669842,-0.7075237727175001,-0.5205801699804319,"XYZ"],"target":[0.23183899999999996,0.024434,0.532958]},"6":{"position":[2.7223609340865482,0.9616503293100449,3.588986063898715],"rotation":[-0.13350091658255236,0.7501390847234778,0.09130300301524459,"XYZ"],"target":[-0.3310672433727362,0.5255040069243699,0.34142658804651305]},"7":{"position":[4.772183629560244,1.4316498137530456,5.075590304306254],"rotation":[-0.1335008132909544,0.7501390824470819,0.09130293170123582,"XYZ"],"target":[0,0.75,0]},"8":{"position":[0.02917450136615397,1.2223782342786462,3.3992291034870075],"rotation":[-0.08727096661355664,0.010146811827662106,0.0008877615899907158,"XYZ"],"target":[0,0.75,0]},"9":{"position":[0.02917450136615397,1.2223782342786462,9],"rotation":[-0.08727096661355664,0.010146811827662106,0.0008877615899907158,"XYZ"],"target":[0,0.75,0]}}');class sb{toggleSkipButton(e,t){var i,a;null===(i=this.skipButton)||void 0===i||i.removeEventListener("click",this.onSkipButtonClick),e&&(null===(a=this.skipButton)||void 0===a||a.addEventListener("click",this.onSkipButtonClick)),this.skipButton&&b.ZP.to(this.skipButton,{autoAlpha:e?1:0,duration:t?w.Zo/2:0,ease:w.mA})}scaleCameraAnimation(e,t){let i={};return Object.keys(e).forEach(a=>{let{position:s,rotation:n,target:o}=e[a],r=new X.Pa4().fromArray(s);r.x*=t,r.z*=t,i[a]={position:r.toArray(),rotation:n,target:o}}),i}update(){this.controls.enabled&&this.controls.update()}constructor(e,t,i){this.scene=e,this.camera=t,this.renderer=i,this.settings={bookmarkIndex:0},this.animationIndex=0,this.animation={startIndex:"0",endIndex:"1",duration:4,delay:0,ease:"power2.inOut",fadeInOut:!1},this.debug=!1,this.fastForward=!1,this.skipButton=null,this.onSkipButtonClick=()=>{this.bookmarkManager.killTweens(),iU.tintPass.setTransition(0),this.toggleSkipButton(!1,!0),this.animationIndex=this.animations.length-1,this.playAnimation()},this.resetSequence=()=>{this.animationIndex=0,clearInterval(this.envMapInterval),clearTimeout(this.studioLightsTimeout),this.bookmarkManager.killTweens(),iU.tintPass.setTransition(0),to.dispatchEvent({type:"carHeadLights",lights:!1,animate:!1}),to.dispatchEvent({type:"carTailLights",lights:!1,animate:!1})},this.playSequence=()=>{this.resetSequence(),this.playAnimation(),to.dispatchEvent({type:"rotateBackground",value:!1}),to.dispatchEvent({type:"resetBackgroundRotation"}),setTimeout(()=>{to.dispatchEvent({type:"carHeadLights",lights:!0,animate:!0})},1500),setTimeout(()=>{this.toggleSkipButton(!0,!0)},4500)},this.playAnimation=()=>{this.bookmarkManager.killTweens(),Object.assign(this.animation,this.animations[this.animationIndex]),this.bookmarkManager.goToBookmark(this.animation.startIndex,!1),1===this.animationIndex&&setTimeout(()=>{to.dispatchEvent({type:"carTailLights",lights:!0,animate:!0})},1e3),this.animationIndex===this.animations.length-1&&to.dispatchEvent({type:"rotateBackground",value:!0}),this.bookmarkManager.animateToBookmark(this.animation.endIndex,this.fastForward?1:this.animation.duration,this.animation.delay,this.animation.ease,this.onProgress).then(()=>{this.debug||(this.animationIndex++,this.animationIndex===this.animations.length-1&&this.toggleSkipButton(!1,!1),this.animationIndex<this.animations.length?this.playAnimation():(to.dispatchEvent({type:"introSequenceComplete"}),to.dispatchEvent({type:"sceneState",value:td.state.introSeen?w.ou.Interaction:w.ou.IntroUI}),to.dispatchEvent({type:"cameraMode",value:w.VC.Exterior})))})},this.onProgress=e=>{let t=1;this.animation.fadeInOut?(e<.15&&(t=X.M8C.clamp(X.M8C.mapLinear(e,0,.15,0,1),0,1)),e>.85&&(t=X.M8C.clamp(X.M8C.mapLinear(e,.85,1,1,0),0,1))):t=X.M8C.mapLinear(e,0,1,0,1),iU.tintPass.setTransition(t)},this.controls=new tY.z(t,i.domElement),this.controls.enabled=!1,this.skipButton=document.getElementById("skip");let a=!Q.device.desktop;tW(this.controls,sy),this.controls.minDistance=0,this.controls.maxDistance=1/0,this.animations=[{startIndex:"0",endIndex:"1",ease:"linear",delay:1,duration:5,fadeInOut:!0},{startIndex:"2",endIndex:"3",ease:"linear",delay:0,duration:5,fadeInOut:!0},{startIndex:"4",endIndex:"5",ease:"linear",delay:0,duration:5,fadeInOut:!0},{startIndex:a?"8":"6",endIndex:a?"9":"7",ease:w.mA,delay:0,duration:3,fadeInOut:!1}];let s=this.scaleCameraAnimation(sx,a?1.25:1);this.bookmarkManager=new sv("cinematic",this.camera,this.controls),this.bookmarkManager.loadBookmarks(s,!1),this.toggleSkipButton(!1,!1)}}var sw=JSON.parse('{"0":{"position":[3.6739038464352687,1.2747735768499697,3.907483908710917],"rotation":[-0.13350081329095445,0.7501390824470816,0.09130293170123581,"XYZ"],"target":[0,0.75,0]},"1":{"position":[4.8099200262805955,1.011520169761917,0.38369744431091113],"rotation":[-1.338011528802644,1.481104425762317,1.3371058138253347,"XYZ"],"target":[0.124582,0.601518,0.286493]},"2":{"position":[3.5452162388557156,0.9028505600089562,-1.3161751714045589],"rotation":[-2.938687275277645,1.1235321303483687,2.9581783991982875,"XYZ"],"target":[0.1801072215137518,0.5775648346259272,0.2649034503975993]},"3":{"position":[1.6467786877142947,0.9929225823535777,-0.5980338373935461],"rotation":[-2.707805598648113,0.8594154273470926,2.804146986516342,"XYZ"],"target":[0.10383041355721774,0.4339448400074033,0.6087073431424219]},"4":{"position":[0.8442374390476972,0.9580215842116327,0.020894076159573616],"rotation":[-2.5241466192894286,0.7726791805424981,2.6814214505613365,"XYZ"],"target":[0.22851818068294624,0.5923627722217574,0.5358626932279729]},"5":{"position":[0.3199208210464353,0.8428381766790297,-0.07736898812723543],"rotation":[-2.8764885177778052,-0.024621325562298204,-3.1349088773761897,"XYZ"],"target":[1,2,3]}}'),sC=JSON.parse('{"0":{"position":[3.6739038464352687,1.2747735768499697,3.907483908710917],"rotation":[-0.13350081329095445,0.7501390824470816,0.09130293170123581,"XYZ"],"target":[0,0.75,0]},"1":{"position":[4.8099200262805955,1.011520169761917,0.38369744431091113],"rotation":[-1.338011528802644,1.481104425762317,1.3371058138253347,"XYZ"],"target":[0.124582,0.601518,0.286493]},"2":{"position":[3.5452162388557156,0.9028505600089562,-1.3161751714045589],"rotation":[-2.938687275277645,1.1235321303483687,2.9581783991982875,"XYZ"],"target":[0.1801072215137518,0.5775648346259272,0.2649034503975993]},"3":{"position":[1.6467786877142947,0.9929225823535777,-0.5980338373935461],"rotation":[-2.707805598648113,0.8594154273470926,2.804146986516342,"XYZ"],"target":[0.10383041355721774,0.4339448400074033,0.6087073431424219]},"4":{"position":[0.8442374390476972,0.9580215842116327,0.020894076159573616],"rotation":[-2.5241466192894286,0.7726791805424981,2.6814214505613365,"XYZ"],"target":[0.22851818068294624,0.5923627722217574,0.5358626932279729]},"5":{"position":[0.3199208210464353,0.8428381766790297,-0.07736898812723543],"rotation":[-2.8764885177778052,-0.024621325562298204,-3.1349088773761897,"XYZ"],"target":[1,2,3]}}'),sM=JSON.parse('{"0":{"position":[3.6739038464352687,1.2747735768499697,3.907483908710917],"rotation":[-0.13350081329095445,0.7501390824470816,0.09130293170123581,"XYZ"],"target":[0,0.75,0]},"1":{"position":[4.8099200262805955,1.011520169761917,0.38369744431091113],"rotation":[-1.338011528802644,1.481104425762317,1.3371058138253347,"XYZ"],"target":[0.124582,0.601518,0.286493]},"2":{"position":[3.5452162388557156,0.9028505600089562,-1.3161751714045589],"rotation":[-2.938687275277645,1.1235321303483687,2.9581783991982875,"XYZ"],"target":[0.1801072215137518,0.5775648346259272,0.2649034503975993]},"3":{"position":[1.6467786877142947,0.9929225823535777,-0.5980338373935461],"rotation":[-2.707805598648113,0.8594154273470926,2.804146986516342,"XYZ"],"target":[0.10383041355721774,0.4339448400074033,0.6087073431424219]},"4":{"position":[0.8442374390476972,0.9580215842116327,0.020894076159573616],"rotation":[-2.5241466192894286,0.7726791805424981,2.6814214505613365,"XYZ"],"target":[0.22851818068294624,0.5923627722217574,0.5358626932279729]},"5":{"position":[0.3199208210464353,0.8428381766790297,-0.07736898812723543],"rotation":[-2.8764885177778052,-0.024621325562298204,-3.1349088773761897,"XYZ"],"target":[1,2,3]}}'),sL=JSON.parse('{"0":{"position":[3.6739038464352687,1.2747735768499697,3.907483908710917],"rotation":[-0.13350081329095445,0.7501390824470816,0.09130293170123581,"XYZ"],"target":[0,0.75,0]},"1":{"position":[4.8099200262805955,1.011520169761917,0.38369744431091113],"rotation":[-1.338011528802644,1.481104425762317,1.3371058138253347,"XYZ"],"target":[0.124582,0.601518,0.286493]},"2":{"position":[3.5452162388557156,0.9028505600089562,-1.3161751714045589],"rotation":[-2.938687275277645,1.1235321303483687,2.9581783991982875,"XYZ"],"target":[0.1801072215137518,0.5775648346259272,0.2649034503975993]},"3":{"position":[1.6467786877142947,0.9929225823535777,-0.5980338373935461],"rotation":[-2.707805598648113,0.8594154273470926,2.804146986516342,"XYZ"],"target":[0.10383041355721774,0.4339448400074033,0.6087073431424219]},"4":{"position":[0.9231568919938359,1.1926849691505923,-0.5371123920951991],"rotation":[-2.57880054005244,0.7436227730494658,2.737981238929903,"XYZ"],"target":[-0.22133070957800516,0.5287677200879214,0.5153113173139136]},"5":{"position":[0.3922090003997761,1.0256609115416828,-0.49912573299463037],"rotation":[-2.860535420545802,-0.0034748894214614127,-3.1405894577069873,"XYZ"],"target":[0.3925785535895724,0.996162669339417,-0.39694938751135267]}}');let sS={[w.Oi.McLaren]:sM,[w.Oi.Lamborghini]:sC,[w.Oi.Nissan]:sL,[w.Oi.Ferrari]:sw};class sk{scaleCameraAnimation(e,t){let i={};return Object.keys(e).forEach(a=>{let{position:s,rotation:n,target:o}=e[a],r=new X.Pa4().fromArray(s);r.x*=t,r.z*=t,i[a]={position:r.toArray(),rotation:n,target:o}}),i}set enabled(e){if(this.controls.enabled=e,e){this.controls.minPolarAngle=X.M8C.degToRad(20),this.controls.maxPolarAngle=X.M8C.degToRad(88);let e=Q.device.desktop?this.zoomedOutData[7]:this.zoomedOutData[9];this.camera.position.fromArray(e.position),this.camera.rotation.fromArray(e.rotation),this.camera.updateMatrixWorld(),Array.isArray(e.target)&&this.controls.target.fromArray(e.target),this.camera.fov=w.Sr.Exterior,this.camera.updateProjectionMatrix()}else this.controls.minPolarAngle=-1/0,this.controls.maxPolarAngle=1/0}toggleRotation(e){e?this.startRotation():this.stopRotation()}stopRotation(){this.isRotating&&(this.isRotating=!1,this.rotationAnimation&&(this.rotationAnimation.kill(),this.rotationAnimation=null))}startRotation(){if(this.isRotating)return;this.isRotating=!0;let e=new X.$V,t=this.controls.target.clone();this.rotationAnimation=b.ZP.to(this.camera.position,{duration:this.rotationSpeed,repeat:-1,ease:"linear",onUpdate:()=>{e.setFromVector3(this.camera.position.clone().sub(t)),e.theta+=X.M8C.degToRad(.1),this.camera.position.setFromSpherical(e).add(t),this.camera.lookAt(t),this.controls.update()}})}getTransitionData(){return sS[td.state.carModel]}createAnimationCurves(e){let t=Object.values(e).map(e=>new X.Pa4().fromArray(e.position)),i=Object.values(e).map(e=>new X.Pa4().fromArray(e.target));this.splines.position=e1(t,50),this.splines.target=e1(i,50),this.debugLine&&(this.positionLine&&(this.positionLine.geometry.dispose(),this.scene.remove(this.positionLine)),this.targetLine&&(this.targetLine.geometry.dispose(),this.scene.remove(this.targetLine)),this.positionLine=e2(this.splines.position.points,this.positionLineMaterial),this.targetLine=e2(this.splines.target.points,this.targetLineMaterial),this.scene.add(this.positionLine),this.scene.add(this.targetLine))}getLastPosition(){return this.splines.target.points[this.splines.target.points.length-1]}update(){this.controls.enabled&&!this.isRotating&&this.controls.update()}constructor(e,t,i,a){var s=this;this.scene=e,this.camera=t,this.renderer=i,this.cameraControllerInterior=a,this.animation={time:0},this.splines={position:{points:[],curve:null},target:{points:[],curve:null}},this.positionLine=null,this.targetLine=null,this.positionLineMaterial=new X.nls({color:16711680}),this.targetLineMaterial=new X.nls({color:65280}),this.debugLine=!1,this.fastSpeed=!1,this.backgroundTheme=w.wi.Light,this.isRotating=!1,this.rotationSpeed=.5,this.rotationAnimation=null,this.onStateChange=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],e.state.cameraMode===w.VC.Interior){s.toggleRotation(!1);return}e.state.rotateCar!==e.prev.rotateCar&&s.toggleRotation(e.state.rotateCar)},this.playEnterTransition=()=>new Promise(e=>{to.dispatchEvent({type:"rotateCar",value:!1});let t=this.getTransitionData(),i=new X.Pa4(...t["1"].position),a=new X.Pa4(...t["1"].target),s=new X.$V().setFromVector3(this.camera.position.clone().sub(a)),n=new X.$V().setFromVector3(i.clone().sub(a)),o=Math.sqrt(Math.abs(s.theta-n.theta)**2+Math.abs(s.phi-n.phi)**2)/1.25;this.fastSpeed&&(o=.1),b.ZP.to(s,{theta:n.theta,phi:n.phi,duration:o,ease:w.UT,onUpdate:()=>{this.camera.position.setFromSpherical(s).add(a),this.camera.lookAt(a),this.controls.update()},onComplete:()=>{let i={position:this.camera.position.toArray(),rotation:this.camera.rotation.toArray(),target:this.controls.target.toArray()},a={};Object.keys(t).forEach(e=>{a[e]=t[e]}),Object.keys(a).length,a["0"]=i,this.createAnimationCurves(a),b.ZP.killTweensOf(this.animation),this.animation.time=0;let s=!1;b.ZP.to(this.animation,{time:1,duration:this.fastSpeed?.1:3,ease:w.UT,onUpdate:()=>{this.animation.time>.2&&!s&&(s=!0,td.setState({leftDoor:!0})),this.camera.fov=X.M8C.lerp(w.Sr.Exterior,w.Sr.Interior,this.animation.time),this.camera.updateProjectionMatrix(),iU.aoPass.configuration.intensity=X.M8C.lerp(w.XC.Exterior,w.XC.Interior,this.animation.time),this.updateTransition()},onComplete:()=>{td.setState({leftDoor:!1,rightDoor:!1}),this.backgroundTheme=td.state.backgroundTheme,e(null)}})}})}),this.calculateTargetFromRotation=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=new X.Pa4(0,0,-1);return t.applyQuaternion(s.camera.quaternion),new X.Pa4().copy(s.camera.position).add(t.multiplyScalar(e))},this.playExitTransition=()=>new Promise(e=>{b.ZP.killTweensOf(this.animation),this.animation.time=1,td.setState({leftDoor:!0});let t=this.getTransitionData(),i={};Object.keys(t).forEach(e=>{i[e]=t[e]});let a=Object.keys(i).length-1,s=i[a];this.createAnimationCurves(i);let n=this.camera.quaternion,o=new X._fP().setFromEuler(new X.USm().fromArray(s.rotation)),r=n.angleTo(o),l=X.M8C.degToRad(90),d=X.M8C.mapLinear(r,0,l,.5,1.5);b.ZP.to(this.camera.position,{x:s.position[0],y:s.position[1],z:s.position[2],duration:d,ease:w.UT,time:1,onUpdate:()=>{this.camera.lookAt(s.target[0],s.target[1],s.target[2])},onComplete:()=>{b.ZP.to(this.animation,{time:0,duration:3,ease:w.UT,onUpdate:()=>{this.camera.fov=X.M8C.lerp(w.Sr.Exterior,w.Sr.Interior,this.animation.time),this.camera.updateProjectionMatrix(),iU.aoPass.configuration.intensity=X.M8C.lerp(w.XC.Exterior,w.XC.Interior,this.animation.time),this.updateTransition()},onComplete:()=>{td.setState({leftDoor:!1,rightDoor:!1}),this.controls.enabled=!0,e(null)}})}})}),this.updateTransition=()=>{if(!this.splines.position.curve||!this.splines.target.curve)return;let e=this.splines.position.curve.getPoint(this.animation.time),t=this.splines.target.curve.getPoint(this.animation.time);this.camera.position.copy(e),this.camera.lookAt(t)},this.controls=new tY.z(t,i.domElement),tW(this.controls,sy),Q.device.desktop||(this.controls.maxDistance=12);let n=!Q.device.desktop;this.zoomedOutData=this.scaleCameraAnimation(sx,n?1.25:1),Object.keys(sS).forEach(e=>{sS[e][0]=Q.device.desktop?this.zoomedOutData[7]:this.zoomedOutData[9];let t=Object.keys(sS[e]).length-1,i=new X.Pa4,a=new X.Pa4,s=new X.Pa4().fromArray(sS[e][t].position);this.camera.position.copy(s),this.camera.rotation.fromArray(sS[e][t].rotation),this.camera.getWorldDirection(a),i.copy(new X.Pa4().fromArray(sS[e][t].position)).add(a.multiplyScalar(.1)),sS[e][t].target=i.toArray()}),this.bookmarkManager=new sv("transition",this.camera,this.controls),this.bookmarkManager.loadBookmarks(sS[td.state.carModel]),td.addEventListener("change",this.onStateChange),td.trigger(()=>{this.onStateChange({state:td.state,prev:td.prev},!0)})}}class sP extends ee{constructor(e,t){super(e),this.gui=this.addFolder(e,{title:"CameraControllerExterior"}),this.gui.addBinding(t.animation,"time",{min:0,max:1}).on("change",t.updateTransition),this.gui.addButton({title:"Enter Transition",label:""}).on("click",t.playEnterTransition),this.gui.addButton({title:"Exit Transition",label:""}).on("click",t.playExitTransition),this.gui.addButton({title:"Toggle Rotation",label:""}).on("click",()=>{t.toggleRotation(!t.isRotating)}),this.controllers.bookmarks=new s_(this.gui,t.bookmarkManager)}}var sj=JSON.parse('{"minDistance":0,"maxDistance":1,"minZoom":0.1,"maxZoom":1,"minTargetRadius":0,"maxTargetRadius":100000,"minPolarAngle":50,"maxPolarAngle":110,"minAzimuthAngle":45.00000000000013,"maxAzimuthAngle":-44.99999999999987,"enableDamping":true,"dampingFactor":0.25,"enableZoom":false,"enableRotate":true,"rotateSpeed":1,"enablePan":true,"panSpeed":1,"autoRotate":false,"autoRotateSpeed":2}');class sE{set enabled(e){this.controls.enabled=e}setRotationYLimit(){let e=this.camera.rotation.y+X.M8C.degToRad(this.settings.rotationYRange),t=this.camera.rotation.y-X.M8C.degToRad(this.settings.rotationYRange);this.controls.minAzimuthAngle=e,this.controls.maxAzimuthAngle=t}update(){this.controls.enabled&&this.controls.update()}constructor(e,t,i){this.scene=e,this.camera=t,this.renderer=i,this.settings={rotationYRange:45},this.controls=new tY.z(t,i.domElement),tW(this.controls,sj),this.setRotationYLimit(),this.enabled=!1}}class sO{update(){this.interior.update(),this.exterior.update()}constructor(e,t,i){var a=this;this.scene=e,this.camera=t,this.renderer=i,this.settings={mode:w.VC.Exterior},this.onStateChange=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!e.state.carTransition&&(e.state.cameraMode!==e.prev.cameraMode||t)&&a.onSettingsChange(e.state.cameraMode,e.prev.cameraMode)},this.onSettingsChange=(e,t)=>{switch(this.interior.enabled=!1,this.exterior.enabled=!1,e){case w.VC.Exterior:t===w.VC.Interior?this.exterior.playExitTransition().then(()=>{this.exterior.enabled=!0}):this.exterior.enabled=!0;break;case w.VC.Interior:this.exterior.enabled=!1,this.exterior.playEnterTransition().then(()=>{this.exterior.controls.position0.copy(this.camera.position),this.interior.controls.target.copy(this.exterior.getLastPosition()),this.interior.controls.update(),this.interior.enabled=!0})}},this.cinematic=new sb(e,t,i),this.interior=new sE(e,t,i),this.exterior=new sk(e,t,i,this.interior),td.addEventListener("change",this.onStateChange),td.trigger(()=>{this.onStateChange({state:td.state,prev:td.prev},!0)})}}class sB extends ee{constructor(e,t){super(e),this.gui=this.addFolder(e,{title:"CameraController"}),this.folders.settings=this.addFolder(this.gui,{title:"Settings"}),this.folders.settings.addBinding(t.settings,"mode",{options:tn(Object.values(w.VC))}).on("change",()=>{t.onSettingsChange(t.settings.mode,t.settings.mode)}),this.controllers.exterior=new sP(this.gui,t.exterior)}}class sT{constructor(e,t){this.scene=e,this.landingScene=t,this.firstTime=!0,this.show=()=>new Promise(e=>{let t=sX.scenes[w.jY.Preloader];if(this.firstTime){this.firstTime=!1,"Exterior"===td.state.cameraMode&&iU.tintPass.animate(1,0),e(null);return}t.animateOut().then(()=>{iU.renderPreloader=!1,iU.tintPass.animate(1,1).then(e)})}),this.hide=()=>new Promise(e=>{iU.tintPass.animate(0,1).then(()=>{iU.renderPreloader=!0;let t=sX.scenes[w.jY.Preloader];t.animateInit(),t.animateIn().then(e)})}),this.animate=()=>{this.show()}}}class sR extends ee{constructor(e,t){super(e),this.gui=this.addFolder(e,{title:"SceneTransition"}),this.gui.addButton({title:"Show"}).on("click",t.show),this.gui.addButton({title:"Hide"}).on("click",t.hide),this.folders.animationIn=this.addFolder(this.gui,{title:"Animate In"}),this.folders.animationOut=this.addFolder(this.gui,{title:"Animate Out"})}}class sI extends im{loadCarModel(e){return new Promise((t,i)=>{if(iC.get(w.de.Global,e) instanceof ei){t(iC.get(w.de.Global,e));return}let a=new ei({id:e,src:"".concat(iQ.baseUrl,"/assets/webgl/models/").concat(w.rq[e],".glb"),type:et.GLTF});iC.load(w.de.Global,[a],t,i)})}async createECS(){await super.createECS(),this.cameras.main.add(eH.listener),this.systems.carLights=new at,this.systems.carPaint=new ai,this.systems.carTrim=new aa,this.systems.accumulativeShadowsSystem=new t3(this.scene,new X.cPb,this.renderer),to.addEventListener("shadowsReady",()=>{td.state.sceneState===w.ou.Interaction&&(this.cameraController.exterior.enabled=!0),this.cameraController.onSettingsChange(td.state.cameraMode,td.prev.cameraMode),to.dispatchEvent({type:"carTransition",value:!1}),this.sceneTransition.show().then(()=>{td.state.sceneState!==w.ou.IntroCinematic&&td.state.introSeen&&to.dispatchEvent({type:"sceneState",value:w.ou.Interaction})}),td.state.introSeen||td.state.sceneState===w.ou.IntroCinematic||to.dispatchEvent({type:"sceneState",value:w.ou.IntroUI}),this.entities.licensePlate instanceof a3&&this.entities.licensePlate.show()}),await new Promise((e,t)=>{try{this.entities.spotLight=new sl,this.entities.floor=new sg(this.entities.spotLight.light),this.entities.background=new tp,this.entities.environment=new sa(this.scene,this.renderer),this.entities.grid=new so,this.entities.licensePlate=new a3(td.state.carModel),this.entities.skyboxEnvironment=new sd(this.scene),this.entities.camera=new ae(this.cameras.dev),this.cameraController=new sO(this.scene,this.cameras.main,this.renderer),this.sceneTransition=new sT(this.scene,this),e(null)}catch(e){t(e)}}),td.state.sceneState===w.ou.Preloading&&await this.loadCar(!1)}async loadCar(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];to.dispatchEvent({type:"sceneState",value:w.ou.Preloading}),await this.unloadCar(e,td.prev.carModel),await this.loadCarModel(td.state.carModel),this.entities.car=new aK(td.state.carModel,td.state.livery,this.sceneTransition),this.entities.carDoor=new aZ(td.state.carModel),this.ecs.addEntity(this.entities.car),this.ecs.addEntity(this.entities.carDoor),requestAnimationFrame(()=>{this.systems.accumulativeShadowsSystem instanceof t3&&(this.systems.accumulativeShadowsSystem.recomputeShadows(),this.systems.accumulativeShadowsSystem.show())})}async unloadCar(e,t){e&&await this.sceneTransition.hide(),this.entities.car&&this.ecs.removeEntity(this.entities.car),this.entities.carDoor&&this.ecs.removeEntity(this.entities.carDoor),this.entities.licensePlate instanceof a3&&this.entities.licensePlate.hide(),this.systems.accumulativeShadowsSystem instanceof t3&&this.systems.accumulativeShadowsSystem.hide(),iC.removeAsset(w.de.Global,t,!0)}async animateIn(){await super.animateIn(),eH.addSounds(iC.assets[w.de.Global]),td.addEventListener("change",this.onStateChange),b.ZP.delayedCall(1,()=>{to.dispatchEvent({type:"sceneState",value:td.state.cameraMode===w.VC.Cinematic?w.ou.IntroCinematic:w.ou.Preloading})})}async initializeECS(){await super.initializeECS()}onBackgroundChange(){w.d9[td.state.backgroundTheme]===w.Eo.Skybox?(this.entities.floor instanceof sg&&this.entities.floor.hide(),this.entities.background instanceof tp&&this.entities.background.hide(),this.entities.environment instanceof sa&&this.entities.environment.hide(),this.entities.skyboxEnvironment instanceof sd&&this.entities.skyboxEnvironment.show()):(this.entities.skyboxEnvironment instanceof sd&&this.entities.skyboxEnvironment.hide(),this.entities.floor instanceof sg&&this.entities.floor.show(),this.entities.background instanceof tp&&this.entities.background.show(),this.entities.environment instanceof sa&&this.entities.environment.show())}update(){super.update(),this.entities.car instanceof aK&&this.entities.car.onBeforeEnvironmentRender(!0),this.entities.carDoor instanceof aZ&&this.entities.carDoor.onBeforeEnvironmentRender(!0),this.entities.floor instanceof sg&&this.entities.floor.onBeforeEnvironmentRender(!0),this.entities.licensePlate instanceof a3&&this.entities.licensePlate.onBeforeEnvironmentRender(!0),this.systems.accumulativeShadowsSystem instanceof t3&&this.systems.accumulativeShadowsSystem.onBeforeEnvironmentRender(!0),this.entities.environment instanceof sa&&this.entities.environment.render(),this.entities.car instanceof aK&&this.entities.car.onBeforeEnvironmentRender(!1),this.entities.carDoor instanceof aZ&&this.entities.carDoor.onBeforeEnvironmentRender(!1),this.entities.floor instanceof sg&&this.entities.floor.onBeforeEnvironmentRender(!1),this.entities.licensePlate instanceof a3&&this.entities.licensePlate.onBeforeEnvironmentRender(!1),this.systems.accumulativeShadowsSystem instanceof t3&&this.systems.accumulativeShadowsSystem.onBeforeEnvironmentRender(!1),this.cameraController.update()}constructor(e){var t;super({id:w.jY.Landing,preloadGPU:!0},e),t=this,this.onStateChange=function(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.state.sceneState!==w.ou.Preloading&&e.state.carModel!==e.prev.carModel&&t.loadCar(),e.state.sceneState===w.ou.IntroCinematic&&e.state.cameraMode===w.VC.Cinematic&&e.state.sceneState!==e.prev.sceneState&&(t.cameraController.cinematic.playSequence(),eH.play("ambient"),to.dispatchEvent({type:"sound",value:!0})),(e.state.backgroundTheme!==e.prev.backgroundTheme||i)&&t.onBackgroundChange()},this.cameras.main.position.set(0,2,6),this.cameras.main.lookAt(tj),this.cameras.main.fov=w.Sr.Exterior,this.cameras.main.far=500,ih(this.cameras.dev,15,new X.Pa4(.25,.1,.25)),this.ambientLight=new X.Mig(16777215,1),this.ambientLight.name="ambientLight",this.scene.add(this.ambientLight)}}class sA extends iu{constructor(e,t){super(e,t),this.gui=e,this.gui.addButton({title:"Unload cae",label:""}).on("click",()=>{t.unloadCar(!1,td.state.carModel)}),this.gui.addButton({title:"Save Camera",label:""}).on("click",()=>{eW(JSON.stringify({position:t.cameras.dev.position.toArray(),rotation:t.cameras.dev.rotation.toArray()},null,2),"camera.json")}),t.cameraController&&(this.controllers.camera=new sB(this.gui,t.cameraController)),t.entities.car&&(this.controllers.car=new a$(this.gui,t.entities.car)),t.entities.environment&&(this.controllers.environment=new ss(this.gui,t.entities.environment)),t.entities.skyboxEnvironment&&(this.controllers.skyboxEnvironment=new sh(this.gui,t.entities.skyboxEnvironment)),this.controllers.sceneTransition=new sR(this.gui,t.sceneTransition),t.entities.grid&&(this.controllers.grid=new sr(this.gui,t.entities.grid)),t.entities.floor&&(this.controllers.floor=new sf(this.gui,t.entities.floor)),t.entities.background&&(this.controllers.background=new tm(this.gui,t.entities.background))}}let sF={opacity:{value:1},color:{value:new X.Ilk(4358379)},intensity:{value:25}},sD="\n  varying vec2 vUv;\n    void main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  }\n",sz="\n  uniform float time;\n  uniform vec3 color;\n  uniform float intensity;\n  uniform float opacity;\n  varying vec2 vUv;\n\n  ".concat("\n  float pingPong(float value) {\n    return sin(value) * 0.5 + 0.5;\n  }\n","\n\n  void main() {\n    gl_FragColor = vec4(mix(color * 0.75, color * 2.0, vUv.y) * intensity, opacity);\n\n    #include <tonemapping_fragment>\n    #include <colorspace_fragment>\n  }\n");class sZ extends tt{update(){this.meshInner.rotation.z-=1.5*i7.delta,this.meshOuter.rotation.z-=2*i7.delta}animateInit(){b.ZP.killTweensOf(this.meshInner.material.uniforms.position),b.ZP.killTweensOf(this.meshOuter.material.uniforms.position),this.meshOuter.position.z=-10,this.meshInner.position.z=-10}async animateIn(){return this.animateInit(),this.previousGraphicsMode=td.state.graphics,new Promise(e=>{to.dispatchEvent({type:"graphics",value:w.TC.Performance}),iU.tintPass.animate(1,.75).then(()=>{e(null)}),b.ZP.to(this.meshOuter.position,{duration:.75,z:0,ease:w.mA}),b.ZP.to(this.meshInner.position,{duration:.75,z:0,ease:w.mA})})}async animateOut(){return new Promise(e=>{to.dispatchEvent({type:"graphics",value:this.previousGraphicsMode}),iU.tintPass.animate(0,w.Zo).then(()=>{e(null)}),b.ZP.to(this.meshOuter.position,{duration:.75,z:5,ease:w.mA}),b.ZP.to(this.meshInner.position,{duration:.75,z:5,ease:w.mA})})}constructor(){super(),this.group=new X.ZAu,this.settings={meshOuterRadius:1.5,meshInnerRadius:1,thickness:.025},this.animation={progress:0},this.loadingElement=null,this.previousGraphicsMode=w.TC.Performance,this.generate=()=>{this.meshOuter&&(this.group.remove(this.meshOuter),this.meshOuter.geometry.dispose()),this.meshInner&&(this.group.remove(this.meshInner),this.meshInner.geometry.dispose()),this.meshOuter=new X.Kj0(new X.o8S(this.settings.meshOuterRadius-this.settings.thickness,this.settings.meshOuterRadius,64,1,0,.75*tP),this.materialOuter),this.meshOuter.name="Preloader Outer",this.group.add(this.meshOuter),this.meshInner=new X.Kj0(new X.o8S(this.settings.meshInnerRadius-this.settings.thickness,this.settings.meshInnerRadius,64,1,0,.75*tP),this.materialInner),this.meshInner.name="Preloader Inner",this.meshInner.rotation.z=Math.PI,this.meshInner.material.uniforms.color.value.setHex(15417922),this.group.add(this.meshInner)},this.playAnimationIn=()=>{this.animateIn()},this.playAnimationOut=()=>{this.animateOut()},this.materialOuter=new X.jyz({transparent:!0,wireframe:!1,uniforms:X.rDY.clone(sF),vertexShader:sD,fragmentShader:sz}),this.materialInner=new X.jyz({transparent:!0,wireframe:!1,uniforms:X.rDY.clone(sF),vertexShader:sD,fragmentShader:sz}),this.generate(),this.addComponent(new te(this.group)),this.addComponent(new is(this))}}class sN extends ee{constructor(e,t){super(e),this.gui=this.addFolder(e,{title:"PreloaderEntity"}),this.gui.addBinding(t.settings,"meshOuterRadius",{min:0,max:10}).on("change",t.generate),this.gui.addBinding(t.settings,"meshInnerRadius",{min:0,max:10}).on("change",t.generate),this.gui.addBinding(t.settings,"thickness",{min:0,max:10}).on("change",t.generate),this.gui.addBinding(t.materialOuter.uniforms.intensity,"value",{min:0,label:"intensity"});let i={innerColor:"#".concat(t.materialInner.uniforms.color.value.getHexString()),outerColor:"#".concat(t.materialOuter.uniforms.color.value.getHexString())};e.addBinding(i,"innerColor").on("change",e=>{t.materialInner.uniforms.color.value.setStyle(i.innerColor)}),e.addBinding(i,"outerColor").on("change",e=>{t.materialOuter.uniforms.color.value.setStyle(i.outerColor)}),this.gui.addButton({title:"Animate In"}).on("click",t.playAnimationIn),this.gui.addButton({title:"Animate Out"}).on("click",t.playAnimationOut)}}class sH extends im{async createECS(){await super.createECS(),await new Promise((e,t)=>{try{this.entities.preloader=new sZ,e(null)}catch(e){t(e)}})}async animateInit(){await super.animateInit(),this.entities.preloader instanceof sZ&&this.entities.preloader.animateInit()}async animateIn(){await super.animateIn(),await new Promise(e=>{if(iQ.skipTransitions){e(null);return}this.entities.preloader instanceof sZ&&this.entities.preloader.animateIn().then(e)})}async animateOut(){await super.animateOut(),await new Promise(e=>{if(iQ.skipTransitions){e(null);return}this.entities.preloader instanceof sZ&&this.entities.preloader.animateOut().then(e)})}constructor(e){super({id:w.jY.Preloader,preloadGPU:!0,clearColor:0},e),this.spinner=new X.Kj0,this.material=new X.jyz,this.loadingButton=null,this.camera.position.set(0,0,10),this.camera.lookAt(tj),this.loadingButton=document.getElementById("loading")}}class sU extends iu{constructor(e,t){super(e,t),t.entities.preloader instanceof sZ&&(this.controllers.preloader=new sN(e,t.entities.preloader))}}class sV extends im{async animateIn(){td.addEventListener("change",this.onStateChange),td.trigger(e=>{this.onStateChange(e,!0)})}async animateOut(){td.removeEventListener("change",this.onStateChange)}constructor(e){super({id:w.jY.Storybook,preloadGPU:!1},e),this.onStateChange=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]},this.cameras.main.position.set(0,0,5),this.cameras.main.lookAt(tj),this.scene.background=new X.Ilk(13421772)}}class sG extends iu{constructor(e,t){super(e,t)}}let sY={[w.jY.Preloader.toString()]:[i6],[w.jY.Landing.toString()]:[i6],[w.jY.Storybook.toString()]:[i6]};class sW extends X.pBf{async changeScene(e){await new Promise((t,i)=>{let a=this.scene;if(this.sceneId=e,e===w.jY.Preloader){a.dispose(),this.setScene(w.jY.Preloader).then(()=>{t(null)}).catch(i);return}let s=()=>{a.dispose(),this.setScene(e).then(()=>{t(null)}).catch(i)};this.setScene(w.jY.Preloader).then(()=>{var t;Promise.all([this.loadAssetGroup(null!==(t=sY[e])&&void 0!==t?t:[])]).then(s).catch(i)}).catch(i)})}async loadAssetGroup(e){await new Promise(e=>setTimeout(e,500)),await new Promise((t,i)=>{Promise.all(e.map(e=>this.loadAssets(e.id,e.assets))).then(()=>{t(null)}).catch(i)})}async loadAssets(e,t){await new Promise((i,a)=>{try{if(t.length>0){if(iC.assets[e]){i(null);return}iC.load(e,t,i,a,e=>{to.dispatchEvent({type:"loading",value:e})})}else i(null)}catch(e){a(e)}})}async setScene(e){await new Promise((t,i)=>{if(this.scene&&e===this.scene.id)return;let a=this.getScene(e);a.setup().then(()=>{let e=this.scene,s=()=>{this.scene=a,this.dispatchEvent({type:"sceneChanged",scene:a}),this.scene.resize(iU.resolution.x,iU.resolution.y),this.scene.animateInit(),this.scene.animateIn().then(t,i),iU.setScene(a),a===this.scenes[w.jY.Preloader]&&iU.setPreloaderScene(a),e&&e.dispose()};e?e.animateOut().then(s).catch(i):s()}).catch(i)})}dispose(){this.scene.dispose()}constructor(){super(),this.sceneId=w.jY.Landing,this.sceneMap={[w.jY.Preloader]:w.jY.Preloader,[w.jY.Landing]:w.jY.Landing,[w.jY.Storybook]:w.jY.Storybook},this.scenes={},this.getScene=e=>{let t;if(this.scenes[e])return this.scenes[e];switch(e){case w.jY.Preloader:t=new sH(iZ);break;case w.jY.Landing:t=new sI(iZ);break;case w.jY.Storybook:t=new sV(iZ);break;default:t=new ig(iZ,"current",0)}return this.scenes[e]=t,t},this.scene=this.getScene("")}}let sQ=new sW;var sX=sQ;class sq extends ee{getSceneGUIController(){switch(this.target.scene.id){case w.jY.Preloader:return new sU(this.sceneFolder,this.target.scene);case w.jY.Landing:return new sA(this.sceneFolder,this.target.scene);case w.jY.Storybook:return new sG(this.sceneFolder,this.target.scene);default:return new iv(this.sceneFolder,this.target.scene)}}dispose(){super.dispose(),sQ.removeEventListener("sceneChanged",this.onSceneChanged),this.sceneFolder.dispose()}constructor(e,t){super(e),this.onSceneChanged=()=>{this.sceneFolder.dispose(),this.sceneFolder=this.addFolder(this.gui,{title:this.target.scene.constructor.name,index:4}),this.controllers.scene=this.getSceneGUIController(),t_.dispatchEvent({type:h.SceneChanged,scene:this.target.scene.scene,camera:this.target.scene.cameras.dev,controls:this.target.scene.controls})},this.target=t,this.gui=this.addFolder(e,{title:"Scene Manager"}),this.sceneFolder=this.addFolder(e,{title:this.target.scene.constructor.name,index:4}),this.gui.addBinding(t,"sceneId",{options:t.sceneMap}).on("change",()=>{t.changeScene(t.sceneId),(0,iw._)("sceneID",t.sceneId,window,!1)}),t.addEventListener("sceneChanged",this.onSceneChanged)}}var sJ=i(8261);class sK extends ee{constructor(e){super(e),this.vertexNormalsHelper=null,this.toggleVertexNormals=()=>{this.api.showVertexNormals=!this.api.showVertexNormals,this.api.showVertexNormals?(this.vertexNormalsHelper=new sJ.M(ee.state.activeObject,.1,65280),ee.state.scene.add(this.vertexNormalsHelper)):this.vertexNormalsHelper&&eT(this.vertexNormalsHelper)},this.gui=e,ee.state.activeObject instanceof X.Kj0&&(e.addBinding(ee.state.activeObject.geometry,"type",{readonly:!0}),e.addBinding(ee.state.activeObject.geometry,"uuid",{readonly:!0}),e.addBinding(ee.state.activeObject.geometry,"name",{readonly:!0}),this.api.attributes=function(e){let t=[];for(let i in null!==e.index&&t.push("index: ".concat(e.index.count)),e.attributes){let a=e.attributes[i];t.push("".concat(i,": ").concat(a.count," (").concat(a.itemSize,")"))}return t.join("\n")}(ee.state.activeObject.geometry),this.api.boundingBox=function(e){null===e.boundingBox&&e.computeBoundingBox();let t=e.boundingBox,i="";if(t){let e=Math.floor((t.max.x-t.min.x)*1e3)/1e3,a=Math.floor((t.max.y-t.min.y)*1e3)/1e3,s=Math.floor((t.max.z-t.min.z)*1e3)/1e3;i="x: ".concat(e,"\ny: ").concat(a,"\nz: ").concat(s)}return i}(ee.state.activeObject.geometry),this.api.showVertexNormals=!1),e.addBinding(this.api,"attributes",{readonly:!0,multiline:!0,rows:this.api.attributes.split("\n").length}),e.addBinding(this.api,"boundingBox",{readonly:!0,multiline:!0,rows:this.api.boundingBox.split("\n").length}),e.addButton({title:"Toggle Vertex Normals",label:""}).on("click",this.toggleVertexNormals)}}let s$=new X.dpR;class s0{initCanvas(){this.canvas=document.createElement("canvas"),this.canvas.width=32,this.canvas.height=18,this.canvas.style.cursor="pointer",this.canvas.style.marginRight="5px",this.canvas.style.border="1px solid #888",this.canvas.style.position="absolute",this.canvas.style.left="25px",this.canvas.style.top="0",this.map&&this.drawCanvas(this.map,this.canvas),this.canvas.addEventListener("click",()=>{let e=document.createElement("input");e.setAttribute("type","file"),e.style.opacity="0",e.style.position="fixed",document.body.append(e),e.addEventListener("input",t=>{var i;this.img=(null===(i=e.files)||void 0===i?void 0:i.length)&&e.files[0];let a=this.img;if(e.remove(),t.target&&/image.*/.test(a.type)){let e=URL.createObjectURL(a);s$.load(e,e=>{this.map=e,this.drawCanvas(e,this.canvas),this.onChangeCallback&&this.onChangeCallback(this.map)})}}),e.click()}),this.appendCanvas()}appendCanvas(){let e=this.gui.controller.view.element.children[0].children.item(this.index);e&&((null==e?void 0:e.children[1]).style.position="relative"),null==e||e.children[1].append(this.canvas)}drawCanvas(e,t){let i=t.getContext("2d");if(i&&i.clearRect(0,0,t.width,t.height),null!==e){let i=e.image;null!=i&&i.width>0&&(t.width,i.width,i.data)}else t.title="empty"}onChange(e){this.onChangeCallback=e}constructor(e,t,i){this.gui=e,this.index=0,this.index=t,i&&(this.map=i),this.initCanvas()}}function s1(e,t){let i={color:"#".concat(t.color.getHexString())};e.addBinding(i,"color").on("change",e=>{t.color.setStyle(i.color)})}function s2(e,t){let i={color:"#".concat(t.emissive.getHexString())};e.addBinding(i,"color").on("change",e=>{t.emissive.setStyle(i.color)})}function s3(e,t){e.addBinding(t,"reflectivity",{min:0,max:1,step:.01})}function s5(e,t){e.addBinding(t,"envMapIntensity",{min:0,max:10,step:.01})}function s7(e,t){e.addBinding(t,"vertexColors")}function s4(e,t,i,a){let s={isVisible:null!==t[i]};e.addBinding(s,"isVisible",{label:i,index:a}).on("change",e=>{e.value&&n.map?t[i]=n.map:t[i]=null,t.needsUpdate=!0});let n=new s0(e,a,t[i]);n.onChange(function(e){t[i]=e,t.needsUpdate=!0})}function s8(e,t){e.addBinding(t,"flatShading")}function s9(e,t){e.addBinding(t,"side",{options:{FrontSide:0,BackSide:1,DoubleSide:2}})}function s6(e,t){e.addBinding(t,"blending",{options:{NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5}})}function ne(e,t){e.addBinding(t,"opacity",{min:0,max:1,step:.01})}function nt(e,t){e.addBinding(t,"transparent")}function ni(e,t){e.addBinding(t,"forceSinglePass")}function na(e,t){e.addBinding(t,"alphaTest",{min:0,max:1,step:.01})}function ns(e,t){e.addBinding(t,"depthTest")}function nn(e,t){e.addBinding(t,"depthWrite")}function no(e,t){e.addBinding(t,"wireframe")}function nr(e,t){e.addBinding(t,"emissiveIntensity",{min:0,max:2e3,step:.01})}function nl(e,t){e.addBinding(t,"roughness",{min:0,max:1,step:.01})}function nd(e,t){e.addBinding(t,"metalness",{min:0,max:1,step:.01})}class nh extends ee{constructor(e){if(super(e),this.gui=e,!(ee.state.activeObject instanceof X.Kj0))return;let t=ee.state.activeObject.material;Array.isArray(t)||(e.addBinding(t,"type",{readonly:!0}),e.addBinding(t,"uuid",{readonly:!0}),e.addBinding(t,"name",{readonly:!0}),"MeshBasicMaterial"===t.type?(s1(e,t),s3(e,t),s7(e,t),s4(e,t,"map",6),s4(e,t,"specularMap",7),s4(e,t,"envMap",8),s4(e,t,"lightMap",9),s4(e,t,"aoMap",10),s9(e,t),s6(e,t),ne(e,t),nt(e,t),ni(e,t),na(e,t),ns(e,t),nn(e,t),no(e,t)):"MeshDepthMaterial"===t.type?(s7(e,t),function(e,t){e.addBinding(t,"depthPacking",{options:{BasicDepthPacking:0,RGBADepthPacking:1}})}(e,t),s4(e,t,"map",5),s4(e,t,"alphaMap",6),s4(e,t,"displacementMap",7),s9(e,t),s6(e,t),ne(e,t),nt(e,t),ni(e,t),na(e,t),ns(e,t),nn(e,t),no(e,t)):"MeshNormalMaterial"===t.type?(s7(e,t),s4(e,t,"bumpMap",4),s4(e,t,"normalMap",5),s4(e,t,"displacementMap",6),s9(e,t),s8(e,t),s6(e,t),ne(e,t),nt(e,t),ni(e,t),na(e,t),ns(e,t),nn(e,t),no(e,t)):"MeshLambertMaterial"===t.type?(s1(e,t),s2(e,t),s7(e,t),s4(e,t,"map",7),s4(e,t,"specularMap",8),s4(e,t,"emissiveMap",9),s4(e,t,"alphaMap",10),s4(e,t,"bumpMap",11),s4(e,t,"normalMap",12),s4(e,t,"displacementMap",13),s4(e,t,"envMap",14),s4(e,t,"lightMap",15),s4(e,t,"aoMap",16),s9(e,t),s8(e,t),s6(e,t),ne(e,t),nt(e,t),ni(e,t),na(e,t),ns(e,t),nn(e,t),no(e,t)):"MeshMatcapMaterial"===t.type?(s1(e,t),s7(e,t),s4(e,t,"map",5),s4(e,t,"matcap",6),s4(e,t,"alphaMap",7),s4(e,t,"bumpMap",8),s4(e,t,"normalMap",9),s4(e,t,"displacementMap",10),s9(e,t),s8(e,t),s6(e,t),ne(e,t),nt(e,t),ni(e,t),na(e,t),ns(e,t),nn(e,t)):"MeshPhongMaterial"===t.type?(s1(e,t),function(e,t){e.addBinding(t,"specular",{color:{type:"float"}})}(e,t),function(e,t){e.addBinding(t,"shininess",{min:0,max:100,step:.01})}(e,t),s4(e,t,"emissiveMap",6),nr(e,t),s3(e,t),s7(e,t),s4(e,t,"map",10),s4(e,t,"specularMap",11),s4(e,t,"alphaMap",12),s4(e,t,"bumpMap",13),s4(e,t,"displacementMap",14),s4(e,t,"envMap",15),s4(e,t,"lightMap",16),s4(e,t,"aoMap",17),s9(e,t),s8(e,t),s6(e,t),ne(e,t),nt(e,t),ni(e,t),na(e,t),ns(e,t),nn(e,t),no(e,t)):"MeshToonMaterial"===t.type?(s1(e,t),s4(e,t,"emissiveMap",4),nr(e,t),s7(e,t),s4(e,t,"map",7),s4(e,t,"alphaMap",8),s4(e,t,"bumpMap",9),s4(e,t,"normalMap",10),s4(e,t,"displacementMap",11),s4(e,t,"lightMap",12),s4(e,t,"aoMap",13),s4(e,t,"gradientMap",14),s9(e,t),s6(e,t),ne(e,t),nt(e,t),ni(e,t),na(e,t),ns(e,t),nn(e,t),no(e,t)):"MeshStandardMaterial"===t.type?(s1(e,t),s2(e,t),nl(e,t),nd(e,t),s7(e,t),s4(e,t,"map",8),s4(e,t,"emissiveMap",9),s5(e,t),nr(e,t),s4(e,t,"alphaMap",11),s4(e,t,"bumpMap",12),s4(e,t,"normalMap",13),s4(e,t,"displacementMap",14),s4(e,t,"roughnessMap",15),s4(e,t,"metalnessMap",16),s4(e,t,"envMap",17),s4(e,t,"lightMap",18),s4(e,t,"aoMap",19),s9(e,t),s8(e,t),s6(e,t),ne(e,t),nt(e,t),ni(e,t),na(e,t),ns(e,t),nn(e,t),no(e,t)):"MeshPhysicalMaterial"===t.type?(s1(e,t),s5(e,t),s2(e,t),nl(e,t),nd(e,t),function(e,t){e.addBinding(t,"anisotropy",{step:.01})}(e,t),function(e,t){e.addBinding(t,"clearcoat",{min:0,max:1,step:.01})}(e,t),function(e,t){e.addBinding(t,"clearcoatRoughness",{min:0,max:1,step:.01})}(e,t),s3(e,t),function(e,t){e.addBinding(t,"iridescence",{min:0,max:1,step:.01})}(e,t),function(e,t){e.addBinding(t,"ior",{min:0,max:6,step:.01})}(e,t),function(e,t){e.addBinding(t,"thickness",{min:0,max:1,step:.01})}(e,t),function(e,t){e.addBinding(t,"sheen",{min:0,max:1,step:.01})}(e,t),function(e,t){e.addBinding(t,"sheenRoughness",{min:0,max:1,step:.01})}(e,t),function(e,t){e.addBinding(t,"sheenColor",{color:{type:"float"}})}(e,t),function(e,t){e.addBinding(t,"transmission",{min:0,max:1,step:.01})}(e,t),function(e,t){e.addBinding(t,"attenuationDistance",{min:0,max:1e4,step:.01})}(e,t),function(e,t){e.addBinding(t,"attenuationColor",{color:{type:"float"}})}(e,t),s7(e,t),s4(e,t,"map",19),s4(e,t,"emissiveMap",20),nr(e,t),s4(e,t,"alphaMap",22),s4(e,t,"bumpMap",23),s4(e,t,"normalMap",24),s4(e,t,"clearcoatNormalMap",25),s4(e,t,"displacementMap",26),s4(e,t,"roughnessMap",27),s4(e,t,"metalnessMap",28),s4(e,t,"iridescenceMap",29),s4(e,t,"sheenColorMap",30),s4(e,t,"sheenRoughnessMap",31),s4(e,t,"thicknessMap",32),s4(e,t,"envMap",33),s4(e,t,"lightMap",34),s4(e,t,"aoMap",35),s4(e,t,"transmissionMap",36),s9(e,t),s8(e,t),s6(e,t),ne(e,t),nt(e,t),ni(e,t),na(e,t),ns(e,t),nn(e,t),no(e,t)):"RawShaderMaterial"===t.type||"ShaderMaterial"===t.type?(s7(e,t),s9(e,t),s6(e,t),ne(e,t),nt(e,t),ni(e,t),na(e,t),ns(e,t),nn(e,t),no(e,t)):"ShadowMaterial"===t.type&&(s7(e,t),s9(e,t),s6(e,t),ne(e,t),nt(e,t),ni(e,t),na(e,t),ns(e,t)))}}function nc(e,t){e.addBinding(t,"color",{color:{type:"float"}})}function np(e,t){e.addBinding(t,"intensity",{step:.01})}function nm(e,t){e.addBinding(t,"position")}function nu(e,t){e.addBinding(t,"decay",{min:0,max:10,step:.01})}function ng(e,t){e.addBinding(t,"distance",{min:0,max:100,step:.01})}function nf(e,t){e.addBinding(t,"power",{min:0,max:10,step:.01})}class nv extends ee{save(){return ee.state.activeObject.position.toArray()}reset(){ee.state.activeObject.position.copy(this.defaultValue),this.gui.refresh()}constructor(e){super(e),this.gui=e,this.defaultValue=ee.state.activeObject.position.clone(),e.addBinding(ee.state.activeObject,"position").on("change",()=>{t_.dispatchEvent({type:h.ObjectTransformChanged})}),t_.addEventListener(h.ObjectTransformChanged,()=>{this.gui.refresh()})}}class n_ extends ee{save(){return ee.state.activeObject.rotation.toArray()}reset(){ee.state.activeObject.rotation.copy(this.defaultValue),this.gui.refresh()}constructor(e){super(e),this.gui=e,this.defaultValue=ee.state.activeObject.rotation.clone(),this.api.rotation={x:0,y:0,z:0};let t=()=>{this.api.rotation.x=X.M8C.radToDeg(ee.state.activeObject.rotation.x),this.api.rotation.y=X.M8C.radToDeg(ee.state.activeObject.rotation.y),this.api.rotation.z=X.M8C.radToDeg(ee.state.activeObject.rotation.z)};t(),e.addBinding(this.api,"rotation").on("change",()=>{ee.state.activeObject.rotation.set(X.M8C.degToRad(this.api.rotation.x),X.M8C.degToRad(this.api.rotation.y),X.M8C.degToRad(this.api.rotation.z)),t_.dispatchEvent({type:h.ObjectTransformChanged})}),t_.addEventListener(h.ObjectTransformChanged,()=>{t(),this.gui.refresh()})}}class ny extends ee{save(){return ee.state.activeObject.scale.toArray()}reset(){ee.state.activeObject.scale.copy(this.defaultValue),this.gui.refresh()}constructor(e){super(e),this.gui=e,this.defaultValue=ee.state.activeObject.scale.clone(),e.addBinding(ee.state.activeObject,"scale").on("change",()=>{t_.dispatchEvent({type:h.ObjectTransformChanged})}),t_.addEventListener(h.ObjectTransformChanged,()=>{this.gui.refresh()})}}class nx extends ee{constructor(e){super(e),this.save=()=>{console.log(JSON.stringify({position:this.controllers.position.save(),scale:this.controllers.scale.save(),rotation:this.controllers.rotation.save()}))},this.reset=()=>{this.controllers.position.reset(),this.controllers.scale.reset(),this.controllers.rotation.reset()},this.controllers.position=new nv(e),this.controllers.scale=new ny(e),this.controllers.rotation=new n_(e),e.addButton({label:"",title:"Reset"}).on("click",this.reset),e.addButton({label:"",title:"Save"}).on("click",this.save)}}class nb extends ee{constructor(e){super(e),this.gui=e,function(e,t){e.addBinding(t,"type")}(e,ee.state.activeObject),function(e,t){e.addBinding(t,"uuid")}(e,ee.state.activeObject),function(e,t){e.addBinding(t,"name")}(e,ee.state.activeObject),this.controllers.transform=new nx(e),function(e,t){e.addBinding(t,"visible")}(e,ee.state.activeObject),function(e,t){e.addBinding(t,"frustumCulled")}(e,ee.state.activeObject),ee.state.activeObject instanceof X.cPb&&function(e,t){e.addBinding(t,"fov",{min:1,max:120}).on("change",()=>{t.updateProjectionMatrix()})}(e,ee.state.activeObject),ee.state.activeObject instanceof X.Kj0&&(function(e,t){e.addBinding(t,"castShadow")}(e,ee.state.activeObject),function(e,t){e.addBinding(t,"receiveShadow")}(e,ee.state.activeObject)),ee.state.activeObject instanceof X.Mig&&(nc(e,ee.state.activeObject),np(e,ee.state.activeObject)),ee.state.activeObject instanceof X.Ox3&&(nc(e,ee.state.activeObject),np(e,ee.state.activeObject),nm(e,ee.state.activeObject)),ee.state.activeObject instanceof X.vmT&&(nc(e,ee.state.activeObject),function(e,t){e.addBinding(t,"groundColor",{color:{type:"float"}})}(e,ee.state.activeObject),np(e,ee.state.activeObject),nm(e,ee.state.activeObject)),ee.state.activeObject instanceof X.cek&&(nc(e,ee.state.activeObject),np(e,ee.state.activeObject),nm(e,ee.state.activeObject),nu(e,ee.state.activeObject),ng(e,ee.state.activeObject),nf(e,ee.state.activeObject)),ee.state.activeObject instanceof X.PMe&&(nc(e,ee.state.activeObject),np(e,ee.state.activeObject),nm(e,ee.state.activeObject),nu(e,ee.state.activeObject),ng(e,ee.state.activeObject),nf(e,ee.state.activeObject),function(e,t){e.addBinding(t,"angle",{min:0,max:Math.PI/2,step:.01})}(e,ee.state.activeObject),function(e,t){e.addBinding(t,"penumbra",{min:0,max:1,step:.01})}(e,ee.state.activeObject))}}class nw extends ee{constructor(e){super(e),this.gui=e.addFolder({title:"Mesh",index:4});let t=this.gui.addTab({index:3,pages:[{title:"Object"},{title:"Geometry"},{title:"Material"}]});this.tabs=t,this.controllers.object3D=new nb(this.tabs.pages[0]),ee.state.activeObject instanceof X.Kj0&&(this.controllers.geometry=new sK(this.tabs.pages[1]),this.controllers.material=new nh(this.tabs.pages[2]))}}class nC{initDom(e){this.htmlRoot=document.createElement("div"),this.htmlRoot.classList.add("scene-inspector-root"),this.htmlRoot.style.height="320px",this.htmlRoot.style.overflow="scroll",e?e.append(this.htmlRoot):document.body.append(this.htmlRoot)}buildTree(e){this.addChild(e,this.htmlRoot,0)}deleteTree(){this.elements.forEach(e=>{e.remove()}),this.elements=[]}addChild(e,t,i){if("Helpers"===e.name||"GUIViewportCommand"===e.name)return;let a=document.createElement("div");a.classList.add("gui-webgl-scene-object-parent");let s=document.createElement("div");s.classList.add("gui-webgl-scene-object-node"),a.append(s);let n=document.createElement("div");n.textContent=e.children.length>0?this.closeSymbol:"",i>1&&(n.textContent=e.children.length>0?this.openSymbol:n.textContent),n.classList.add("gui-webgl-scene-object-arrow");let o=()=>{"-"===n.textContent?(a.style.height="",a.style.overflow=""):(a.style.height="20px",a.style.overflow="hidden")};n.addEventListener("click",t=>{if(t.stopPropagation(),0===e.children.length)return;let i=n.textContent===this.openSymbol;n.textContent=i?this.closeSymbol:this.openSymbol,o()}),s.append(n),o();let r=document.createElement("div");r.textContent="  ".concat(this.getNodeName(e)),r.id="".concat(e.uuid),r.classList.add("gui-webgl-scene-object-label",e.type);let l=this.getNodeBaseType(e);""!==l&&r.classList.add(l),s.append(r),t.append(a),this.elements.push(a),r.addEventListener("click",t=>{this.handleClick(e,a,t)}),r.addEventListener("dblclick",t=>{this.handleDoubleClick(e,a,t)}),e.children.forEach(e=>{this.addChild(e,a,i+1)})}getNodeName(e){return e.name?"".concat(e.type," (").concat(e.name,")"):e.type}handleClick(e,t,i){i.stopPropagation();let a=document.querySelectorAll(".active")[0];if(a){a.classList.remove("active");let t=a.firstElementChild;if(t.style.height="auto",t.style.backgroundColor="",a.id===e.uuid)return}this.activeObject=e,t.classList.add("active");let s=t.firstElementChild;s.style.height="auto",s.style.backgroundColor="rgba(255, 255, 255, 0.5)",s.style.borderRadius="var(--tp-base-border-radius)",t_.dispatchEvent({type:h.ObjectSelected,object:e})}handleDoubleClick(e,t,i){if(i.stopPropagation(),!ee.state.camera)return;let a=10;("Mesh"===e.type||"SkinnedMesh"===e.type)&&(e.geometry.computeBoundingSphere(),a=e.geometry.boundingSphere?e.geometry.boundingSphere.radius:a),(a*=e.getWorldScale(new X.Pa4).length())<ee.state.camera.near&&(a=1.1*ee.state.camera.near);let s=new X.Pa4;s.applyMatrix4(e.matrixWorld),e.getWorldPosition(s);let n=s.clone();n.add(new X.Pa4(a,a,a)),ee.state.camera.position.copy(n),ee.state.camera.lookAt(s),ee.state.controls&&ee.state.controls.target.copy(s)}getNodeBaseType(e){return e.isLight?"Light":"Group"===e.type?"Object3D":""}dispose(){}constructor(e,t){this.gui=e,this.elements=[],this.activeObject=new X.Tme,this.openSymbol="+",this.closeSymbol="-",this.logActiveObject=()=>{console.log(this.activeObject)},this.initDom(t),this.buildTree(ee.state.scene)}}class nM extends ee{dispose(){super.dispose(),this.command.dispose()}constructor(e){super(e),this.gui=this.addFolder(e,{title:"Outliner",index:1}),this.command=new nC(this.gui,this.gui.controller.view.containerElement)}}class nL extends ee{dispose(){}constructor(e){super(e)}}class nS extends ee{dispose(){super.dispose(),t_.removeEventListener(h.ObjectSelected,this.onObjectSelected),t_.removeEventListener(h.SceneChanged,this.onSceneChange),t_.removeEventListener(h.SceneGraphChanged,this.onSceneGraphChange)}constructor(e){super(e),this.onSceneChange=e=>{var t,i;null===(t=this.gui)||void 0===t||t.dispose(),this.gui=this.addFolder(this.guiParent,{title:"Scene",index:1}),ee.state.scene=e.scene,ee.state.activeObject=e.scene,this.onObjectSelected({object:ee.state.activeObject}),e.camera instanceof X.cPb&&(ee.state.camera=e.camera),e.controls instanceof tY.z&&(ee.state.controls=e.controls),"Scene"===ee.state.scene.type&&(function(e,t,i){let a=i.api;a.overrideMaterial="",e.addBinding(a,"overrideMaterial",{options:{none:"",wireframe:new X.vBJ({wireframe:!0}),normal:new X.RSm,depth:new X.lRF}}).on("change",()=>{a.overrideMaterial instanceof X.vBJ||a.overrideMaterial instanceof X.RSm||a.overrideMaterial instanceof X.lRF?t.overrideMaterial=a.overrideMaterial:t.overrideMaterial=null})}(this.gui,ee.state.scene,this),function(e,t,i){let a=[],s=i.api;s.fog="",t.fog instanceof X.ybr?s.fog="linear":t.fog instanceof X.yo9&&(s.fog="exponential"),e.addBinding(s,"fog",{options:{none:"",linear:t.fog||new X.ybr(11184810,.1,50),exponential:t.fog||new X.yo9(11184810,.05)}}).on("change",()=>{ts(a),s.fog instanceof X.ybr||i.api.fog instanceof X.yo9?(t.fog=i.api.fog,s.fog instanceof X.ybr&&a.push(e.addBinding(s.fog,"color",{color:{type:"float"}}),e.addBinding(s.fog,"near",{min:0,max:1,step:.01}),e.addBinding(s.fog,"far",{min:0,max:100,step:.01})),s.fog instanceof X.yo9&&a.push(e.addBinding(s.fog,"color",{color:{type:"float"}}),e.addBinding(s.fog,"density",{min:0,max:1,step:.01}))):t.fog=null})}(this.gui,ee.state.scene,this),function(e,t,i){let a=[],s=i.api;s.background="",e.addBinding(s,"background",{options:{none:"",color:new X.Ilk(11184810)}}).on("change",()=>{ts(a),s.background instanceof X.Ilk?(t.background=s.background,a.push(e.addBinding(s,"background",{color:{type:"float"},label:"color"}))):t.background=null}),e.addBinding(t,"environmentIntensity",{min:0,label:"environmentIntensity"}),e.addBinding(t,"backgroundIntensity",{min:0,label:"backgroundIntensity"}),e.addBinding(t,"backgroundBlurriness",{min:0,max:1,label:"backgroundBlurriness"})}(this.gui,ee.state.scene,this),this.gui.addBinding(ee.state.scene,"environmentRotation")),this.onSceneGraphChange(),null===(i=this.controllers.viewport)||void 0===i||i.dispose(),this.controllers.viewport=new nL(this.guiParent)},this.onSceneGraphChange=()=>{var e;null===(e=this.controllers.outliner)||void 0===e||e.dispose(),this.controllers.outliner=new nM(this.guiParent)},this.onObjectSelected=e=>{var t;ee.state.activeObject=e.object,null===(t=this.controllers.mesh)||void 0===t||t.dispose(),this.controllers.mesh=new nw(this.guiParent)},t_.addEventListener(h.ObjectSelected,this.onObjectSelected),t_.addEventListener(h.SceneChanged,this.onSceneChange),t_.addEventListener(h.SceneGraphChanged,this.onSceneGraphChange),this.onSceneChange({scene:ee.state.scene,camera:ee.state.camera,controls:ee.state.controls}),this.onObjectSelected({object:ee.state.activeObject})}}class nk extends X.pBf{async setup(e){await new Promise((t,i)=>{try{iC.setup(iZ,iQ.baseUrl),e.appendChild(iZ.domElement),this.resize(e.offsetWidth,e.offsetHeight),this.render(!0),td.addEventListener("change",this.onStateChange),td.trigger(()=>{this.onStateChange({state:td.state,prev:td.prev},!0)}),t(null)}catch(e){i(e)}})}onValuesChange(e){td.setState(e)}async changeScene(e){await sX.changeScene(e)}dispose(){sX.dispose(),iU.dispose()}constructor(...e){super(...e),this.clock=new X.SUY(!0),this.delta=0,this.rafId=0,this.isRendering=!1,this.initialized=!1,this.resize=(e,t)=>{iU.resize(e,t),sX.scenes[w.jY.Preloader]&&sX.scenes[w.jY.Preloader].resize(e,t)},this.render=e=>{this.isRendering!==e&&(this.isRendering=e,e?this.update(0):cancelAnimationFrame(this.rafId))},this.update=e=>{this.rafId=requestAnimationFrame(this.update),i7.update(),iU.render(this.clock.getDelta())},this.onStateChange=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(e.state.sound!==e.prev.sound||t)&&eH.toggle(e.state.sound)}}}class nP{constructor(e){var t=this;if(this.webglApp=e,this.onStateChange=function(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.rightPanel&&b.ZP.to(t.rightPanel.containerElem_,{autoAlpha:e.state.settings?1:0,duration:i?0:w.Zo,ease:w.UT})},ee.state.renderer=iZ,ee.state.camera=sX.scene.cameras.dev,ee.state.scene=sX.scene.scene,ee.state.controls=sX.scene.controls,ee.state.activeObject=sX.scene.scene,!iQ.prodGUI){let e=new i4.X6({title:"Editor"});e.containerElem_.classList.add("gui-webgl-left-panel"),e.containerElem_.classList.add("gui-webgl-scrollbar"),new nS(e)}if(this.rightPanel=new i4.X6({title:"OL Labs - Virtual Car Showroom"}),this.rightPanel.containerElem_.classList.add("gui-webgl-right-panel"),this.rightPanel.containerElem_.classList.add("gui-webgl-scrollbar"),!iQ.prodGUI){if(new iX(this.rightPanel,iQ),new iV(this.rightPanel,iU),new eN(this.rightPanel,eH),iU.settings.stats){let e=new i8(this.rightPanel,iU.renderer,iU.stats);iU.addEventListener("update",e.update)}new sq(this.rightPanel,sX)}if(new th(this.rightPanel,td),iQ.prodGUI&&iU.settings.stats){let e=new i8(this.rightPanel,iU.renderer,iU.stats);iU.addEventListener("update",e.update)}td.addEventListener("change",this.onStateChange),td.trigger(()=>{this.onStateChange({state:td.state,prev:td.prev},!0)})}}function nj(){let e=(0,v.useRef)(null),t=(0,v.useRef)(null),i=(0,v.useRef)(null),a=(0,v.useRef)(null),s=(0,v.useRef)(null),n=(0,v.useRef)(null),o=(0,v.useRef)(null),{legal:r,setLegal:l,sceneState:d,carModel:h}=(0,x.b)();i3(n),i2(),(0,v.useEffect)(()=>{let e=()=>{r&&l(!1)};return r&&document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[r]),(0,v.useEffect)(()=>{b.ZP.to([i.current,o.current],{duration:w.Zo,autoAlpha:d===w.ou.Interaction?1:0,delay:d===w.ou.Interaction?1:0,force3D:!0,ease:w.UT})},[d]);let c=e=>{e.stopPropagation(),l(!r)};return(0,v.useEffect)(()=>{let i=e.current;if(!i)return()=>{};if(!s.current){s.current=!0,n.current=new nk;let e=()=>{n.current.setup(i).then(()=>{var e;null===(e=n.current)||void 0===e||e.onValuesChange({carModel:h}),n.current&&(new nP(n.current),n.current.changeScene(w.jY.Landing).then(()=>{}).catch(e=>{console.error(e)}))}).catch(e=>{console.error(e)})};return b.ZP.to([a.current,t.current],{autoAlpha:1,delay:1,onComplete:()=>{b.ZP.to(a.current,{autoAlpha:0,delay:3,onComplete:e,duration:w.Zo,ease:w.mA})}}),window.addEventListener("resize",()=>{var e;null===(e=n.current)||void 0===e||e.resize(i.offsetWidth,i.offsetHeight)}),()=>{}}},[]),(0,f.jsxs)("div",{children:[(0,f.jsx)(i1,{}),(0,f.jsx)(y(),{href:"https://labs.otherlife.xyz",ref:t,style:{opacity:"0",visibility:"hidden"},children:(0,f.jsx)(A,{})}),(0,f.jsx)("div",{id:"screenshot-flash"}),(0,f.jsx)("div",{className:"webgl-app",ref:e}),(0,f.jsx)("div",{id:"skip",className:"button skip",style:{opacity:"0"},children:"Skip intro"}),(0,f.jsx)("button",{id:"legal",ref:i,className:"button legal",style:{opacity:"0",visibility:"hidden"},onClick:c,children:"Legal"}),(0,f.jsx)(y(),{href:"https://okaydev.co/articles/introducing-otherlife-labs-a-world-for-limitless-creation",target:"_blank",rel:"noopener noreferrer",id:"case-study",ref:o,className:"button case-study",style:{opacity:"0",visibility:"hidden"},onClick:c,children:"Case Study"}),(0,f.jsxs)("div",{id:"disclaimer",ref:a,style:{opacity:"0",visibility:"hidden"},children:[(0,f.jsx)("p",{children:"The car models featured in this experience are not affiliated with, endorsed by, or officially licensed by any automobile brand."}),(0,f.jsx)("p",{children:"They are used purely for demonstrative and artistic purposes."})]}),(0,f.jsx)(eV,{}),(0,f.jsx)(eG,{})]})}}}]);