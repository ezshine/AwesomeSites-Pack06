class n{constructor(t,e,s,h,i=!0){this.field=t,this.lines=e,this.pattern=s,this.changeInterval=h,this.clearText=i,this.text=[],this.changeCounter=0,this.letters="abcdefghijklmnopqrstuvwxyz",this.numbers="0123456789",this.generateLines(!0)}destroy(){this.field=null,this.text=null}render(){this.changeCounter++,this.changeCounter>=this.changeInterval&&(this.changeCounter=0,this.generateLines())}generateLines(t=!1){let e,s="";if(this.clearText)for(e=0;e<this.lines;e++)s+=this.generateLine()+"<br>";else{if(t)for(e=0;e<this.lines;e++)this.text.push(this.generateLine()+"<br>");else this.text.length==this.lines&&this.text.shift(),this.text.push(this.generateLine()+"<br>");for(e=0;e<this.text.length;e++)s+=this.text[e]}this.field.innerHTML=s}generateLine(){let t=this.pattern.length,e,s="",h="";for(let i=0;i<t;i++)e=this.pattern.substr(i,1),e==="a"?s=this.letters.substr(Math.floor(Math.random()*26),1):e==="A"?s=this.letters.substr(Math.floor(Math.random()*26),1).toUpperCase():e==="1"?s=this.numbers.substr(Math.floor(Math.random()*10),1):s=e,h+=s;return h}}class a{constructor(t=!1){this.isSvgElement=t}initHorizontal(t,e,s,h,i=!1){this.view=t,this.xSpeed=e,this.xStart=s,this.xEnd=h,this.doBounce=i}initVertical(t,e,s,h,i=!1){this.view=t,this.ySpeed=e,this.yStart=s,this.yEnd=h,this.doBounce=i}destroy(){this.view=null}render(){if(this.ySpeed){let t;this.isSvgElement?t=parseInt(this.view.getAttribute("y")):t=parseInt(this.view.style.top,10),(isNaN(t)||t==null||t==null)&&(t=0),t+=this.ySpeed,this.doBounce?t>this.yEnd?this.ySpeed=-Math.abs(this.ySpeed):t<this.yStart&&(this.ySpeed=Math.abs(this.ySpeed)):t>this.yEnd?t-=this.yEnd-this.yStart:t<this.yStart&&(t+=this.yEnd-this.yStart),this.isSvgElement?this.view.setAttribute("y",t):this.view.style.top=t+"px"}if(this.xSpeed){let t;this.isSvgElement?t=parseInt(this.view.getAttribute("x")):t=parseInt(this.view.style.left,10),(isNaN(t)||t==null||t==null)&&(t=0),t+=this.xSpeed,this.doBounce?t>this.xEnd?this.xSpeed=-Math.abs(this.xSpeed):t<this.xStart&&(this.xSpeed=Math.abs(this.xSpeed)):t>this.xEnd?t-=this.xEnd-this.xStart:t<this.xStart&&(t+=this.xEnd-this.xStart),this.isSvgElement?this.view.setAttribute("x",t):this.view.style.left=t+"px"}}}class l{constructor(t=null){this.stack=[],t&&this.add(t)}add(t){Array.isArray(t)?this.stack=this.stack.concat(t):this.stack.push(t)}remove(t){if(Array.isArray(t))for(let e of t)this.stack=Array.removeElement(this.stack,e);else this.stack=Array.removeElement(this.stack,t)}removeAll(){this.stack=[]}render(){for(let t of this.stack)t.render()}}export{n as C,l as R,a as S};
