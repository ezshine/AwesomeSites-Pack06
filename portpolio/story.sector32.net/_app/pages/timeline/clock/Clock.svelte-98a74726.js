import{O as X,S as Oe,i as Ye,s as Ce,e as m,j as f,k as b,c as d,a as h,m as $,d as i,n as D,b as g,f as Re,I as n,o as k,J as We,x as S,u as p,v as y,H as Se,A as Ue}from"../../../chunks/vendor-e41d84ae.js";import{r as Le,m as Pe,a as Be}from"../../../chunks/main.store-b2f445ba.js";import{O as Je}from"../../../chunks/objectWrapper-56890d06.js";import Xe from"./svg/Svg_1_background.svelte-a4e7445a.js";import Fe from"./svg/Svg_2_earth.svelte-fc648529.js";import Ze from"./svg/Svg_3_hours_edge.svelte-6b217f9c.js";import Ge from"./svg/Svg_4_hours_hand.svelte-ef407671.js";import Ke from"./svg/Svg_5_minutes_edge.svelte-c0057926.js";import Qe from"./svg/Svg_6_minutes_hand.svelte-c6ee670a.js";import et from"./svg/Svg_7_seconds_hand.svelte-1b29b577.js";import tt from"./svg/Svg_7_2_moon_hand.svelte-5a6fd1a6.js";import st from"./svg/Svg_8_center_bg.svelte-33388d0d.js";import at from"./svg/Svg_9_weekdays_bg.svelte-353281bf.js";import nt from"./svg/Svg_10_weekdays_handle.svelte-1c815223.js";import ot from"./svg/Svg_11_days_bg.svelte-8d757600.js";import _t from"./svg/Svg_12_months_bg.svelte-b74a9132.js";import rt from"./svg/Svg_13_moon_small_hand.svelte-06eb4724.js";import it from"./svg/Svg_14_sun_small_hand.svelte-cc3830a2.js";import lt from"./svg/Svg_14_2_date_small_hand.svelte-89b70ba3.js";import ct from"./svg/Svg_15_center.svelte-096386c8.js";class mt{constructor(){this.wrapper=document.querySelector(".clock__wrapper"),this.clock=document.querySelector(".clock"),this.handSec=document.querySelector(".clock__hand__seconds svg"),this.handSec=document.querySelector(".clock__hand__seconds svg"),this.handMin=document.querySelector(".clock__hand__minutes svg"),this.handHours=document.querySelector(".clock__hand__hours svg"),this.topTimeBig=document.querySelector(".time__top__text--timeBig"),this.topTimeSmall=document.querySelector(".time__top__text--timeSmall"),this.topMonth=document.querySelector(".time__top__text--month"),this.topDate=document.querySelector(".time__top__text--date"),this.topDay=document.querySelector(".time__top__text--day"),this.center=document.querySelector(".clock__center"),this.handMoon=document.querySelector(".clock__hand__moon svg"),this.handWeekday=document.querySelector(".clock__hand__weekdays svg"),this.handMoonSmall=document.querySelector(".clock__hand__moon__small svg"),this.handSunSmall=document.querySelector(".clock__hand__sun__small svg"),this.handDateSmall=document.querySelector(".clock__hand__date__small svg"),this.moonMask=this.handMoonSmall.querySelector("#moonMask"),this.timeshift=this.slowTimeShift=0;let s=["clock__background","clock__earth","clock__hours","clock__hand__hours","clock__minutes","clock__hand__minutes","clock__hand__seconds","clock__hand__moon","clock__top__center","clock__center__bg","clock__weekdays__bg","clock__hand__weekdays","clock__days__bg","clock__months__bg","clock__hand__moon__small","clock__hand__sun__small","clock__hand__date__small"];this.dayInMinutes=60*24,this.showHideItems=[];for(let e=0;e<s.length;e++)this.showHideItems.push(document.querySelector("."+s[e]))}show(s,e){this.localLoop=this.loop.bind(this),this.loop(),this.animate=s,s.register(this.localLoop);for(let a=0;a<this.showHideItems.length;a++){let o=this.showHideItems[a];o.style.opacity=1,X.from(o,{duration:1,delay:a*.08,scale:.5,alpha:0,rotation:-110,ease:"back.out"})}X.from(this.clock,{duration:2.2,rotationX:-360,rotationY:-0,rotationZ:180,ease:"back.out"}),setTimeout(e,1700)}hide(s){this.callback=s,this.animate.unregister(this.localLoop);var e=15;for(let o=0;o<this.showHideItems.length;o++){let I=this.showHideItems[o];var a=o*e-this.showHideItems.length*.5*e;I.style.opacity=1,X.to(I,{duration:.7,delay:o*.022,scale:.75,rotation:-90,ease:"back.out",z:a})}X.to(this.clock,{duration:2,rotationX:40,rotationY:30,ease:"back.out"}),setTimeout(this.hideStep2.bind(this),1e3)}shake(){X.set(this.clock,{rotationX:0,rotationY:0,rotationZ:0}),X.from(this.clock,{duration:1.5,rotationX:0,rotationY:-15,rotationZ:0,ease:"elastic.out"})}hideStep2(){var s=80;for(let a=0;a<this.showHideItems.length;a++){let o=this.showHideItems[a];var e=a*s-this.showHideItems.length*.4*s;X.to(o,{duration:.35,delay:a*.01,ease:"back.in",scale:0,z:e})}setTimeout(this.callback,800)}loop(){this.setData()}setDate(s){this.endDate=s}setTimeShift(s){let e=-1+s*2,o=Math.round(e*90*this.dayInMinutes)*60*1e3;this.timeshift=o}setData(){let s=this.timeshift-this.slowTimeShift;this.slowTimeShift+=s*.29;let e=new Date,a=new Date(e.getTime()+this.slowTimeShift);this.endDate&&(a=this.endDate);let o=e.getMilliseconds(),I=e.getSeconds(),u=e.getMinutes(),_=e.getHours()+a.getHours();_>=24&&(_-=24);let M=a.getDate();if(this.ms!=o&&(this.ms=o,this.topTimeSmall.innerText=`:${Number.pad(o,3)}`),this.sec!=I&&(this.sec=I,this.handSec.style.transform=`rotate(${e.getSeconds()*6}deg)`,this.topTimeBig.innerText=`${Number.pad(_,2)}:${Number.pad(u,2)}:${Number.pad(I,2)}`),this.min!=u&&(this.min=u,this.handMin.style.transform=`rotate(${u*6}deg)`),this.hour!=_){this.hour=_;let T=180+(_+u/60)*15;this.handHours.style.transform=`rotate(${T}deg)`;let x=dt(2020),v=gt(a),q=v/x,N=this.normalizeAngle(180+q*360);this.center.style.transform=`rotate(${N}deg)`;let V=x/12,j=(v+_/24+u/(24*60))%V/V,F=this.normalizeAngle(-j*360);this.handMoon.style.transform=`rotate(${F}deg)`,this.moonMask.style.x=25.5-38*j;let A=360/31;this.handDateSmall.style.transform=`rotate(${-(M-1)*A}deg)`;let H=a.getDay(),Z=360/7;this.handWeekday.style.transform=`rotate(${-Z+H*Z}deg)`,this.setSmallHand(this.handMoonSmall,this.normalizeAngle(F-N)),this.setSmallHand(this.handSunSmall,this.normalizeAngle(T-N))}this.date!=M&&(this.date=M,this.topMonth.innerText=ut(a.getMonth()),this.topDate.innerText=Number.pad(M,2),this.topDay.innerText=$t(a.getDay()))}setSmallHand(s,e){let a=Math.sin(Math.degreesToRadians(e))*22.5;s.style.transform=`rotate(${e+a}deg)`}normalizeAngle(s){return s>360?s-360:s<0?s+360:s}}function dt(r){return ht(r)?366:365}function ht(r){return r%400==0||r%100!=0&&r%4==0}function gt(r){let s=new Date(r.getFullYear(),0,0),e=r-s+(s.getTimezoneOffset()-r.getTimezoneOffset())*60*1e3,a=1e3*60*60*24;return Math.floor(e/a)}let vt=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];function ut(r){return vt[r]}let ft=["SUN","MON","TUE","WED","THU","FRI","SAT"];function $t(r){return ft[r]}function kt(r){let s,e,a,o,I,u,_,M,T,E,x,v,q,N,V,j,F,A,H,Z,G,z,ce,K,O,me,l,Q,Y,de,ee,C,he,te,R,ge,se,W,ve,ae,U,ue,ne,L,fe,oe,P,$e,_e,B,ke,re,J,ie;return o=new Xe({}),_=new Fe({}),E=new Ze({}),q=new Ge({}),j=new Ke({}),H=new Qe({}),z=new et({}),O=new tt({}),Y=new st({}),C=new at({}),R=new nt({}),W=new ot({}),U=new _t({}),L=new rt({}),P=new it({}),B=new lt({}),J=new ct({}),{c(){s=m("div"),e=m("div"),a=m("div"),f(o.$$.fragment),I=b(),u=m("div"),f(_.$$.fragment),M=b(),T=m("div"),f(E.$$.fragment),x=b(),v=m("div"),f(q.$$.fragment),N=b(),V=m("div"),f(j.$$.fragment),F=b(),A=m("div"),f(H.$$.fragment),Z=b(),G=m("div"),f(z.$$.fragment),ce=b(),K=m("div"),f(O.$$.fragment),me=b(),l=m("div"),Q=m("div"),f(Y.$$.fragment),de=b(),ee=m("div"),f(C.$$.fragment),he=b(),te=m("div"),f(R.$$.fragment),ge=b(),se=m("div"),f(W.$$.fragment),ve=b(),ae=m("div"),f(U.$$.fragment),ue=b(),ne=m("div"),f(L.$$.fragment),fe=b(),oe=m("div"),f(P.$$.fragment),$e=b(),_e=m("div"),f(B.$$.fragment),ke=b(),re=m("div"),f(J.$$.fragment),this.h()},l(t){s=d(t,"DIV",{class:!0});var le=h(s);e=d(le,"DIV",{class:!0});var c=h(e);a=d(c,"DIV",{class:!0});var pe=h(a);$(o.$$.fragment,pe),pe.forEach(i),I=D(c),u=d(c,"DIV",{class:!0});var ye=h(u);$(_.$$.fragment,ye),ye.forEach(i),M=D(c),T=d(c,"DIV",{class:!0});var we=h(T);$(E.$$.fragment,we),we.forEach(i),x=D(c),v=d(c,"DIV",{class:!0});var be=h(v);$(q.$$.fragment,be),be.forEach(i),N=D(c),V=d(c,"DIV",{class:!0});var De=h(V);$(j.$$.fragment,De),De.forEach(i),F=D(c),A=d(c,"DIV",{class:!0});var Ie=h(A);$(H.$$.fragment,Ie),Ie.forEach(i),Z=D(c),G=d(c,"DIV",{class:!0});var Me=h(G);$(z.$$.fragment,Me),Me.forEach(i),ce=D(c),K=d(c,"DIV",{class:!0});var Te=h(K);$(O.$$.fragment,Te),Te.forEach(i),me=D(c),l=d(c,"DIV",{class:!0});var w=h(l);Q=d(w,"DIV",{class:!0});var Ee=h(Q);$(Y.$$.fragment,Ee),Ee.forEach(i),de=D(w),ee=d(w,"DIV",{class:!0});var je=h(ee);$(C.$$.fragment,je),je.forEach(i),he=D(w),te=d(w,"DIV",{class:!0});var qe=h(te);$(R.$$.fragment,qe),qe.forEach(i),ge=D(w),se=d(w,"DIV",{class:!0});var Ve=h(se);$(W.$$.fragment,Ve),Ve.forEach(i),ve=D(w),ae=d(w,"DIV",{class:!0});var He=h(ae);$(U.$$.fragment,He),He.forEach(i),ue=D(w),ne=d(w,"DIV",{class:!0});var xe=h(ne);$(L.$$.fragment,xe),xe.forEach(i),fe=D(w),oe=d(w,"DIV",{class:!0});var Ae=h(oe);$(P.$$.fragment,Ae),Ae.forEach(i),$e=D(w),_e=d(w,"DIV",{class:!0});var Ne=h(_e);$(B.$$.fragment,Ne),Ne.forEach(i),w.forEach(i),ke=D(c),re=d(c,"DIV",{class:!0});var ze=h(re);$(J.$$.fragment,ze),ze.forEach(i),c.forEach(i),le.forEach(i),this.h()},h(){g(a,"class","clock__item clock__background svelte-ta6c73"),g(u,"class","clock__item clock__earth svelte-ta6c73"),g(T,"class","clock__item clock__hours svelte-ta6c73"),g(v,"class","clock__item clock__hand__hours svelte-ta6c73"),g(V,"class","clock__item clock__minutes svelte-ta6c73"),g(A,"class","clock__item clock__hand__minutes svelte-ta6c73"),g(G,"class","clock__item clock__hand__seconds svelte-ta6c73"),g(K,"class","clock__item clock__hand__moon svelte-ta6c73"),g(Q,"class","clock__item clock__center__bg svelte-ta6c73"),g(ee,"class","clock__item clock__weekdays__bg svelte-ta6c73"),g(te,"class","clock__item clock__hand__weekdays svelte-ta6c73"),g(se,"class","clock__item clock__days__bg svelte-ta6c73"),g(ae,"class","clock__item clock__months__bg svelte-ta6c73"),g(ne,"class","clock__item clock__hand__moon__small svelte-ta6c73"),g(oe,"class","clock__item clock__hand__sun__small svelte-ta6c73"),g(_e,"class","clock__item clock__hand__date__small svelte-ta6c73"),g(l,"class","clock__center svelte-ta6c73"),g(re,"class","clock__item clock__top__center svelte-ta6c73"),g(e,"class","clock svelte-ta6c73"),g(s,"class","clock__wrapper svelte-ta6c73")},m(t,le){Re(t,s,le),n(s,e),n(e,a),k(o,a,null),n(e,I),n(e,u),k(_,u,null),n(e,M),n(e,T),k(E,T,null),n(e,x),n(e,v),k(q,v,null),n(e,N),n(e,V),k(j,V,null),n(e,F),n(e,A),k(H,A,null),n(e,Z),n(e,G),k(z,G,null),n(e,ce),n(e,K),k(O,K,null),n(e,me),n(e,l),n(l,Q),k(Y,Q,null),n(l,de),n(l,ee),k(C,ee,null),n(l,he),n(l,te),k(R,te,null),n(l,ge),n(l,se),k(W,se,null),n(l,ve),n(l,ae),k(U,ae,null),n(l,ue),n(l,ne),k(L,ne,null),n(l,fe),n(l,oe),k(P,oe,null),n(l,$e),n(l,_e),k(B,_e,null),n(e,ke),n(e,re),k(J,re,null),ie=!0},p:We,i(t){ie||(S(o.$$.fragment,t),S(_.$$.fragment,t),S(E.$$.fragment,t),S(q.$$.fragment,t),S(j.$$.fragment,t),S(H.$$.fragment,t),S(z.$$.fragment,t),S(O.$$.fragment,t),S(Y.$$.fragment,t),S(C.$$.fragment,t),S(R.$$.fragment,t),S(W.$$.fragment,t),S(U.$$.fragment,t),S(L.$$.fragment,t),S(P.$$.fragment,t),S(B.$$.fragment,t),S(J.$$.fragment,t),ie=!0)},o(t){p(o.$$.fragment,t),p(_.$$.fragment,t),p(E.$$.fragment,t),p(q.$$.fragment,t),p(j.$$.fragment,t),p(H.$$.fragment,t),p(z.$$.fragment,t),p(O.$$.fragment,t),p(Y.$$.fragment,t),p(C.$$.fragment,t),p(R.$$.fragment,t),p(W.$$.fragment,t),p(U.$$.fragment,t),p(L.$$.fragment,t),p(P.$$.fragment,t),p(B.$$.fragment,t),p(J.$$.fragment,t),ie=!1},d(t){t&&i(s),y(o),y(_),y(E),y(q),y(j),y(H),y(z),y(O),y(Y),y(C),y(R),y(W),y(U),y(L),y(P),y(B),y(J)}}}function St(r,s,e){let a,o,I;Se(r,Le,v=>e(7,a=v)),Se(r,Pe,v=>e(8,o=v)),Se(r,Be,v=>e(9,I=v));let{date:u}=s,_,M;Ue(()=>{});function T(){e(4,_=new mt),M=setTimeout(()=>{_.show(I)},200),new Je(o,a,document.querySelector(".clock__wrapper"),500,500,10,86,1)}function E(){clearTimeout(M),_&&_.hide()}function x(){_&&_.shake()}return r.$$set=v=>{"date"in v&&e(0,u=v.date)},r.$$.update=()=>{r.$$.dirty&17&&_&&_.setDate(u)},[u,T,E,x,_]}class Rt extends Oe{constructor(s){super();Ye(this,s,St,kt,Ce,{date:0,show:1,hide:2,shake:3})}get show(){return this.$$.ctx[1]}get hide(){return this.$$.ctx[2]}get shake(){return this.$$.ctx[3]}}export{Rt as default};
